var N3=Object.defineProperty,L3=Object.defineProperties;var H3=Object.getOwnPropertyDescriptors;var lA=Object.getOwnPropertySymbols;var F3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable;var uA=(e,n,t)=>n in e?N3(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ii=(e,n)=>{for(var t in n||(n={}))F3.call(n,t)&&uA(e,t,n[t]);if(lA)for(var t of lA(n))B3.call(n,t)&&uA(e,t,n[t]);return e},gb=(e,n)=>L3(e,H3(n));var Fn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $h(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V3={exports:{}},pb={exports:{}};/*!
  * Bootstrap event-handler.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,r){e.exports=r()})(Fn,function(){const t=()=>{const{jQuery:$}=window;return $&&!document.body.hasAttribute("data-bs-no-jquery")?$:null},r=/[^.]*(?=\..*)\.|.*/,i=/\..*/,o=/::\d+$/,a={};let s=1;const l={mouseenter:"mouseover",mouseleave:"mouseout"},u=/^(mouseenter|mouseleave)/i,c=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function f($,D){return D&&`${D}::${s++}`||$.uidEvent||s++}function h($){const D=f($);return $.uidEvent=D,a[D]=a[D]||{},a[D]}function d($,D){return function Y(L){return L.delegateTarget=$,Y.oneOff&&k.off($,L.type,D),D.apply($,[L])}}function g($,D,Y){return function L(X){const te=$.querySelectorAll(D);for(let{target:oe}=X;oe&&oe!==this;oe=oe.parentNode)for(let ie=te.length;ie--;)if(te[ie]===oe)return X.delegateTarget=oe,L.oneOff&&k.off($,X.type,D,Y),Y.apply(oe,[X]);return null}}function p($,D,Y=null){const L=Object.keys($);for(let X=0,te=L.length;X<te;X++){const oe=$[L[X]];if(oe.originalHandler===D&&oe.delegationSelector===Y)return oe}return null}function v($,D,Y){const L=typeof D=="string",X=L?Y:D;let te=E($);return c.has(te)||(te=$),[L,X,te]}function m($,D,Y,L,X){if(typeof D!="string"||!$)return;if(Y||(Y=L,L=null),u.test(D)){const A=N=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return N.call(this,I)};L?L=A(L):Y=A(Y)}const[te,oe,ie]=v(D,Y,L),de=h($),y=de[ie]||(de[ie]={}),S=p(y,oe,te?Y:null);if(S){S.oneOff=S.oneOff&&X;return}const b=f(oe,D.replace(r,"")),_=te?g($,Y,L):d($,Y);_.delegationSelector=te?Y:null,_.originalHandler=oe,_.oneOff=X,_.uidEvent=b,y[b]=_,$.addEventListener(ie,_,te)}function w($,D,Y,L,X){const te=p(D[Y],L,X);!te||($.removeEventListener(Y,te,Boolean(X)),delete D[Y][te.uidEvent])}function C($,D,Y,L){const X=D[Y]||{};Object.keys(X).forEach(te=>{if(te.includes(L)){const oe=X[te];w($,D,Y,oe.originalHandler,oe.delegationSelector)}})}function E($){return $=$.replace(i,""),l[$]||$}const k={on($,D,Y,L){m($,D,Y,L,!1)},one($,D,Y,L){m($,D,Y,L,!0)},off($,D,Y,L){if(typeof D!="string"||!$)return;const[X,te,oe]=v(D,Y,L),ie=oe!==D,de=h($),y=D.startsWith(".");if(typeof te!="undefined"){if(!de||!de[oe])return;w($,de,oe,te,X?Y:null);return}y&&Object.keys(de).forEach(b=>{C($,de,b,D.slice(1))});const S=de[oe]||{};Object.keys(S).forEach(b=>{const _=b.replace(o,"");if(!ie||D.includes(_)){const A=S[b];w($,de,oe,A.originalHandler,A.delegationSelector)}})},trigger($,D,Y){if(typeof D!="string"||!$)return null;const L=t(),X=E(D),te=D!==X,oe=c.has(X);let ie,de=!0,y=!0,S=!1,b=null;return te&&L&&(ie=L.Event(D,Y),L($).trigger(ie),de=!ie.isPropagationStopped(),y=!ie.isImmediatePropagationStopped(),S=ie.isDefaultPrevented()),oe?(b=document.createEvent("HTMLEvents"),b.initEvent(X,de,!0)):b=new CustomEvent(D,{bubbles:de,cancelable:!0}),typeof Y!="undefined"&&Object.keys(Y).forEach(_=>{Object.defineProperty(b,_,{get(){return Y[_]}})}),S&&b.preventDefault(),y&&$.dispatchEvent(b),b.defaultPrevented&&typeof ie!="undefined"&&ie.preventDefault(),b}};return k})})(pb);var cA={exports:{}};/*!
  * Bootstrap manipulator.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,r){e.exports=r()})(Fn,function(){function t(o){return o==="true"?!0:o==="false"?!1:o===Number(o).toString()?Number(o):o===""||o==="null"?null:o}function r(o){return o.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}return{setDataAttribute(o,a,s){o.setAttribute(`data-bs-${r(a)}`,s)},removeDataAttribute(o,a){o.removeAttribute(`data-bs-${r(a)}`)},getDataAttributes(o){if(!o)return{};const a={};return Object.keys(o.dataset).filter(s=>s.startsWith("bs")).forEach(s=>{let l=s.replace(/^bs/,"");l=l.charAt(0).toLowerCase()+l.slice(1,l.length),a[l]=t(o.dataset[s])}),a},getDataAttribute(o,a){return t(o.getAttribute(`data-bs-${r(a)}`))},offset(o){const a=o.getBoundingClientRect();return{top:a.top+window.pageYOffset,left:a.left+window.pageXOffset}},position(o){return{top:o.offsetTop,left:o.offsetLeft}}}})})(cA);var fA={exports:{}};/*!
  * Bootstrap selector-engine.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,r){e.exports=r()})(Fn,function(){const t=s=>!s||typeof s!="object"?!1:(typeof s.jquery!="undefined"&&(s=s[0]),typeof s.nodeType!="undefined"),r=s=>!t(s)||s.getClientRects().length===0?!1:getComputedStyle(s).getPropertyValue("visibility")==="visible",i=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled!="undefined"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",o=3;return{find(s,l=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(l,s))},findOne(s,l=document.documentElement){return Element.prototype.querySelector.call(l,s)},children(s,l){return[].concat(...s.children).filter(u=>u.matches(l))},parents(s,l){const u=[];let c=s.parentNode;for(;c&&c.nodeType===Node.ELEMENT_NODE&&c.nodeType!==o;)c.matches(l)&&u.push(c),c=c.parentNode;return u},prev(s,l){let u=s.previousElementSibling;for(;u;){if(u.matches(l))return[u];u=u.previousElementSibling}return[]},next(s,l){let u=s.nextElementSibling;for(;u;){if(u.matches(l))return[u];u=u.nextElementSibling}return[]},focusableChildren(s){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(u=>`${u}:not([tabindex^="-"])`).join(", ");return this.find(l,s).filter(u=>!i(u)&&r(u))}}})})(fA);var hA={exports:{}},dA={exports:{}};/*!
  * Bootstrap data.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,r){e.exports=r()})(Fn,function(){const t=new Map;return{set(i,o,a){t.has(i)||t.set(i,new Map);const s=t.get(i);if(!s.has(o)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(o,a)},get(i,o){return t.has(i)&&t.get(i).get(o)||null},remove(i,o){if(!t.has(i))return;const a=t.get(i);a.delete(o),a.size===0&&t.delete(i)}}})})(dA);/*!
  * Bootstrap base-component.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,r){e.exports=r(dA.exports,pb.exports)})(Fn,function(t,r){const i=m=>m&&typeof m=="object"&&"default"in m?m:{default:m},o=i(t),a=i(r),s=1e3,l="transitionend",u=m=>{if(!m)return 0;let{transitionDuration:w,transitionDelay:C}=window.getComputedStyle(m);const E=Number.parseFloat(w),k=Number.parseFloat(C);return!E&&!k?0:(w=w.split(",")[0],C=C.split(",")[0],(Number.parseFloat(w)+Number.parseFloat(C))*s)},c=m=>{m.dispatchEvent(new Event(l))},f=m=>!m||typeof m!="object"?!1:(typeof m.jquery!="undefined"&&(m=m[0]),typeof m.nodeType!="undefined"),h=m=>f(m)?m.jquery?m[0]:m:typeof m=="string"&&m.length>0?document.querySelector(m):null,d=m=>{typeof m=="function"&&m()},g=(m,w,C=!0)=>{if(!C){d(m);return}const E=5,k=u(w)+E;let $=!1;const D=({target:Y})=>{Y===w&&($=!0,w.removeEventListener(l,D),d(m))};w.addEventListener(l,D),setTimeout(()=>{$||c(w)},k)},p="5.1.3";class v{constructor(w){w=h(w),!!w&&(this._element=w,o.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.default.remove(this._element,this.constructor.DATA_KEY),a.default.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(w=>{this[w]=null})}_queueCallback(w,C,E=!0){g(w,C,E)}static getInstance(w){return o.default.get(h(w),this.DATA_KEY)}static getOrCreateInstance(w,C={}){return this.getInstance(w)||new this(w,typeof C=="object"?C:null)}static get VERSION(){return p}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}return v})})(hA);/*!
  * Bootstrap modal.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,n){(function(t,r){e.exports=r(pb.exports,cA.exports,fA.exports,hA.exports)})(Fn,function(t,r,i,o){const a=_e=>_e&&typeof _e=="object"&&"default"in _e?_e:{default:_e},s=a(t),l=a(r),u=a(i),c=a(o),f=1e3,h="transitionend",d=_e=>_e==null?`${_e}`:{}.toString.call(_e).match(/\s([a-z]+)/i)[1].toLowerCase(),g=_e=>{let le=_e.getAttribute("data-bs-target");if(!le||le==="#"){let he=_e.getAttribute("href");if(!he||!he.includes("#")&&!he.startsWith("."))return null;he.includes("#")&&!he.startsWith("#")&&(he=`#${he.split("#")[1]}`),le=he&&he!=="#"?he.trim():null}return le},p=_e=>{const le=g(_e);return le?document.querySelector(le):null},v=_e=>{if(!_e)return 0;let{transitionDuration:le,transitionDelay:he}=window.getComputedStyle(_e);const ke=Number.parseFloat(le),bt=Number.parseFloat(he);return!ke&&!bt?0:(le=le.split(",")[0],he=he.split(",")[0],(Number.parseFloat(le)+Number.parseFloat(he))*f)},m=_e=>{_e.dispatchEvent(new Event(h))},w=_e=>!_e||typeof _e!="object"?!1:(typeof _e.jquery!="undefined"&&(_e=_e[0]),typeof _e.nodeType!="undefined"),C=_e=>w(_e)?_e.jquery?_e[0]:_e:typeof _e=="string"&&_e.length>0?document.querySelector(_e):null,E=(_e,le,he)=>{Object.keys(he).forEach(ke=>{const bt=he[ke],Xt=le[ke],Mn=Xt&&w(Xt)?"element":d(Xt);if(!new RegExp(bt).test(Mn))throw new TypeError(`${_e.toUpperCase()}: Option "${ke}" provided type "${Mn}" but expected type "${bt}".`)})},k=_e=>!w(_e)||_e.getClientRects().length===0?!1:getComputedStyle(_e).getPropertyValue("visibility")==="visible",$=_e=>!_e||_e.nodeType!==Node.ELEMENT_NODE||_e.classList.contains("disabled")?!0:typeof _e.disabled!="undefined"?_e.disabled:_e.hasAttribute("disabled")&&_e.getAttribute("disabled")!=="false",D=_e=>{_e.offsetHeight},Y=()=>{const{jQuery:_e}=window;return _e&&!document.body.hasAttribute("data-bs-no-jquery")?_e:null},L=[],X=_e=>{document.readyState==="loading"?(L.length||document.addEventListener("DOMContentLoaded",()=>{L.forEach(le=>le())}),L.push(_e)):_e()},te=()=>document.documentElement.dir==="rtl",oe=_e=>{X(()=>{const le=Y();if(le){const he=_e.NAME,ke=le.fn[he];le.fn[he]=_e.jQueryInterface,le.fn[he].Constructor=_e,le.fn[he].noConflict=()=>(le.fn[he]=ke,_e.jQueryInterface)}})},ie=_e=>{typeof _e=="function"&&_e()},de=(_e,le,he=!0)=>{if(!he){ie(_e);return}const ke=5,bt=v(le)+ke;let Xt=!1;const Mn=({target:Xn})=>{Xn===le&&(Xt=!0,le.removeEventListener(h,Mn),ie(_e))};le.addEventListener(h,Mn),setTimeout(()=>{Xt||m(le)},bt)},y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",S=".sticky-top";class b{constructor(){this._element=document.body}getWidth(){const le=document.documentElement.clientWidth;return Math.abs(window.innerWidth-le)}hide(){const le=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",he=>he+le),this._setElementAttributes(y,"paddingRight",he=>he+le),this._setElementAttributes(S,"marginRight",he=>he-le)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(le,he,ke){const bt=this.getWidth(),Xt=Mn=>{if(Mn!==this._element&&window.innerWidth>Mn.clientWidth+bt)return;this._saveInitialAttribute(Mn,he);const Xn=window.getComputedStyle(Mn)[he];Mn.style[he]=`${ke(Number.parseFloat(Xn))}px`};this._applyManipulationCallback(le,Xt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(y,"paddingRight"),this._resetElementAttributes(S,"marginRight")}_saveInitialAttribute(le,he){const ke=le.style[he];ke&&l.default.setDataAttribute(le,he,ke)}_resetElementAttributes(le,he){const ke=bt=>{const Xt=l.default.getDataAttribute(bt,he);typeof Xt=="undefined"?bt.style.removeProperty(he):(l.default.removeDataAttribute(bt,he),bt.style[he]=Xt)};this._applyManipulationCallback(le,ke)}_applyManipulationCallback(le,he){w(le)?he(le):u.default.find(le,this._element).forEach(he)}isOverflowing(){return this.getWidth()>0}}const _={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},A={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},N="backdrop",I="fade",R="show",P=`mousedown.bs.${N}`;class H{constructor(le){this._config=this._getConfig(le),this._isAppended=!1,this._element=null}show(le){if(!this._config.isVisible){ie(le);return}this._append(),this._config.isAnimated&&D(this._getElement()),this._getElement().classList.add(R),this._emulateAnimation(()=>{ie(le)})}hide(le){if(!this._config.isVisible){ie(le);return}this._getElement().classList.remove(R),this._emulateAnimation(()=>{this.dispose(),ie(le)})}_getElement(){if(!this._element){const le=document.createElement("div");le.className=this._config.className,this._config.isAnimated&&le.classList.add(I),this._element=le}return this._element}_getConfig(le){return le=ii(ii({},_),typeof le=="object"?le:{}),le.rootElement=C(le.rootElement),E(N,le,A),le}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),s.default.on(this._getElement(),P,()=>{ie(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(s.default.off(this._element,P),this._element.remove(),this._isAppended=!1)}_emulateAnimation(le){de(le,this._getElement(),this._config.isAnimated)}}const V={trapElement:null,autofocus:!0},q={trapElement:"element",autofocus:"boolean"},K="focustrap",ue=".bs.focustrap",ge=`focusin${ue}`,fe=`keydown.tab${ue}`,be="Tab",Ee="forward",re="backward";class He{constructor(le){this._config=this._getConfig(le),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:le,autofocus:he}=this._config;this._isActive||(he&&le.focus(),s.default.off(document,ue),s.default.on(document,ge,ke=>this._handleFocusin(ke)),s.default.on(document,fe,ke=>this._handleKeydown(ke)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,s.default.off(document,ue))}_handleFocusin(le){const{target:he}=le,{trapElement:ke}=this._config;if(he===document||he===ke||ke.contains(he))return;const bt=u.default.focusableChildren(ke);bt.length===0?ke.focus():this._lastTabNavDirection===re?bt[bt.length-1].focus():bt[0].focus()}_handleKeydown(le){le.key===be&&(this._lastTabNavDirection=le.shiftKey?re:Ee)}_getConfig(le){return le=ii(ii({},V),typeof le=="object"?le:{}),E(K,le,q),le}}const Te=(_e,le="hide")=>{const he=`click.dismiss${_e.EVENT_KEY}`,ke=_e.NAME;s.default.on(document,he,`[data-bs-dismiss="${ke}"]`,function(bt){if(["A","AREA"].includes(this.tagName)&&bt.preventDefault(),$(this))return;const Xt=p(this)||this.closest(`.${ke}`);_e.getOrCreateInstance(Xt)[le]()})},Ue="modal",Me=".bs.modal",T=".data-api",M="Escape",F={backdrop:!0,keyboard:!0,focus:!0},Q={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},U=`hide${Me}`,J=`hidePrevented${Me}`,z=`hidden${Me}`,j=`show${Me}`,Z=`shown${Me}`,G=`resize${Me}`,ne=`click.dismiss${Me}`,pe=`keydown.dismiss${Me}`,Re=`mouseup.dismiss${Me}`,xe=`mousedown.dismiss${Me}`,Be=`click${Me}${T}`,qe="modal-open",Ye="fade",Ne="show",Ke="modal-static",yt=".modal.show",Gn=".modal-dialog",ir=".modal-body",Kn='[data-bs-toggle="modal"]';class Ct extends c.default{constructor(le,he){super(le);this._config=this._getConfig(he),this._dialog=u.default.findOne(Gn,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new b}static get Default(){return F}static get NAME(){return Ue}toggle(le){return this._isShown?this.hide():this.show(le)}show(le){this._isShown||this._isTransitioning||s.default.trigger(this._element,j,{relatedTarget:le}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(qe),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s.default.on(this._dialog,xe,()=>{s.default.one(this._element,Re,ke=>{ke.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(le)))}hide(){if(!this._isShown||this._isTransitioning||s.default.trigger(this._element,U).defaultPrevented)return;this._isShown=!1;const he=this._isAnimated();he&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Ne),s.default.off(this._element,ne),s.default.off(this._dialog,xe),this._queueCallback(()=>this._hideModal(),this._element,he)}dispose(){[window,this._dialog].forEach(le=>s.default.off(le,Me)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new H({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new He({trapElement:this._element})}_getConfig(le){return le=ii(ii(ii({},F),l.default.getDataAttributes(this._element)),typeof le=="object"?le:{}),E(Ue,le,Q),le}_showElement(le){const he=this._isAnimated(),ke=u.default.findOne(ir,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,ke&&(ke.scrollTop=0),he&&D(this._element),this._element.classList.add(Ne);const bt=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,s.default.trigger(this._element,Z,{relatedTarget:le})};this._queueCallback(bt,this._dialog,he)}_setEscapeEvent(){this._isShown?s.default.on(this._element,pe,le=>{this._config.keyboard&&le.key===M?(le.preventDefault(),this.hide()):!this._config.keyboard&&le.key===M&&this._triggerBackdropTransition()}):s.default.off(this._element,pe)}_setResizeEvent(){this._isShown?s.default.on(window,G,()=>this._adjustDialog()):s.default.off(window,G)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(qe),this._resetAdjustments(),this._scrollBar.reset(),s.default.trigger(this._element,z)})}_showBackdrop(le){s.default.on(this._element,ne,he=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}he.target===he.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(le)}_isAnimated(){return this._element.classList.contains(Ye)}_triggerBackdropTransition(){if(s.default.trigger(this._element,J).defaultPrevented)return;const{classList:he,scrollHeight:ke,style:bt}=this._element,Xt=ke>document.documentElement.clientHeight;!Xt&&bt.overflowY==="hidden"||he.contains(Ke)||(Xt||(bt.overflowY="hidden"),he.add(Ke),this._queueCallback(()=>{he.remove(Ke),Xt||this._queueCallback(()=>{bt.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const le=this._element.scrollHeight>document.documentElement.clientHeight,he=this._scrollBar.getWidth(),ke=he>0;(!ke&&le&&!te()||ke&&!le&&te())&&(this._element.style.paddingLeft=`${he}px`),(ke&&!le&&!te()||!ke&&le&&te())&&(this._element.style.paddingRight=`${he}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(le,he){return this.each(function(){const ke=Ct.getOrCreateInstance(this,le);if(typeof le=="string"){if(typeof ke[le]=="undefined")throw new TypeError(`No method named "${le}"`);ke[le](he)}})}}return s.default.on(document,Be,Kn,function(_e){const le=p(this);["A","AREA"].includes(this.tagName)&&_e.preventDefault(),s.default.one(le,j,bt=>{bt.defaultPrevented||s.default.one(le,z,()=>{k(this)&&this.focus()})});const he=u.default.findOne(yt);he&&Ct.getInstance(he).hide(),Ct.getOrCreateInstance(le).toggle(this)}),Te(Ct),oe(Ct),Ct})})(V3);var W3={exports:{}};(function(e,n){(function(t,r){r()})(Fn,function(){function t(u,c){return typeof c=="undefined"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,c,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Fn=="object"&&Fn.global===Fn?Fn:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,c,f){var h=a.URL||a.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?o(d):i(d.href)?r(u,c,f):o(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(t(u,f),c);else if(i(u))r(u,c,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){o(h)})}}:function(u,c,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var d=u.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&g||s)&&typeof FileReader!="undefined"){var v=new FileReader;v.onloadend=function(){var C=v.result;C=p?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=C:location=C,h=null},v.readAsDataURL(u)}else{var m=a.URL||a.webkitURL,w=m.createObjectURL(u);h?h.location=w:location.href=w,h=null,setTimeout(function(){m.revokeObjectURL(w)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(W3);var gA={exports:{}};(function(e,n){(function(t,r){r(n)})(Fn,function(t){const r={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10};class i extends Error{}const o={11:{name:"ProcessingSoftware",type:r.Ascii},254:{name:"NewSubfileType",type:r.Long},255:{name:"SubfileType",type:r.Short},256:{name:"ImageWidth",type:r.Long},257:{name:"ImageLength",type:r.Long},258:{name:"BitsPerSample",type:r.Short},259:{name:"Compression",type:r.Short},262:{name:"PhotometricInterpretation",type:r.Short},263:{name:"Threshholding",type:r.Short},264:{name:"CellWidth",type:r.Short},265:{name:"CellLength",type:r.Short},266:{name:"FillOrder",type:r.Short},269:{name:"DocumentName",type:r.Ascii},270:{name:"ImageDescription",type:r.Ascii},271:{name:"Make",type:r.Ascii},272:{name:"Model",type:r.Ascii},273:{name:"StripOffsets",type:r.Long},274:{name:"Orientation",type:r.Short},277:{name:"SamplesPerPixel",type:r.Short},278:{name:"RowsPerStrip",type:r.Long},279:{name:"StripByteCounts",type:r.Long},282:{name:"XResolution",type:r.Rational},283:{name:"YResolution",type:r.Rational},284:{name:"PlanarConfiguration",type:r.Short},290:{name:"GrayResponseUnit",type:r.Short},291:{name:"GrayResponseCurve",type:r.Short},292:{name:"T4Options",type:r.Long},293:{name:"T6Options",type:r.Long},296:{name:"ResolutionUnit",type:r.Short},301:{name:"TransferFunction",type:r.Short},305:{name:"Software",type:r.Ascii},306:{name:"DateTime",type:r.Ascii},315:{name:"Artist",type:r.Ascii},316:{name:"HostComputer",type:r.Ascii},317:{name:"Predictor",type:r.Short},318:{name:"WhitePoint",type:r.Rational},319:{name:"PrimaryChromaticities",type:r.Rational},320:{name:"ColorMap",type:r.Short},321:{name:"HalftoneHints",type:r.Short},322:{name:"TileWidth",type:r.Short},323:{name:"TileLength",type:r.Short},324:{name:"TileOffsets",type:r.Short},325:{name:"TileByteCounts",type:r.Short},330:{name:"SubIFDs",type:r.Long},332:{name:"InkSet",type:r.Short},333:{name:"InkNames",type:r.Ascii},334:{name:"NumberOfInks",type:r.Short},336:{name:"DotRange",type:r.Byte},337:{name:"TargetPrinter",type:r.Ascii},338:{name:"ExtraSamples",type:r.Short},339:{name:"SampleFormat",type:r.Short},340:{name:"SMinSampleValue",type:r.Short},341:{name:"SMaxSampleValue",type:r.Short},342:{name:"TransferRange",type:r.Short},343:{name:"ClipPath",type:r.Byte},344:{name:"XClipPathUnits",type:r.Long},345:{name:"YClipPathUnits",type:r.Long},346:{name:"Indexed",type:r.Short},347:{name:"JPEGTables",type:r.Undefined},351:{name:"OPIProxy",type:r.Short},512:{name:"JPEGProc",type:r.Long},513:{name:"JPEGInterchangeFormat",type:r.Long},514:{name:"JPEGInterchangeFormatLength",type:r.Long},515:{name:"JPEGRestartInterval",type:r.Short},517:{name:"JPEGLosslessPredictors",type:r.Short},518:{name:"JPEGPointTransforms",type:r.Short},519:{name:"JPEGQTables",type:r.Long},520:{name:"JPEGDCTables",type:r.Long},521:{name:"JPEGACTables",type:r.Long},529:{name:"YCbCrCoefficients",type:r.Rational},530:{name:"YCbCrSubSampling",type:r.Short},531:{name:"YCbCrPositioning",type:r.Short},532:{name:"ReferenceBlackWhite",type:r.Rational},700:{name:"XMLPacket",type:r.Byte},18246:{name:"Rating",type:r.Short},18249:{name:"RatingPercent",type:r.Short},32781:{name:"ImageID",type:r.Ascii},33421:{name:"CFARepeatPatternDim",type:r.Short},33422:{name:"CFAPattern",type:r.Byte},33423:{name:"BatteryLevel",type:r.Rational},33432:{name:"Copyright",type:r.Ascii},33434:{name:"ExposureTime",type:r.Rational},34377:{name:"ImageResources",type:r.Byte},34665:{name:"ExifTag",type:r.Long},34675:{name:"InterColorProfile",type:r.Undefined},34853:{name:"GPSTag",type:r.Long},34857:{name:"Interlace",type:r.Short},34858:{name:"TimeZoneOffset",type:r.Long},34859:{name:"SelfTimerMode",type:r.Short},37387:{name:"FlashEnergy",type:r.Rational},37388:{name:"SpatialFrequencyResponse",type:r.Undefined},37389:{name:"Noise",type:r.Undefined},37390:{name:"FocalPlaneXResolution",type:r.Rational},37391:{name:"FocalPlaneYResolution",type:r.Rational},37392:{name:"FocalPlaneResolutionUnit",type:r.Short},37393:{name:"ImageNumber",type:r.Long},37394:{name:"SecurityClassification",type:r.Ascii},37395:{name:"ImageHistory",type:r.Ascii},37397:{name:"ExposureIndex",type:r.Rational},37398:{name:"TIFFEPStandardID",type:r.Byte},37399:{name:"SensingMethod",type:r.Short},40091:{name:"XPTitle",type:r.Byte},40092:{name:"XPComment",type:r.Byte},40093:{name:"XPAuthor",type:r.Byte},40094:{name:"XPKeywords",type:r.Byte},40095:{name:"XPSubject",type:r.Byte},50341:{name:"PrintImageMatching",type:r.Undefined},50706:{name:"DNGVersion",type:r.Byte},50707:{name:"DNGBackwardVersion",type:r.Byte},50708:{name:"UniqueCameraModel",type:r.Ascii},50709:{name:"LocalizedCameraModel",type:r.Byte},50710:{name:"CFAPlaneColor",type:r.Byte},50711:{name:"CFALayout",type:r.Short},50712:{name:"LinearizationTable",type:r.Short},50713:{name:"BlackLevelRepeatDim",type:r.Short},50714:{name:"BlackLevel",type:r.Rational},50715:{name:"BlackLevelDeltaH",type:r.SRational},50716:{name:"BlackLevelDeltaV",type:r.SRational},50717:{name:"WhiteLevel",type:r.Short},50718:{name:"DefaultScale",type:r.Rational},50719:{name:"DefaultCropOrigin",type:r.Short},50720:{name:"DefaultCropSize",type:r.Short},50721:{name:"ColorMatrix1",type:r.SRational},50722:{name:"ColorMatrix2",type:r.SRational},50723:{name:"CameraCalibration1",type:r.SRational},50724:{name:"CameraCalibration2",type:r.SRational},50725:{name:"ReductionMatrix1",type:r.SRational},50726:{name:"ReductionMatrix2",type:r.SRational},50727:{name:"AnalogBalance",type:r.Rational},50728:{name:"AsShotNeutral",type:r.Short},50729:{name:"AsShotWhiteXY",type:r.Rational},50730:{name:"BaselineExposure",type:r.SRational},50731:{name:"BaselineNoise",type:r.Rational},50732:{name:"BaselineSharpness",type:r.Rational},50733:{name:"BayerGreenSplit",type:r.Long},50734:{name:"LinearResponseLimit",type:r.Rational},50735:{name:"CameraSerialNumber",type:r.Ascii},50736:{name:"LensInfo",type:r.Rational},50737:{name:"ChromaBlurRadius",type:r.Rational},50738:{name:"AntiAliasStrength",type:r.Rational},50739:{name:"ShadowScale",type:r.SRational},50740:{name:"DNGPrivateData",type:r.Byte},50741:{name:"MakerNoteSafety",type:r.Short},50778:{name:"CalibrationIlluminant1",type:r.Short},50779:{name:"CalibrationIlluminant2",type:r.Short},50780:{name:"BestQualityScale",type:r.Rational},50781:{name:"RawDataUniqueID",type:r.Byte},50827:{name:"OriginalRawFileName",type:r.Byte},50828:{name:"OriginalRawFileData",type:r.Undefined},50829:{name:"ActiveArea",type:r.Short},50830:{name:"MaskedAreas",type:r.Short},50831:{name:"AsShotICCProfile",type:r.Undefined},50832:{name:"AsShotPreProfileMatrix",type:r.SRational},50833:{name:"CurrentICCProfile",type:r.Undefined},50834:{name:"CurrentPreProfileMatrix",type:r.SRational},50879:{name:"ColorimetricReference",type:r.Short},50931:{name:"CameraCalibrationSignature",type:r.Byte},50932:{name:"ProfileCalibrationSignature",type:r.Byte},50934:{name:"AsShotProfileName",type:r.Byte},50935:{name:"NoiseReductionApplied",type:r.Rational},50936:{name:"ProfileName",type:r.Byte},50937:{name:"ProfileHueSatMapDims",type:r.Long},50941:{name:"ProfileEmbedPolicy",type:r.Long},50942:{name:"ProfileCopyright",type:r.Byte},50964:{name:"ForwardMatrix1",type:r.SRational},50965:{name:"ForwardMatrix2",type:r.SRational},50966:{name:"PreviewApplicationName",type:r.Byte},50967:{name:"PreviewApplicationVersion",type:r.Byte},50968:{name:"PreviewSettingsName",type:r.Byte},50969:{name:"PreviewSettingsDigest",type:r.Byte},50970:{name:"PreviewColorSpace",type:r.Long},50971:{name:"PreviewDateTime",type:r.Ascii},50972:{name:"RawImageDigest",type:r.Undefined},50973:{name:"OriginalRawFileDigest",type:r.Undefined},50974:{name:"SubTileBlockSize",type:r.Long},50975:{name:"RowInterleaveFactor",type:r.Long},50981:{name:"ProfileLookTableDims",type:r.Long},51008:{name:"OpcodeList1",type:r.Undefined},51009:{name:"OpcodeList2",type:r.Undefined},51022:{name:"OpcodeList3",type:r.Undefined}},a={Image:o,"0th":o,"1st":o,Exif:{33434:{name:"ExposureTime",type:r.Rational},33437:{name:"FNumber",type:r.Rational},34850:{name:"ExposureProgram",type:r.Short},34852:{name:"SpectralSensitivity",type:r.Ascii},34855:{name:"ISOSpeedRatings",type:r.Short},34856:{name:"OECF",type:r.Undefined},34864:{name:"SensitivityType",type:r.Short},34865:{name:"StandardOutputSensitivity",type:r.Long},34866:{name:"RecommendedExposureIndex",type:r.Long},34867:{name:"ISOSpeed",type:r.Long},34868:{name:"ISOSpeedLatitudeyyy",type:r.Long},34869:{name:"ISOSpeedLatitudezzz",type:r.Long},36864:{name:"ExifVersion",type:r.Undefined},36867:{name:"DateTimeOriginal",type:r.Ascii},36868:{name:"DateTimeDigitized",type:r.Ascii},37121:{name:"ComponentsConfiguration",type:r.Undefined},37122:{name:"CompressedBitsPerPixel",type:r.Rational},37377:{name:"ShutterSpeedValue",type:r.SRational},37378:{name:"ApertureValue",type:r.Rational},37379:{name:"BrightnessValue",type:r.SRational},37380:{name:"ExposureBiasValue",type:r.SRational},37381:{name:"MaxApertureValue",type:r.Rational},37382:{name:"SubjectDistance",type:r.Rational},37383:{name:"MeteringMode",type:r.Short},37384:{name:"LightSource",type:r.Short},37385:{name:"Flash",type:r.Short},37386:{name:"FocalLength",type:r.Rational},37396:{name:"SubjectArea",type:r.Short},37500:{name:"MakerNote",type:r.Undefined},37510:{name:"UserComment",type:r.Ascii},37520:{name:"SubSecTime",type:r.Ascii},37521:{name:"SubSecTimeOriginal",type:r.Ascii},37522:{name:"SubSecTimeDigitized",type:r.Ascii},40960:{name:"FlashpixVersion",type:r.Undefined},40961:{name:"ColorSpace",type:r.Short},40962:{name:"PixelXDimension",type:r.Long},40963:{name:"PixelYDimension",type:r.Long},40964:{name:"RelatedSoundFile",type:r.Ascii},40965:{name:"InteroperabilityTag",type:r.Long},41483:{name:"FlashEnergy",type:r.Rational},41484:{name:"SpatialFrequencyResponse",type:r.Undefined},41486:{name:"FocalPlaneXResolution",type:r.Rational},41487:{name:"FocalPlaneYResolution",type:r.Rational},41488:{name:"FocalPlaneResolutionUnit",type:r.Short},41492:{name:"SubjectLocation",type:r.Short},41493:{name:"ExposureIndex",type:r.Rational},41495:{name:"SensingMethod",type:r.Short},41728:{name:"FileSource",type:r.Undefined},41729:{name:"SceneType",type:r.Undefined},41730:{name:"CFAPattern",type:r.Undefined},41985:{name:"CustomRendered",type:r.Short},41986:{name:"ExposureMode",type:r.Short},41987:{name:"WhiteBalance",type:r.Short},41988:{name:"DigitalZoomRatio",type:r.Rational},41989:{name:"FocalLengthIn35mmFilm",type:r.Short},41990:{name:"SceneCaptureType",type:r.Short},41991:{name:"GainControl",type:r.Short},41992:{name:"Contrast",type:r.Short},41993:{name:"Saturation",type:r.Short},41994:{name:"Sharpness",type:r.Short},41995:{name:"DeviceSettingDescription",type:r.Undefined},41996:{name:"SubjectDistanceRange",type:r.Short},42016:{name:"ImageUniqueID",type:r.Ascii},42032:{name:"CameraOwnerName",type:r.Ascii},42033:{name:"BodySerialNumber",type:r.Ascii},42034:{name:"LensSpecification",type:r.Rational},42035:{name:"LensMake",type:r.Ascii},42036:{name:"LensModel",type:r.Ascii},42037:{name:"LensSerialNumber",type:r.Ascii},42240:{name:"Gamma",type:r.Rational}},GPS:{0:{name:"GPSVersionID",type:r.Byte},1:{name:"GPSLatitudeRef",type:r.Ascii},2:{name:"GPSLatitude",type:r.Rational},3:{name:"GPSLongitudeRef",type:r.Ascii},4:{name:"GPSLongitude",type:r.Rational},5:{name:"GPSAltitudeRef",type:r.Byte},6:{name:"GPSAltitude",type:r.Rational},7:{name:"GPSTimeStamp",type:r.Rational},8:{name:"GPSSatellites",type:r.Ascii},9:{name:"GPSStatus",type:r.Ascii},10:{name:"GPSMeasureMode",type:r.Ascii},11:{name:"GPSDOP",type:r.Rational},12:{name:"GPSSpeedRef",type:r.Ascii},13:{name:"GPSSpeed",type:r.Rational},14:{name:"GPSTrackRef",type:r.Ascii},15:{name:"GPSTrack",type:r.Rational},16:{name:"GPSImgDirectionRef",type:r.Ascii},17:{name:"GPSImgDirection",type:r.Rational},18:{name:"GPSMapDatum",type:r.Ascii},19:{name:"GPSDestLatitudeRef",type:r.Ascii},20:{name:"GPSDestLatitude",type:r.Rational},21:{name:"GPSDestLongitudeRef",type:r.Ascii},22:{name:"GPSDestLongitude",type:r.Rational},23:{name:"GPSDestBearingRef",type:r.Ascii},24:{name:"GPSDestBearing",type:r.Rational},25:{name:"GPSDestDistanceRef",type:r.Ascii},26:{name:"GPSDestDistance",type:r.Rational},27:{name:"GPSProcessingMethod",type:r.Undefined},28:{name:"GPSAreaInformation",type:r.Undefined},29:{name:"GPSDateStamp",type:r.Ascii},30:{name:"GPSDifferential",type:r.Short},31:{name:"GPSHPositioningError",type:r.Rational}},Interop:{1:{name:"InteroperabilityIndex",type:r.Ascii}}},s={ImageIFD:{ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},ExifIFD:{ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},GPSIFD:{GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},InteropIFD:{InteroperabilityIndex:1}},l=(R,P)=>{let H="";for(let V=0;V<P;V++)H+=R;return H},u=(R,P)=>{if(!(P instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(R.length-1!=P.length)throw new Error(`'pack' error. ${R.length-1} marks, ${P.length} elements.`);let H;if(R[0]=="<")H=!0;else if(R[0]==">")H=!1;else throw new Error("Not match any endian.");let V="",q=1,K=null,ce=null,ue=null;for(;ce=R[q];){if(ce.toLowerCase()=="b"){if(K=P[q-1],ce=="b"&&K<0&&(K+=256),K>255||K<0)throw new Error("'pack' error.");ue=String.fromCharCode(K)}else if(ce=="H"){if(K=P[q-1],K>65535||K<0)throw new Error("'pack' error.");ue=String.fromCharCode(Math.floor(K%65536/256))+String.fromCharCode(K%256),H&&(ue=ue.split("").reverse().join(""))}else if(ce.toLowerCase()=="l"){if(K=P[q-1],ce=="l"&&K<0&&(K+=4294967296),K>4294967295||K<0)throw new Error("'pack' error.");ue=String.fromCharCode(Math.floor(K/16777216))+String.fromCharCode(Math.floor(K%16777216/65536))+String.fromCharCode(Math.floor(K%65536/256))+String.fromCharCode(K%256),H&&(ue=ue.split("").reverse().join(""))}else throw new Error("'pack' error.");V+=ue,q+=1}return V},c=(R,P)=>{if(typeof P!="string")throw new Error("'unpack' error. Got invalid type argument.");let H=0;for(let Ee=1;Ee<R.length;Ee++)if(R[Ee].toLowerCase()=="b")H+=1;else if(R[Ee].toLowerCase()=="h")H+=2;else if(R[Ee].toLowerCase()=="l")H+=4;else throw new Error("'unpack' error. Got invalid mark.");if(H!=P.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+H+":"+P.length);let V;if(R[0]=="<")V=!0;else if(R[0]==">")V=!1;else throw new Error("'unpack' error.");const q=[];let K=0,ce=1,ue=null,ge=null,fe=null,be="";for(;ge=R[ce];){if(ge.toLowerCase()=="b")fe=1,be=P.slice(K,K+fe),ue=be.charCodeAt(0),ge=="b"&&ue>=128&&(ue-=256);else if(ge=="H")fe=2,be=P.slice(K,K+fe),V&&(be=be.split("").reverse().join("")),ue=be.charCodeAt(0)*256+be.charCodeAt(1);else if(ge.toLowerCase()=="l")fe=4,be=P.slice(K,K+fe),V&&(be=be.split("").reverse().join("")),ue=be.charCodeAt(0)*16777216+be.charCodeAt(1)*65536+be.charCodeAt(2)*256+be.charCodeAt(3),ge=="l"&&ue>=2147483648&&(ue-=4294967296);else throw new Error("'unpack' error. "+ge);q.push(ue),K+=fe,ce+=1}return q},f=new Function("try {return this===window;}catch(e){ return false;}")(),h=f?window.atob:R=>Buffer.from(R,"base64"),d=f?window.btoa:R=>Buffer.from(R).toString("base64"),g=R=>u(">"+l("B",R.length),R),p=R=>u(">"+l("H",R.length),R),v=R=>u(">"+l("L",R.length),R),m=R=>(Object.assign({},R),R),w=R=>{let P=ie(R);for(;"\xFF\xE0"<=P[1].slice(0,2)&&P[1].slice(0,2)<="\xFF\xEF";)P=[P[0]].concat(P.slice(2));return P.join("")},C=(R,P,H)=>{let V;if(P==r.Byte)V=E(R,H);else if(P==r.Ascii)V=k(R,H);else if(P==r.Short)V=$(R,H);else if(P==r.Long)V=D(R,H);else if(P==r.Rational)V=Y(R,H);else if(P==r.Undefined)V=L(R,H);else{if(P==r.SLong)throw new Error("Not implemented for SLong value");if(P==r.SRational)V=X(R,H);else throw new Error("Got unhandled exif value type.")}return V},E=(R,P)=>{if(typeof R=="number")R=[R];else if(!(Array.isArray(R)&&typeof R[0]=="number")){const q=Array.isArray(R)?"Array":typeof R;throw new i(`Value must be "number" or "Array<number>".
Value: ${R}
Type: ${q}`)}const H=R.length,V={value:"",lengthBinary:"",fourBytesOver:""};return H<=4?V.value=g(R)+l("\0",4-H):(V.value=u(">L",[P]),V.fourBytesOver=g(R)),V.lengthBinary=u(">L",[H]),V},k=(R,P)=>{if(typeof R!="string"){const K=Array.isArray(R)?"Array":typeof R;throw new i(`Value must be "string". Got "${K}".`)}const H=R+"\0",V=H.length,q={value:"",lengthBinary:"",fourBytesOver:""};return V>4?(q.value=u(">L",[P]),q.fourBytesOver=H):q.value=H+l("\0",4-V),q.lengthBinary=u(">L",[V]),q},$=(R,P)=>{if(typeof R=="number")R=[R];else if(!(Array.isArray(R)&&typeof R[0]=="number")){const q=Array.isArray(R)?"Array":typeof R;throw new i(`Value must be "number" or "Array<number>".
Value: ${R}
Type: ${q}`)}const H=R.length,V={value:"",lengthBinary:"",fourBytesOver:""};return H<=2?V.value=p(R)+l("\0\0",2-H):(V.value=u(">L",[P]),V.fourBytesOver=p(R)),V.lengthBinary=u(">L",[H]),V},D=(R,P)=>{if(typeof R=="number")R=[R];else if(!(Array.isArray(R)&&typeof R[0]=="number")){const q=Array.isArray(R)?"Array":typeof R;throw new i(`Value must be "number" or "Array<number>".
Value: ${R}
Type: ${q}`)}const H=R.length,V={value:"",lengthBinary:"",fourBytesOver:""};return H<=1?V.value=v(R):(V.value=u(">L",[P]),V.fourBytesOver=v(R)),V.lengthBinary=u(">L",[H]),V},Y=(R,P)=>{if(Array.isArray(R)&&typeof R[0]=="number"&&R.length===2)R=[R];else if(!(Array.isArray(R)&&Array.isArray(R[0])&&typeof R[0][0]=="number")){let K=Array.isArray(R)?"Array":typeof R;throw K=K=="Array"?`Array<${typeof R[0]}>`:K,new i(`Value must be "Array<number>" or "Array<Array<number>>". Got "${K}".`)}const H={value:"",lengthBinary:"",fourBytesOver:""},V=R.length;let q="";for(let K=0;K<V;K++){const ce=R[K][0],ue=R[K][1];q+=u(">L",[ce])+u(">L",[ue])}return H.lengthBinary=u(">L",[V]),H.value=u(">L",[P]),H.fourBytesOver=q,H},L=(R,P)=>{if(typeof R!="string"){const q=Array.isArray(R)?"Array":typeof R;throw new i(`Value must be "string". Got "${q}".`)}const H=R.length,V={value:"",lengthBinary:"",fourBytesOver:""};return H>4?(V.value=u(">L",[P]),V.fourBytesOver=R):V.value=R+l("\0",4-H),V.lengthBinary=u(">L",[H]),V},X=(R,P)=>{if(Array.isArray(R)&&typeof R[0]=="number"&&R.length===2)R=[R];else if(!(Array.isArray(R)&&Array.isArray(R[0])&&typeof R[0][0]=="number")){let K=Array.isArray(R)?"Array":typeof R;throw K=K=="Array"?`Array<${typeof R[0]}>`:K,new i(`Value must be "Array<number>" or "Array<Array<number>>". Got "${K}".`)}const H={value:"",lengthBinary:"",fourBytesOver:""},V=R.length;let q="";for(let K=0;K<V;K++){const ce=R[K][0],ue=R[K][1];q+=u(">l",[ce])+u(">l",[ue])}return H.lengthBinary=u(">L",[V]),H.value=u(">L",[P]),H.fourBytesOver=q,H},te=(R,P,H)=>{const V=8,q=Object.keys(R).length,K=u(">H",[q]);let ce;["0th","1st"].indexOf(P)>-1?ce=2+q*12+4:ce=2+q*12;let ue="",ge="",fe;for(fe in R){if(typeof fe=="string"&&(fe=parseInt(fe)),P=="0th"&&[34665,34853].indexOf(fe)>-1)continue;if(P=="Exif"&&fe==40965)continue;if(P=="1st"&&[513,514].indexOf(fe)>-1)continue;const be=R[fe],Ee=u(">H",[fe]),re=a[P][fe].type,He=u(">H",[re]),Te=V+ce+H+ge.length;let Ue;try{Ue=C(be,re,Te)}catch(Ge){if(Ge instanceof i){const Me=["0th","1st"].includes(P)?"Image":P,M=`Can't convert ${a[Me][fe].name} in ${P} IFD.\r`;Ge.message=M+Ge.message}throw Ge}ue+=Ee+He+Ue.lengthBinary+Ue.value,ge+=Ue.fourBytesOver}return[K+ue,ge]};class oe{constructor(P){this.getIfd=(q,K)=>{const ce=c(this.endianMark+"H",this.tiftag.slice(q,q+2))[0];if(ce==0)return null;const ue={},ge=q+2;let fe;["0th","1st"].indexOf(K)>-1?fe="Image":fe=K;for(let be=0;be<ce;be++){q=ge+12*be;const Ee=c(this.endianMark+"H",this.tiftag.slice(q,q+2))[0],re=c(this.endianMark+"H",this.tiftag.slice(q+2,q+4))[0],He=c(this.endianMark+"L",this.tiftag.slice(q+4,q+8))[0],Te=this.tiftag.slice(q+8,q+12),Ue=[re,He,Te];Ee in a[fe]&&(ue[Ee]=this.convertValue(Ue))}return ue},this.getFirstIfdPointer=(q,K)=>{const ce=c(this.endianMark+"H",this.tiftag.slice(q,q+2))[0];if(ce==0)return null;const ue=q+2;let ge;return K=="0th"&&(q=ue+12*ce,ge=this.tiftag.slice(q,q+4)),ge},this.convertValue=q=>{let K=null;const ce=q[0],ue=q[1],ge=q[2];let fe;if(ce==1)ue>4?(fe=c(this.endianMark+"L",ge)[0],K=c(this.endianMark+l("B",ue),this.tiftag.slice(fe,fe+ue))):K=c(this.endianMark+l("B",ue),ge.slice(0,ue));else if(ce==2)ue>4?(fe=c(this.endianMark+"L",ge)[0],K=this.tiftag.slice(fe,fe+ue-1)):K=ge.slice(0,ue-1);else if(ce==3)ue>2?(fe=c(this.endianMark+"L",ge)[0],K=c(this.endianMark+l("H",ue),this.tiftag.slice(fe,fe+ue*2))):K=c(this.endianMark+l("H",ue),ge.slice(0,ue*2));else if(ce==4)ue>1?(fe=c(this.endianMark+"L",ge)[0],K=c(this.endianMark+l("L",ue),this.tiftag.slice(fe,fe+ue*4))):K=c(this.endianMark+l("L",ue),ge);else if(ce==5)if(fe=c(this.endianMark+"L",ge)[0],ue>1){K=[];for(let be=0;be<ue;be++)K.push([c(this.endianMark+"L",this.tiftag.slice(fe+be*8,fe+4+be*8))[0],c(this.endianMark+"L",this.tiftag.slice(fe+4+be*8,fe+8+be*8))[0]])}else K=[c(this.endianMark+"L",this.tiftag.slice(fe,fe+4))[0],c(this.endianMark+"L",this.tiftag.slice(fe+4,fe+8))[0]];else if(ce==7)ue>4?(fe=c(this.endianMark+"L",ge)[0],K=this.tiftag.slice(fe,fe+ue)):K=ge.slice(0,ue);else if(ce==10)if(fe=c(this.endianMark+"L",ge)[0],ue>1){K=[];for(let be=0;be<ue;be++)K.push([c(this.endianMark+"l",this.tiftag.slice(fe+be*8,fe+4+be*8))[0],c(this.endianMark+"l",this.tiftag.slice(fe+4+be*8,fe+8+be*8))[0]])}else K=[c(this.endianMark+"l",this.tiftag.slice(fe,fe+4))[0],c(this.endianMark+"l",this.tiftag.slice(fe+4,fe+8))[0]];else throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+ce);return K instanceof Array&&K.length==1?K[0]:K};let H,V;if(P.slice(0,2)=="\xFF\xD8")H=ie(P),V=de(H),V?this.tiftag=V.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(P.slice(0,2))>-1)this.tiftag=P;else if(P.slice(0,4)=="Exif")this.tiftag=P.slice(6);else throw new Error("Given file is neither JPEG nor TIFF.")}}const ie=R=>{if(R.slice(0,2)!="\xFF\xD8")throw new Error("Given data isn't JPEG.");let P=2;const H=["\xFF\xD8"];for(;;){if(R.slice(P,P+2)=="\xFF\xDA"){H.push(R.slice(P));break}else{const V=c(">H",R.slice(P+2,P+4))[0],q=P+V+2;H.push(R.slice(P,q)),P=q}if(P>=R.length)throw new Error("Wrong JPEG data.")}return H},de=R=>{let P;for(let H=0;H<R.length;H++)if(P=R[H],P.slice(0,2)=="\xFF\xE1"&&P.slice(4,10)=="Exif\0\0")return P;return null},y=(R,P)=>{let H=!1;const V=[];return R.forEach(function(q,K){q.slice(0,2)=="\xFF\xE1"&&q.slice(4,10)=="Exif\0\0"&&(H?V.unshift(K):(R[K]=P,H=!0))}),V.forEach(function(q){R.splice(q,1)}),!H&&P&&(R=[R[0],P].concat(R.slice(1))),R.join("")},S={degToDmsRational:R=>{const P=Math.abs(R),H=P%1*60,V=H%1*60,q=Math.floor(P),K=Math.floor(H),ce=Math.round(V*100);return[[q,1],[K,1],[ce,100]]},dmsRationalToDeg:(R,P)=>{if(P!=="S"&&P!=="W"&&P!=="N"&&P!=="E")throw new Error('"dmsRationalToDeg", 2nd argument must be "N", "S", "E" or "W"');const H=P==="S"||P==="W"?-1:1,V=R[0][0]/R[0][1]+R[1][0]/(R[1][1]*60)+R[2][0]/(R[2][1]*3600);return H*V}},b="2.0.0b",_=R=>{let P=!1;if(R.slice(0,2)!="\xFF\xD8")if(R.slice(0,23)=="data:image/jpeg;base64,"||R.slice(0,22)=="data:image/jpg;base64,")R=h(R.split(",")[1]),P=!0;else throw new Error("Given data is not jpeg.");let q=ie(R).filter(function(K){return!(K.slice(0,2)=="\xFF\xE1"&&K.slice(4,10)=="Exif\0\0")}).join("");return P&&(q="data:image/jpeg;base64,"+d(q)),q},A=(R,P)=>{let H=!1;if(R.slice(0,6)!="Exif\0\0")throw new Error("Given data is not exif.");if(P.slice(0,2)!="\xFF\xD8")if(P.slice(0,23)=="data:image/jpeg;base64,"||P.slice(0,22)=="data:image/jpg;base64,")P=h(P.split(",")[1]),H=!0;else throw new Error("Given data is not jpeg.");const V="\xFF\xE1"+u(">H",[R.length+2])+R,q=ie(P);let K=y(q,V);return H&&(K="data:image/jpeg;base64,"+d(K)),K},N=R=>{let P;if(typeof R=="string")if(R.slice(0,2)=="\xFF\xD8")P=R;else if(R.slice(0,23)=="data:image/jpeg;base64,"||R.slice(0,22)=="data:image/jpg;base64,")P=h(R.split(",")[1]);else if(R.slice(0,4)=="Exif")P=R.slice(6);else throw new Error("'load' gots invalid file data.");else throw new Error("'load' gots invalid type argument.");const H={},V=new oe(P);if(V.tiftag===null)return H;V.tiftag.slice(0,2)=="II"?V.endianMark="<":V.endianMark=">";let q=null,K=null,ce=null,ue=null,ge=null,fe=null;const be=c(V.endianMark+"L",V.tiftag.slice(4,8))[0];q=V.getIfd(be,"0th");const Ee=V.getFirstIfdPointer(be,"0th");if(q!==null&&34665 in q){const re=q[34665];ce=V.getIfd(re,"Exif")}if(q!==null&&34853 in q){const re=q[34853];ge=V.getIfd(re,"GPS")}if(ce!==null&&40965 in ce){const re=ce[40965];ue=V.getIfd(re,"Interop")}if(Ee!="\0\0\0\0"){const re=c(V.endianMark+"L",Ee)[0];if(K=V.getIfd(re,"1st"),K!==null&&513 in K&&514 in K){const He=K[513]+K[514];fe=V.tiftag.slice(K[513],He)}}return q!==null&&(H["0th"]=q),K!==null&&(H["1st"]=K),ce!==null&&(H.Exif=ce),ge!==null&&(H.GPS=ge),ue!==null&&(H.Interop=ue),fe!==null&&(H.thumbnail=fe),H},I=R=>{const P=8,H=m(R),V="Exif\0\0MM\0*\0\0\0\b";let q=!1,K=!1,ce=!1,ue=!1,ge,fe,be,Ee,re;"0th"in H?ge=H["0th"]:ge={},"Exif"in H&&Object.keys(H.Exif).length||"Interop"in H&&Object.keys(H.Interop).length?(ge[34665]=1,q=!0,fe=H.Exif,"Interop"in H&&Object.keys(H.Interop).length?(fe[40965]=1,ce=!0,be=H.Interop):Object.keys(fe).indexOf(s.ExifIFD.InteroperabilityTag.toString())>-1&&delete fe[40965]):Object.keys(ge).indexOf(s.ImageIFD.ExifTag.toString())>-1&&delete ge[34665],"GPS"in H&&Object.keys(H.GPS).length?(ge[s.ImageIFD.GPSTag]=1,K=!0,Ee=H.GPS):Object.keys(ge).indexOf(s.ImageIFD.GPSTag.toString())>-1&&delete ge[s.ImageIFD.GPSTag],"1st"in H&&"thumbnail"in H&&H.thumbnail!=null&&(ue=!0,H["1st"][513]=1,H["1st"][514]=1,re=H["1st"]);const He=te(ge,"0th",0),Te=He[0].length+Number(q)*12+Number(K)*12+4+He[1].length;let Ue,Ge="",Me=0,T,M="",F=0,Q,U="",J=0,z,j="",Z;if(q&&(Ue=te(fe,"Exif",Te),Me=Ue[0].length+Number(ce)*12+Ue[1].length),K&&(T=te(Ee,"GPS",Te+Me),M=T.join(""),F=M.length),ce){const Be=Te+Me+F;Q=te(be,"Interop",Be),U=Q.join(""),J=U.length}if(ue){const Be=Te+Me+F+J;if(z=te(re,"1st",Be),Z=w(H.thumbnail),Z.length>64e3)throw new Error("Given thumbnail is too large. max 64kB")}let G="",ne="",pe="",Re="\0\0\0\0";if(q){const Be=P+Te,qe=u(">L",[Be]),Ne=u(">H",[34665]),Ke=u(">H",[r.Long]),yt=u(">L",[1]);G=Ne+Ke+yt+qe}if(K){const Be=P+Te+Me,qe=u(">L",[Be]),Ne=u(">H",[34853]),Ke=u(">H",[r.Long]),yt=u(">L",[1]);ne=Ne+Ke+yt+qe}if(ce){const Be=P+Te+Me+F,qe=u(">L",[Be]),Ne=u(">H",[40965]),Ke=u(">H",[r.Long]),yt=u(">L",[1]);pe=Ne+Ke+yt+qe}if(ue){const Be=P+Te+Me+F+J;Re=u(">L",[Be]);const qe=Be+z[0].length+24+4+z[1].length,Ye="\0\0\0\0"+u(">L",[qe]),Ne="\0\0\0\0"+u(">L",[Z.length]);j=z[0]+Ye+Ne+"\0\0\0\0"+z[1]+Z}const xe=He[0]+G+ne+Re+He[1];return q&&(Ge=Ue[0]+pe+Ue[1]),V+xe+Ge+M+U+j};t.version=b,t.remove=_,t.insert=A,t.load=N,t.dump=I,t.Types=r,t.TagValues=s,t.GPSHelper=S,t.ValueConvertError=i,Object.defineProperty(t,"__esModule",{value:!0})})})(gA,gA.exports);/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */const pA=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function vA(e,n,t){const r=t||(a=>Array.prototype.slice.call(a));let i=!1,o=[];return function(...a){o=r(a),i||(i=!0,pA.call(window,()=>{i=!1,e.apply(n,o)}))}}function j3(e,n){let t;return function(...r){return n?(clearTimeout(t),t=setTimeout(e,n,r)):e.apply(this,r),n}}const vb=e=>e==="start"?"left":e==="end"?"right":"center",xn=(e,n,t)=>e==="start"?n:e==="end"?t:(n+t)/2,U3=(e,n,t,r)=>e===(r?"left":"right")?t:e==="center"?(n+t)/2:n;function Pi(){}const z3=function(){let e=0;return function(){return e++}}();function _t(e){return e===null||typeof e=="undefined"}function Tt(e){if(Array.isArray&&Array.isArray(e))return!0;const n=Object.prototype.toString.call(e);return n.substr(0,7)==="[object"&&n.substr(-6)==="Array]"}function gt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const tn=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function br(e,n){return tn(e)?e:n}function Ze(e,n){return typeof e=="undefined"?n:e}const Y3=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/n,mA=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*n:+e;function nt(e,n,t){if(e&&typeof e.call=="function")return e.apply(t,n)}function ht(e,n,t,r){let i,o,a;if(Tt(e))if(o=e.length,r)for(i=o-1;i>=0;i--)n.call(t,e[i],i);else for(i=0;i<o;i++)n.call(t,e[i],i);else if(gt(e))for(a=Object.keys(e),o=a.length,i=0;i<o;i++)n.call(t,e[a[i]],a[i])}function Dh(e,n){let t,r,i,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,r=e.length;t<r;++t)if(i=e[t],o=n[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Nh(e){if(Tt(e))return e.map(Nh);if(gt(e)){const n=Object.create(null),t=Object.keys(e),r=t.length;let i=0;for(;i<r;++i)n[t[i]]=Nh(e[t[i]]);return n}return e}function yA(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function G3(e,n,t,r){if(!yA(e))return;const i=n[e],o=t[e];gt(i)&&gt(o)?zu(i,o,r):n[e]=Nh(o)}function zu(e,n,t){const r=Tt(n)?n:[n],i=r.length;if(!gt(e))return e;t=t||{};const o=t.merger||G3;for(let a=0;a<i;++a){if(n=r[a],!gt(n))continue;const s=Object.keys(n);for(let l=0,u=s.length;l<u;++l)o(s[l],e,n,t)}return e}function Yu(e,n){return zu(e,n,{merger:K3})}function K3(e,n,t){if(!yA(e))return;const r=n[e],i=t[e];gt(r)&&gt(i)?Yu(r,i):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=Nh(i))}const X3="",q3=".";function bA(e,n){const t=e.indexOf(q3,n);return t===-1?e.length:t}function ka(e,n){if(n===X3)return e;let t=0,r=bA(n,t);for(;e&&r>t;)e=e[n.substr(t,r-t)],t=r+1,r=bA(n,t);return e}function mb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const wr=e=>typeof e!="undefined",Po=e=>typeof e=="function",wA=(e,n)=>{if(e.size!==n.size)return!1;for(const t of e)if(!n.has(t))return!1;return!0};function Z3(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ft=Math.PI,Et=2*Ft,Q3=Et+Ft,Lh=Number.POSITIVE_INFINITY,J3=Ft/180,Zt=Ft/2,Gu=Ft/4,_A=Ft*2/3,_r=Math.log10,Sr=Math.sign;function SA(e){const n=Math.round(e);e=Xu(e,n,e/1e3)?n:e;const t=Math.pow(10,Math.floor(_r(e))),r=e/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function eY(e){const n=[],t=Math.sqrt(e);let r;for(r=1;r<t;r++)e%r==0&&(n.push(r),n.push(e/r));return t===(t|0)&&n.push(t),n.sort((i,o)=>i-o).pop(),n}function Ku(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Xu(e,n,t){return Math.abs(e-n)<t}function tY(e,n){const t=Math.round(e);return t-n<=e&&t+n>=e}function CA(e,n,t){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][t],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Fr(e){return e*(Ft/180)}function yb(e){return e*(180/Ft)}function RA(e){if(!tn(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function OA(e,n){const t=n.x-e.x,r=n.y-e.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*Ft&&(o+=Et),{angle:o,distance:i}}function bb(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function nY(e,n){return(e-n+Q3)%Et-Ft}function or(e){return(e%Et+Et)%Et}function qu(e,n,t,r){const i=or(e),o=or(n),a=or(t),s=or(o-i),l=or(a-i),u=or(i-o),c=or(i-a);return i===o||i===a||r&&o===a||s>l&&u<c}function Cn(e,n,t){return Math.max(n,Math.min(t,e))}function rY(e){return Cn(e,-32768,32767)}function Ii(e,n,t,r=1e-6){return e>=Math.min(n,t)-r&&e<=Math.max(n,t)+r}const Hh=e=>e===0||e===1,EA=(e,n,t)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-n)*Et/t)),TA=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*Et/t)+1,Zu={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Zt)+1,easeOutSine:e=>Math.sin(e*Zt),easeInOutSine:e=>-.5*(Math.cos(Ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Hh(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Hh(e)?e:EA(e,.075,.3),easeOutElastic:e=>Hh(e)?e:TA(e,.075,.3),easeInOutElastic(e){const n=.1125,t=.45;return Hh(e)?e:e<.5?.5*EA(e*2,n,t):.5+.5*TA(e*2-1,n,t)},easeInBack(e){const n=1.70158;return e*e*((n+1)*e-n)},easeOutBack(e){const n=1.70158;return(e-=1)*e*((n+1)*e+n)+1},easeInOutBack(e){let n=1.70158;return(e/=.5)<1?.5*(e*e*(((n*=1.525)+1)*e-n)):.5*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)},easeInBounce:e=>1-Zu.easeOutBounce(1-e),easeOutBounce(e){const n=7.5625,t=2.75;return e<1/t?n*e*e:e<2/t?n*(e-=1.5/t)*e+.75:e<2.5/t?n*(e-=2.25/t)*e+.9375:n*(e-=2.625/t)*e+.984375},easeInOutBounce:e=>e<.5?Zu.easeInBounce(e*2)*.5:Zu.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const Cr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wb="0123456789ABCDEF",iY=e=>wb[e&15],oY=e=>wb[(e&240)>>4]+wb[e&15],Fh=e=>(e&240)>>4==(e&15);function aY(e){return Fh(e.r)&&Fh(e.g)&&Fh(e.b)&&Fh(e.a)}function sY(e){var n=e.length,t;return e[0]==="#"&&(n===4||n===5?t={r:255&Cr[e[1]]*17,g:255&Cr[e[2]]*17,b:255&Cr[e[3]]*17,a:n===5?Cr[e[4]]*17:255}:(n===7||n===9)&&(t={r:Cr[e[1]]<<4|Cr[e[2]],g:Cr[e[3]]<<4|Cr[e[4]],b:Cr[e[5]]<<4|Cr[e[6]],a:n===9?Cr[e[7]]<<4|Cr[e[8]]:255})),t}function lY(e){var n=aY(e)?iY:oY;return e&&"#"+n(e.r)+n(e.g)+n(e.b)+(e.a<255?n(e.a):"")}function Qu(e){return e+.5|0}const Bh=(e,n,t)=>Math.max(Math.min(e,t),n);function Ju(e){return Bh(Qu(e*2.55),0,255)}function ec(e){return Bh(Qu(e*255),0,255)}function _b(e){return Bh(Qu(e/2.55)/100,0,1)}function kA(e){return Bh(Qu(e*100),0,100)}const uY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cY(e){const n=uY.exec(e);let t=255,r,i,o;if(!!n){if(n[7]!==r){const a=+n[7];t=255&(n[8]?Ju(a):a*255)}return r=+n[1],i=+n[3],o=+n[5],r=255&(n[2]?Ju(r):r),i=255&(n[4]?Ju(i):i),o=255&(n[6]?Ju(o):o),{r,g:i,b:o,a:t}}}function fY(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_b(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const hY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AA(e,n,t){const r=n*Math.min(t,1-t),i=(o,a=(o+e/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function dY(e,n,t){const r=(i,o=(i+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function gY(e,n,t){const r=AA(e,1,.5);let i;for(n+t>1&&(i=1/(n+t),n*=i,t*=i),i=0;i<3;i++)r[i]*=1-n-t,r[i]+=n;return r}function Sb(e){const n=255,t=e.r/n,r=e.g/n,i=e.b/n,o=Math.max(t,r,i),a=Math.min(t,r,i),s=(o+a)/2;let l,u,c;return o!==a&&(c=o-a,u=s>.5?c/(2-o-a):c/(o+a),l=o===t?(r-i)/c+(r<i?6:0):o===r?(i-t)/c+2:(t-r)/c+4,l=l*60+.5),[l|0,u||0,s]}function Cb(e,n,t,r){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,r)).map(ec)}function Rb(e,n,t){return Cb(AA,e,n,t)}function pY(e,n,t){return Cb(gY,e,n,t)}function vY(e,n,t){return Cb(dY,e,n,t)}function MA(e){return(e%360+360)%360}function mY(e){const n=hY.exec(e);let t=255,r;if(!n)return;n[5]!==r&&(t=n[6]?Ju(+n[5]):ec(+n[5]));const i=MA(+n[2]),o=+n[3]/100,a=+n[4]/100;return n[1]==="hwb"?r=pY(i,o,a):n[1]==="hsv"?r=vY(i,o,a):r=Rb(i,o,a),{r:r[0],g:r[1],b:r[2],a:t}}function yY(e,n){var t=Sb(e);t[0]=MA(t[0]+n),t=Rb(t),e.r=t[0],e.g=t[1],e.b=t[2]}function bY(e){if(!e)return;const n=Sb(e),t=n[0],r=kA(n[1]),i=kA(n[2]);return e.a<255?`hsla(${t}, ${r}%, ${i}%, ${_b(e.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const xA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},PA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wY(){const e={},n=Object.keys(PA),t=Object.keys(xA);let r,i,o,a,s;for(r=0;r<n.length;r++){for(a=s=n[r],i=0;i<t.length;i++)o=t[i],s=s.replace(o,xA[o]);o=parseInt(PA[a],16),e[s]=[o>>16&255,o>>8&255,o&255]}return e}let Vh;function _Y(e){Vh||(Vh=wY(),Vh.transparent=[0,0,0,0]);const n=Vh[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}function Wh(e,n,t){if(e){let r=Sb(e);r[n]=Math.max(0,Math.min(r[n]+r[n]*t,n===0?360:1)),r=Rb(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function IA(e,n){return e&&Object.assign(n||{},e)}function $A(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=ec(e[3]))):(n=IA(e,{r:0,g:0,b:0,a:1}),n.a=ec(n.a)),n}function SY(e){return e.charAt(0)==="r"?cY(e):mY(e)}class jh{constructor(n){if(n instanceof jh)return n;const t=typeof n;let r;t==="object"?r=$A(n):t==="string"&&(r=sY(n)||_Y(n)||SY(n)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var n=IA(this._rgb);return n&&(n.a=_b(n.a)),n}set rgb(n){this._rgb=$A(n)}rgbString(){return this._valid?fY(this._rgb):this._rgb}hexString(){return this._valid?lY(this._rgb):this._rgb}hslString(){return this._valid?bY(this._rgb):this._rgb}mix(n,t){const r=this;if(n){const i=r.rgb,o=n.rgb;let a;const s=t===a?.5:t,l=2*s-1,u=i.a-o.a,c=((l*u==-1?l:(l+u)/(1+l*u))+1)/2;a=1-c,i.r=255&c*i.r+a*o.r+.5,i.g=255&c*i.g+a*o.g+.5,i.b=255&c*i.b+a*o.b+.5,i.a=s*i.a+(1-s)*o.a,r.rgb=i}return r}clone(){return new jh(this.rgb)}alpha(n){return this._rgb.a=ec(n),this}clearer(n){const t=this._rgb;return t.a*=1-n,this}greyscale(){const n=this._rgb,t=Qu(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=t,this}opaquer(n){const t=this._rgb;return t.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Wh(this._rgb,2,n),this}darken(n){return Wh(this._rgb,2,-n),this}saturate(n){return Wh(this._rgb,1,n),this}desaturate(n){return Wh(this._rgb,1,-n),this}rotate(n){return yY(this._rgb,n),this}}function DA(e){return new jh(e)}const NA=e=>e instanceof CanvasGradient||e instanceof CanvasPattern;function LA(e){return NA(e)?e:DA(e)}function Ob(e){return NA(e)?e:DA(e).saturate(.5).darken(.1).hexString()}const Aa=Object.create(null),Eb=Object.create(null);function tc(e,n){if(!n)return e;const t=n.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];e=e[o]||(e[o]=Object.create(null))}return e}function Tb(e,n,t){return typeof n=="string"?zu(tc(e,n),t):zu(tc(e,""),n)}class CY{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,r)=>Ob(r.backgroundColor),this.hoverBorderColor=(t,r)=>Ob(r.borderColor),this.hoverColor=(t,r)=>Ob(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,t){return Tb(this,n,t)}get(n){return tc(this,n)}describe(n,t){return Tb(Eb,n,t)}override(n,t){return Tb(Aa,n,t)}route(n,t,r,i){const o=tc(this,n),a=tc(this,r),s="_"+t;Object.defineProperties(o,{[s]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[s],u=a[i];return gt(l)?Object.assign({},u,l):Ze(l,u)},set(l){this[s]=l}}})}}var pt=new CY({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function RY(e){return!e||_t(e.size)||_t(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Uh(e,n,t,r,i){let o=n[i];return o||(o=n[i]=e.measureText(i).width,t.push(i)),o>r&&(r=o),r}function OY(e,n,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),e.save(),e.font=n;let a=0;const s=t.length;let l,u,c,f,h;for(l=0;l<s;l++)if(f=t[l],f!=null&&Tt(f)!==!0)a=Uh(e,i,o,a,f);else if(Tt(f))for(u=0,c=f.length;u<c;u++)h=f[u],h!=null&&!Tt(h)&&(a=Uh(e,i,o,a,h));e.restore();const d=o.length/2;if(d>t.length){for(l=0;l<d;l++)delete i[o[l]];o.splice(0,d)}return a}function Ma(e,n,t){const r=e.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((n-i)*r)/r+i}function HA(e,n){n=n||e.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore()}function zh(e,n,t,r){let i,o,a,s,l;const u=n.pointStyle,c=n.rotation,f=n.radius;let h=(c||0)*J3;if(u&&typeof u=="object"&&(i=u.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(t,r),e.rotate(h),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),e.restore();return}if(!(isNaN(f)||f<=0)){switch(e.beginPath(),u){default:e.arc(t,r,f,0,Et),e.closePath();break;case"triangle":e.moveTo(t+Math.sin(h)*f,r-Math.cos(h)*f),h+=_A,e.lineTo(t+Math.sin(h)*f,r-Math.cos(h)*f),h+=_A,e.lineTo(t+Math.sin(h)*f,r-Math.cos(h)*f),e.closePath();break;case"rectRounded":l=f*.516,s=f-l,o=Math.cos(h+Gu)*s,a=Math.sin(h+Gu)*s,e.arc(t-o,r-a,l,h-Ft,h-Zt),e.arc(t+a,r-o,l,h-Zt,h),e.arc(t+o,r+a,l,h,h+Zt),e.arc(t-a,r+o,l,h+Zt,h+Ft),e.closePath();break;case"rect":if(!c){s=Math.SQRT1_2*f,e.rect(t-s,r-s,2*s,2*s);break}h+=Gu;case"rectRot":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(t-o,r-a),e.lineTo(t+a,r-o),e.lineTo(t+o,r+a),e.lineTo(t-a,r+o),e.closePath();break;case"crossRot":h+=Gu;case"cross":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(t-o,r-a),e.lineTo(t+o,r+a),e.moveTo(t+a,r-o),e.lineTo(t-a,r+o);break;case"star":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(t-o,r-a),e.lineTo(t+o,r+a),e.moveTo(t+a,r-o),e.lineTo(t-a,r+o),h+=Gu,o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(t-o,r-a),e.lineTo(t+o,r+a),e.moveTo(t+a,r-o),e.lineTo(t-a,r+o);break;case"line":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(t-o,r-a),e.lineTo(t+o,r+a);break;case"dash":e.moveTo(t,r),e.lineTo(t+Math.cos(h)*f,r+Math.sin(h)*f);break}e.fill(),n.borderWidth>0&&e.stroke()}}function xa(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function Yh(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function Gh(e){e.restore()}function EY(e,n,t,r,i){if(!n)return e.lineTo(t.x,t.y);if(i==="middle"){const o=(n.x+t.x)/2;e.lineTo(o,n.y),e.lineTo(o,t.y)}else i==="after"!=!!r?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function TY(e,n,t,r){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(r?n.cp1x:n.cp2x,r?n.cp1y:n.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Pa(e,n,t,r,i,o={}){const a=Tt(n)?n:[n],s=o.strokeWidth>0&&o.strokeColor!=="";let l,u;for(e.save(),e.font=i.string,kY(e,o),l=0;l<a.length;++l)u=a[l],s&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),_t(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,t,r,o.maxWidth)),e.fillText(u,t,r,o.maxWidth),AY(e,t,r,u,o),r+=i.lineHeight;e.restore()}function kY(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),_t(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}function AY(e,n,t,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),a=n-o.actualBoundingBoxLeft,s=n+o.actualBoundingBoxRight,l=t-o.actualBoundingBoxAscent,u=t+o.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,c),e.lineTo(s,c),e.stroke()}}function Kh(e,n){const{x:t,y:r,w:i,h:o,radius:a}=n;e.arc(t+a.topLeft,r+a.topLeft,a.topLeft,-Zt,Ft,!0),e.lineTo(t,r+o-a.bottomLeft),e.arc(t+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,Ft,Zt,!0),e.lineTo(t+i-a.bottomRight,r+o),e.arc(t+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,Zt,0,!0),e.lineTo(t+i,r+a.topRight),e.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-Zt,!0),e.lineTo(t+a.topLeft,r)}const MY=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),xY=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function PY(e,n){const t=(""+e).match(MY);if(!t||t[1]==="normal")return n*1.2;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100;break}return n*e}const IY=e=>+e||0;function kb(e,n){const t={},r=gt(n),i=r?Object.keys(n):n,o=gt(e)?r?a=>Ze(e[a],e[n[a]]):a=>e[a]:()=>e;for(const a of i)t[a]=IY(o(a));return t}function FA(e){return kb(e,{top:"y",right:"x",bottom:"y",left:"x"})}function nl(e){return kb(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Pn(e){const n=FA(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function gn(e,n){e=e||{},n=n||pt.font;let t=Ze(e.size,n.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ze(e.style,n.style);r&&!(""+r).match(xY)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:Ze(e.family,n.family),lineHeight:PY(Ze(e.lineHeight,n.lineHeight),t),size:t,style:r,weight:Ze(e.weight,n.weight),string:""};return i.string=RY(i),i}function nc(e,n,t,r){let i=!0,o,a,s;for(o=0,a=e.length;o<a;++o)if(s=e[o],s!==void 0&&(n!==void 0&&typeof s=="function"&&(s=s(n),i=!1),t!==void 0&&Tt(s)&&(s=s[t%s.length],i=!1),s!==void 0))return r&&!i&&(r.cacheable=!1),s}function $Y(e,n,t){const{min:r,max:i}=e,o=mA(n,(i-r)/2),a=(s,l)=>t&&s===0?0:s+l;return{min:a(r,-Math.abs(o)),max:a(i,o)}}function Io(e,n){return Object.assign(Object.create(e),n)}function Ab(e,n,t){t=t||(a=>e[a]<n);let r=e.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const $i=(e,n,t)=>Ab(e,t,r=>e[r][n]<t),DY=(e,n,t)=>Ab(e,t,r=>e[r][n]>=t);function NY(e,n,t){let r=0,i=e.length;for(;r<i&&e[r]<n;)r++;for(;i>r&&e[i-1]>t;)i--;return r>0||i<e.length?e.slice(r,i):e}const BA=["push","pop","shift","splice","unshift"];function LY(e,n){if(e._chartjs){e._chartjs.listeners.push(n);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),BA.forEach(t=>{const r="_onData"+mb(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){const a=i.apply(this,o);return e._chartjs.listeners.forEach(s=>{typeof s[r]=="function"&&s[r](...o)}),a}})})}function VA(e,n){const t=e._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(n);i!==-1&&r.splice(i,1),!(r.length>0)&&(BA.forEach(o=>{delete e[o]}),delete e._chartjs)}function WA(e){const n=new Set;let t,r;for(t=0,r=e.length;t<r;++t)n.add(e[t]);return n.size===r?e:Array.from(n)}function Mb(e,n=[""],t=e,r,i=()=>e[0]){wr(r)||(r=GA("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:t,_fallback:r,_getTarget:i,override:a=>Mb([a,...e],n,t,r)};return new Proxy(o,{deleteProperty(a,s){return delete a[s],delete a._keys,delete e[0][s],!0},get(a,s){return UA(a,s,()=>zY(s,n,e,a))},getOwnPropertyDescriptor(a,s){return Reflect.getOwnPropertyDescriptor(a._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,s){return KA(a).includes(s)},ownKeys(a){return KA(a)},set(a,s,l){const u=a._storage||(a._storage=i());return a[s]=u[s]=l,delete a._keys,!0}})}function rl(e,n,t,r){const i={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:jA(e,r),setContext:o=>rl(e,o,t,r),override:o=>rl(e.override(o),n,t,r)};return new Proxy(i,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,s){return UA(o,a,()=>FY(o,a,s))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,s){return e[a]=s,delete o[a],!0}})}function jA(e,n={scriptable:!0,indexable:!0}){const{_scriptable:t=n.scriptable,_indexable:r=n.indexable,_allKeys:i=n.allKeys}=e;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Po(t)?t:()=>t,isIndexable:Po(r)?r:()=>r}}const HY=(e,n)=>e?e+mb(n):n,xb=(e,n)=>gt(n)&&e!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function UA(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n))return e[n];const r=t();return e[n]=r,r}function FY(e,n,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=e;let s=r[n];return Po(s)&&a.isScriptable(n)&&(s=BY(n,s,e,t)),Tt(s)&&s.length&&(s=VY(n,s,e,a.isIndexable)),xb(n,s)&&(s=rl(s,i,o&&o[n],a)),s}function BY(e,n,t,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=t;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);return s.add(e),n=n(o,a||r),s.delete(e),xb(e,n)&&(n=Pb(i._scopes,i,e,n)),n}function VY(e,n,t,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=t;if(wr(o.index)&&r(e))n=n[o.index%n.length];else if(gt(n[0])){const l=n,u=i._scopes.filter(c=>c!==l);n=[];for(const c of l){const f=Pb(u,i,e,c);n.push(rl(f,o,a&&a[e],s))}}return n}function zA(e,n,t){return Po(e)?e(n,t):e}const WY=(e,n)=>e===!0?n:typeof e=="string"?ka(n,e):void 0;function jY(e,n,t,r,i){for(const o of n){const a=WY(t,o);if(a){e.add(a);const s=zA(a._fallback,t,i);if(wr(s)&&s!==t&&s!==r)return s}else if(a===!1&&wr(r)&&t!==r)return null}return!1}function Pb(e,n,t,r){const i=n._rootScopes,o=zA(n._fallback,t,r),a=[...e,...i],s=new Set;s.add(r);let l=YA(s,a,t,o||t,r);return l===null||wr(o)&&o!==t&&(l=YA(s,a,o,l,r),l===null)?!1:Mb(Array.from(s),[""],i,o,()=>UY(n,t,r))}function YA(e,n,t,r,i){for(;t;)t=jY(e,n,t,r,i);return t}function UY(e,n,t){const r=e._getTarget();n in r||(r[n]={});const i=r[n];return Tt(i)&&gt(t)?t:i}function zY(e,n,t,r){let i;for(const o of n)if(i=GA(HY(o,e),t),wr(i))return xb(e,i)?Pb(t,r,e,i):i}function GA(e,n){for(const t of n){if(!t)continue;const r=t[e];if(wr(r))return r}}function KA(e){let n=e._keys;return n||(n=e._keys=YY(e._scopes)),n}function YY(e){const n=new Set;for(const t of e)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))n.add(r);return Array.from(n)}const GY=Number.EPSILON||1e-14,il=(e,n)=>n<e.length&&!e[n].skip&&e[n],XA=e=>e==="x"?"y":"x";function KY(e,n,t,r){const i=e.skip?n:e,o=n,a=t.skip?n:t,s=bb(o,i),l=bb(a,o);let u=s/(s+l),c=l/(s+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=r*u,h=r*c;return{previous:{x:o.x-f*(a.x-i.x),y:o.y-f*(a.y-i.y)},next:{x:o.x+h*(a.x-i.x),y:o.y+h*(a.y-i.y)}}}function XY(e,n,t){const r=e.length;let i,o,a,s,l,u=il(e,0);for(let c=0;c<r-1;++c)if(l=u,u=il(e,c+1),!(!l||!u)){if(Xu(n[c],0,GY)){t[c]=t[c+1]=0;continue}i=t[c]/n[c],o=t[c+1]/n[c],s=Math.pow(i,2)+Math.pow(o,2),!(s<=9)&&(a=3/Math.sqrt(s),t[c]=i*a*n[c],t[c+1]=o*a*n[c])}}function qY(e,n,t="x"){const r=XA(t),i=e.length;let o,a,s,l=il(e,0);for(let u=0;u<i;++u){if(a=s,s=l,l=il(e,u+1),!s)continue;const c=s[t],f=s[r];a&&(o=(c-a[t])/3,s[`cp1${t}`]=c-o,s[`cp1${r}`]=f-o*n[u]),l&&(o=(l[t]-c)/3,s[`cp2${t}`]=c+o,s[`cp2${r}`]=f+o*n[u])}}function ZY(e,n="x"){const t=XA(n),r=e.length,i=Array(r).fill(0),o=Array(r);let a,s,l,u=il(e,0);for(a=0;a<r;++a)if(s=l,l=u,u=il(e,a+1),!!l){if(u){const c=u[n]-l[n];i[a]=c!==0?(u[t]-l[t])/c:0}o[a]=s?u?Sr(i[a-1])!==Sr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}XY(e,i,o),qY(e,o,n)}function Xh(e,n,t){return Math.max(Math.min(e,t),n)}function QY(e,n){let t,r,i,o,a,s=xa(e[0],n);for(t=0,r=e.length;t<r;++t)a=o,o=s,s=t<r-1&&xa(e[t+1],n),!!o&&(i=e[t],a&&(i.cp1x=Xh(i.cp1x,n.left,n.right),i.cp1y=Xh(i.cp1y,n.top,n.bottom)),s&&(i.cp2x=Xh(i.cp2x,n.left,n.right),i.cp2y=Xh(i.cp2y,n.top,n.bottom)))}function JY(e,n,t,r,i){let o,a,s,l;if(n.spanGaps&&(e=e.filter(u=>!u.skip)),n.cubicInterpolationMode==="monotone")ZY(e,i);else{let u=r?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)s=e[o],l=KY(u,s,e[Math.min(o+1,a-(r?0:1))%a],n.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}n.capBezierPoints&&QY(e,t)}function qA(){return typeof window!="undefined"&&typeof document!="undefined"}function Ib(e){let n=e.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function qh(e,n,t){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*n.parentNode[t])):r=e,r}const Zh=e=>window.getComputedStyle(e,null);function eG(e,n){return Zh(e).getPropertyValue(n)}const tG=["top","right","bottom","left"];function Ia(e,n,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=tG[i];r[o]=parseFloat(e[n+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const nG=(e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot);function rG(e,n){const t=e.native||e,r=t.touches,i=r&&r.length?r[0]:t,{offsetX:o,offsetY:a}=i;let s=!1,l,u;if(nG(o,a,t.target))l=o,u=a;else{const c=n.getBoundingClientRect();l=i.clientX-c.left,u=i.clientY-c.top,s=!0}return{x:l,y:u,box:s}}function ZA(e,n){const{canvas:t,currentDevicePixelRatio:r}=n,i=Zh(t),o=i.boxSizing==="border-box",a=Ia(i,"padding"),s=Ia(i,"border","width"),{x:l,y:u,box:c}=rG(e,t),f=a.left+(c&&s.left),h=a.top+(c&&s.top);let{width:d,height:g}=n;return o&&(d-=a.width+s.width,g-=a.height+s.height),{x:Math.round((l-f)/d*t.width/r),y:Math.round((u-h)/g*t.height/r)}}function iG(e,n,t){let r,i;if(n===void 0||t===void 0){const o=Ib(e);if(!o)n=e.clientWidth,t=e.clientHeight;else{const a=o.getBoundingClientRect(),s=Zh(o),l=Ia(s,"border","width"),u=Ia(s,"padding");n=a.width-u.width-l.width,t=a.height-u.height-l.height,r=qh(s.maxWidth,o,"clientWidth"),i=qh(s.maxHeight,o,"clientHeight")}}return{width:n,height:t,maxWidth:r||Lh,maxHeight:i||Lh}}const $b=e=>Math.round(e*10)/10;function oG(e,n,t,r){const i=Zh(e),o=Ia(i,"margin"),a=qh(i.maxWidth,e,"clientWidth")||Lh,s=qh(i.maxHeight,e,"clientHeight")||Lh,l=iG(e,n,t);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const f=Ia(i,"border","width"),h=Ia(i,"padding");u-=h.width+f.width,c-=h.height+f.height}return u=Math.max(0,u-o.width),c=Math.max(0,r?Math.floor(u/r):c-o.height),u=$b(Math.min(u,a,l.maxWidth)),c=$b(Math.min(c,s,l.maxHeight)),u&&!c&&(c=$b(u/2)),{width:u,height:c}}function QA(e,n,t){const r=n||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=i/r,e.width=o/r;const a=e.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||a.height!==i||a.width!==o?(e.currentDevicePixelRatio=r,a.height=i,a.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const aG=function(){let e=!1;try{const n={get passive(){return e=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return e}();function JA(e,n){const t=eG(e,n),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function $a(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function sG(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:r==="middle"?t<.5?e.y:n.y:r==="after"?t<1?e.y:n.y:t>0?n.y:e.y}}function lG(e,n,t,r){const i={x:e.cp2x,y:e.cp2y},o={x:n.cp1x,y:n.cp1y},a=$a(e,i,t),s=$a(i,o,t),l=$a(o,n,t),u=$a(a,s,t),c=$a(s,l,t);return $a(u,c,t)}const e1=new Map;function uG(e,n){n=n||{};const t=e+JSON.stringify(n);let r=e1.get(t);return r||(r=new Intl.NumberFormat(e,n),e1.set(t,r)),r}function rc(e,n,t){return uG(n,t).format(e)}const cG=function(e,n){return{x(t){return e+e+n-t},setWidth(t){n=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},fG=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,n){return e+n},leftForLtr(e,n){return e}}};function ol(e,n,t){return e?cG(n,t):fG()}function t1(e,n){let t,r;(n==="ltr"||n==="rtl")&&(t=e.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=r)}function n1(e,n){n!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function r1(e){return e==="angle"?{between:qu,compare:nY,normalize:or}:{between:Ii,compare:(n,t)=>n-t,normalize:n=>n}}function i1({start:e,end:n,count:t,loop:r,style:i}){return{start:e%t,end:n%t,loop:r&&(n-e+1)%t==0,style:i}}function hG(e,n,t){const{property:r,start:i,end:o}=t,{between:a,normalize:s}=r1(r),l=n.length;let{start:u,end:c,loop:f}=e,h,d;if(f){for(u+=l,c+=l,h=0,d=l;h<d&&a(s(n[u%l][r]),i,o);++h)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:f,style:e.style}}function o1(e,n,t){if(!t)return[e];const{property:r,start:i,end:o}=t,a=n.length,{compare:s,between:l,normalize:u}=r1(r),{start:c,end:f,loop:h,style:d}=hG(e,n,t),g=[];let p=!1,v=null,m,w,C;const E=()=>l(i,C,m)&&s(i,C)!==0,k=()=>s(o,m)===0||l(o,C,m),$=()=>p||E(),D=()=>!p||k();for(let Y=c,L=c;Y<=f;++Y)w=n[Y%a],!w.skip&&(m=u(w[r]),m!==C&&(p=l(m,i,o),v===null&&$()&&(v=s(m,i)===0?Y:L),v!==null&&D()&&(g.push(i1({start:v,end:Y,loop:h,count:a,style:d})),v=null),L=Y,C=m));return v!==null&&g.push(i1({start:v,end:f,loop:h,count:a,style:d})),g}function a1(e,n){const t=[],r=e.segments;for(let i=0;i<r.length;i++){const o=o1(r[i],e.points,n);o.length&&t.push(...o)}return t}function dG(e,n,t,r){let i=0,o=n-1;if(t&&!r)for(;i<n&&!e[i].skip;)i++;for(;i<n&&e[i].skip;)i++;for(i%=n,t&&(o+=i);o>i&&e[o%n].skip;)o--;return o%=n,{start:i,end:o}}function gG(e,n,t,r){const i=e.length,o=[];let a=n,s=e[n],l;for(l=n+1;l<=t;++l){const u=e[l%i];u.skip||u.stop?s.skip||(r=!1,o.push({start:n%i,end:(l-1)%i,loop:r}),n=a=u.stop?l:null):(a=l,s.skip&&(n=l)),s=u}return a!==null&&o.push({start:n%i,end:a%i,loop:r}),o}function pG(e,n){const t=e.points,r=e.options.spanGaps,i=t.length;if(!i)return[];const o=!!e._loop,{start:a,end:s}=dG(t,i,o,r);if(r===!0)return s1(e,[{start:a,end:s,loop:o}],t,n);const l=s<a?s+i:s,u=!!e._fullLoop&&a===0&&s===i-1;return s1(e,gG(t,a,l,u),t,n)}function s1(e,n,t,r){return!r||!r.setContext||!t?n:vG(e,n,t,r)}function vG(e,n,t,r){const i=e._chart.getContext(),o=l1(e.options),{_datasetIndex:a,options:{spanGaps:s}}=e,l=t.length,u=[];let c=o,f=n[0].start,h=f;function d(g,p,v,m){const w=s?-1:1;if(g!==p){for(g+=l;t[g%l].skip;)g-=w;for(;t[p%l].skip;)p+=w;g%l!=p%l&&(u.push({start:g%l,end:p%l,loop:v,style:m}),c=m,f=p%l)}}for(const g of n){f=s?f:g.start;let p=t[f%l],v;for(h=f+1;h<=g.end;h++){const m=t[h%l];v=l1(r.setContext(Io(i,{type:"segment",p0:p,p1:m,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),mG(v,c)&&d(f,h-1,g.loop,c),p=m,c=v}f<h-1&&d(f,h-1,g.loop,c)}return u}function l1(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function mG(e,n){return n&&JSON.stringify(e)!==JSON.stringify(n)}/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class yG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,r,i){const o=t.listeners[i],a=t.duration;o.forEach(s=>s({chart:n,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=pA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let a=o.length-1,s=!1,l;for(;a>=0;--a)l=o[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(n),s=!0):(o[a]=o[o.length-1],o.pop());s&&(i.draw(),this._notify(i,r,n,"progress")),o.length||(r.running=!1,this._notify(i,r,n,"complete"),r.initial=!1),t+=o.length}),this._lastDate=n,t===0&&(this._running=!1)}_getAnims(n){const t=this._charts;let r=t.get(n);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,r)),r}listen(n,t,r){this._getAnims(n).listeners[t].push(r)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){const t=this._charts.get(n);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(n){if(!this._running)return!1;const t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){const t=this._charts.get(n);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Di=new yG;const u1="transparent",bG={boolean(e,n,t){return t>.5?n:e},color(e,n,t){const r=LA(e||u1),i=r.valid&&LA(n||u1);return i&&i.valid?i.mix(r,t).hexString():n},number(e,n,t){return e+(n-e)*t}};class wG{constructor(n,t,r,i){const o=t[r];i=nc([n.to,i,o,n.from]);const a=nc([n.from,o,i]);this._active=!0,this._fn=n.fn||bG[n.type||typeof a],this._easing=Zu[n.easing]||Zu.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(n,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,a=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(a,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=nc([n.to,t,i,n.from]),this._from=nc([n.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const t=n-this._start,r=this._duration,i=this._prop,o=this._from,a=this._loop,s=this._to;let l;if(this._active=o!==s&&(a||t<r),!this._active){this._target[i]=s,this._notify(!0);return}if(t<0){this._target[i]=o;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,s,l)}wait(){const n=this._promises||(this._promises=[]);return new Promise((t,r)=>{n.push({res:t,rej:r})})}_notify(n){const t=n?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}const _G=["x","y","borderWidth","radius","tension"],SG=["color","borderColor","backgroundColor"];pt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const CG=Object.keys(pt.animation);pt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});pt.set("animations",{colors:{type:"color",properties:SG},numbers:{type:"number",properties:_G}});pt.describe("animations",{_fallback:"animation"});pt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class c1{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!gt(n))return;const t=this._properties;Object.getOwnPropertyNames(n).forEach(r=>{const i=n[r];if(!gt(i))return;const o={};for(const a of CG)o[a]=i[a];(Tt(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!t.has(a))&&t.set(a,o)})})}_animateOptions(n,t){const r=t.options,i=OG(n,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&RG(n.options.$animations,r).then(()=>{n.options=r},()=>{}),o}_createAnimations(n,t){const r=this._properties,i=[],o=n.$animations||(n.$animations={}),a=Object.keys(t),s=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(n,t));continue}const c=t[u];let f=o[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,c,s);continue}else f.cancel();if(!h||!h.duration){n[u]=c;continue}o[u]=f=new wG(h,n,u,c),i.push(f)}return i}update(n,t){if(this._properties.size===0){Object.assign(n,t);return}const r=this._createAnimations(n,t);if(r.length)return Di.add(this._chart,r),!0}}function RG(e,n){const t=[],r=Object.keys(n);for(let i=0;i<r.length;i++){const o=e[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function OG(e,n){if(!n)return;let t=e.options;if(!t){e.options=n;return}return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function f1(e,n){const t=e&&e.options||{},r=t.reverse,i=t.min===void 0?n:0,o=t.max===void 0?n:0;return{start:r?o:i,end:r?i:o}}function EG(e,n,t){if(t===!1)return!1;const r=f1(e,t),i=f1(n,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function TG(e){let n,t,r,i;return gt(e)?(n=e.top,t=e.right,r=e.bottom,i=e.left):n=t=r=i=e,{top:n,right:t,bottom:r,left:i,disabled:e===!1}}function h1(e,n){const t=[],r=e._getSortedDatasetMetas(n);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function d1(e,n,t,r={}){const i=e.keys,o=r.mode==="single";let a,s,l,u;if(n!==null){for(a=0,s=i.length;a<s;++a){if(l=+i[a],l===t){if(r.all)continue;break}u=e.values[l],tn(u)&&(o||n===0||Sr(n)===Sr(u))&&(n+=u)}return n}}function kG(e){const n=Object.keys(e),t=new Array(n.length);let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r],t[r]={x:o,y:e[o]};return t}function g1(e,n){const t=e&&e.options.stacked;return t||t===void 0&&n.stack!==void 0}function AG(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}function MG(e){const{min:n,max:t,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?n:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function xG(e,n,t){const r=e[n]||(e[n]={});return r[t]||(r[t]={})}function p1(e,n,t,r){for(const i of n.getMatchingVisibleMetas(r).reverse()){const o=e[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function v1(e,n){const{chart:t,_cachedMeta:r}=e,i=t._stacks||(t._stacks={}),{iScale:o,vScale:a,index:s}=r,l=o.axis,u=a.axis,c=AG(o,a,r),f=n.length;let h;for(let d=0;d<f;++d){const g=n[d],{[l]:p,[u]:v}=g,m=g._stacks||(g._stacks={});h=m[u]=xG(i,c,p),h[s]=v,h._top=p1(h,a,!0,r.type),h._bottom=p1(h,a,!1,r.type)}}function Db(e,n){const t=e.scales;return Object.keys(t).filter(r=>t[r].axis===n).shift()}function PG(e,n){return Io(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function IG(e,n,t){return Io(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}function ic(e,n){const t=e.controller.index,r=e.vScale&&e.vScale.axis;if(!!r){n=n||e._parsed;for(const i of n){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t]}}}const Nb=e=>e==="reset"||e==="none",m1=(e,n)=>n?e:Object.assign({},e),$G=(e,n,t)=>e&&!n.hidden&&n._stacked&&{keys:h1(t,!0),values:null};class oi{constructor(n,t){this.chart=n,this._ctx=n.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=g1(n.vScale,n),this.addElements()}updateIndex(n){this.index!==n&&ic(this._cachedMeta),this.index=n}linkScales(){const n=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(f,h,d,g)=>f==="x"?h:f==="r"?g:d,o=t.xAxisID=Ze(r.xAxisID,Db(n,"x")),a=t.yAxisID=Ze(r.yAxisID,Db(n,"y")),s=t.rAxisID=Ze(r.rAxisID,Db(n,"r")),l=t.indexAxis,u=t.iAxisID=i(l,o,a,s),c=t.vAxisID=i(l,a,o,s);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){const t=this._cachedMeta;return n===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const n=this._cachedMeta;this._data&&VA(this._data,this),n._stacked&&ic(n)}_dataCheck(){const n=this.getDataset(),t=n.data||(n.data=[]),r=this._data;if(gt(t))this._data=kG(t);else if(r!==t){if(r){VA(r,this);const i=this._cachedMeta;ic(i),i._parsed=[]}t&&Object.isExtensible(t)&&LY(t,this),this._syncList=[],this._data=t}}addElements(){const n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=g1(t.vScale,t),t.stack!==r.stack&&(i=!0,ic(t),t.stack=r.stack),this._resyncElements(n),(i||o!==t._stacked)&&v1(this,t._parsed)}configure(){const n=this.chart.config,t=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),t,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:a}=r,s=o.axis;let l=n===0&&t===i.length?!0:r._sorted,u=n>0&&r._parsed[n-1],c,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Tt(i[n])?h=this.parseArrayData(r,i,n,t):gt(i[n])?h=this.parseObjectData(r,i,n,t):h=this.parsePrimitiveData(r,i,n,t);const d=()=>f[s]===null||u&&f[s]<u[s];for(c=0;c<t;++c)r._parsed[c+n]=f=h[c],l&&(d()&&(l=!1),u=f);r._sorted=l}a&&v1(this,h)}parsePrimitiveData(n,t,r,i){const{iScale:o,vScale:a}=n,s=o.axis,l=a.axis,u=o.getLabels(),c=o===a,f=new Array(i);let h,d,g;for(h=0,d=i;h<d;++h)g=h+r,f[h]={[s]:c||o.parse(u[g],g),[l]:a.parse(t[g],g)};return f}parseArrayData(n,t,r,i){const{xScale:o,yScale:a}=n,s=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+r,f=t[c],s[l]={x:o.parse(f[0],c),y:a.parse(f[1],c)};return s}parseObjectData(n,t,r,i){const{xScale:o,yScale:a}=n,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,h,d;for(c=0,f=i;c<f;++c)h=c+r,d=t[h],u[c]={x:o.parse(ka(d,s),h),y:a.parse(ka(d,l),h)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,t,r){const i=this.chart,o=this._cachedMeta,a=t[n.axis],s={keys:h1(i,!0),values:t._stacks[n.axis]};return d1(s,a,o.index,{mode:r})}updateRangeFromParsed(n,t,r,i){const o=r[t.axis];let a=o===null?NaN:o;const s=i&&r._stacks[t.axis];i&&s&&(i.values=s,a=d1(i,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&n===r.iScale,a=i.length,s=this._getOtherScale(n),l=$G(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=MG(s);let h,d;function g(){d=i[h];const p=d[s.axis];return!tn(d[n.axis])||c>p||f<p}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(u,n,d,l),o));++h);if(o){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(u,n,d,l);break}}return u}getAllParsedValues(n){const t=this._cachedMeta._parsed,r=[];let i,o,a;for(i=0,o=t.length;i<o;++i)a=t[i][n.axis],tn(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(n){const t=this._cachedMeta;this.update(n||"default"),t._clip=TG(Ze(this.options.clip,EG(t.xScale,t.yScale,this.getMaxOverflow())))}update(n){}draw(){const n=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,a=[],s=this._drawStart||0,l=this._drawCount||i.length-s,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(n,o,s,l),c=s;c<s+l;++c){const f=i[c];f.hidden||(f.active&&u?a.push(f):f.draw(n,o))}for(c=0;c<a.length;++c)a[c].draw(n,o)}getStyle(n,t){const r=t?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,t,r){const i=this.getDataset();let o;if(n>=0&&n<this._cachedMeta.data.length){const a=this._cachedMeta.data[n];o=a.$context||(a.$context=IG(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=i.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=PG(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,t){return this._resolveElementOptions(this.dataElementType.id,t,n)}_resolveElementOptions(n,t="default",r){const i=t==="active",o=this._cachedDataOpts,a=n+"-"+t,s=o[a],l=this.enableOptionSharing&&wr(r);if(s)return m1(s,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,n),f=i?[`${n}Hover`,"hover",n,""]:[n,""],h=u.getOptionScopes(this.getDataset(),c),d=Object.keys(pt.elements[n]),g=()=>this.getContext(r,i),p=u.resolveNamedOptions(h,d,g,f);return p.$shared&&(p.$shared=l,o[a]=Object.freeze(m1(p,l))),p}_resolveAnimations(n,t,r){const i=this.chart,o=this._cachedDataOpts,a=`animation-${t}`,s=o[a];if(s)return s;let l;if(i.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,t),h=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(h,this.getContext(n,r,t))}const u=new c1(i,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(n){if(!!n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,t){return!t||Nb(n)||this.chart._animationsDisabled}updateElement(n,t,r,i){Nb(i)?Object.assign(n,r):this._resolveAnimations(t,i).update(n,r)}updateSharedOptions(n,t,r){n&&!Nb(t)&&this._resolveAnimations(void 0,t).update(n,r)}_setStyle(n,t,r,i){n.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(n,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(n,t,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,t,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){const t=this._data,r=this._cachedMeta.data;for(const[s,l,u]of this._syncList)this[s](l,u);this._syncList=[];const i=r.length,o=t.length,a=Math.min(o,i);a&&this.parse(0,a),o>i?this._insertElements(i,o-i,n):o<i&&this._removeElements(o,i-o)}_insertElements(n,t,r=!0){const i=this._cachedMeta,o=i.data,a=n+t;let s;const l=u=>{for(u.length+=t,s=u.length-1;s>=a;s--)u[s]=u[s-t]};for(l(o),s=n;s<a;++s)o[s]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(n,t),r&&this.updateElements(o,n,t,"reset")}updateElements(n,t,r,i){}_removeElements(n,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(n,t);r._stacked&&ic(r,i)}r.data.splice(n,t)}_sync(n){if(this._parsing)this._syncList.push(n);else{const[t,r,i]=n;this[t](r,i)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){const n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,t){t&&this._sync(["_removeElements",n,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oi.defaults={};oi.prototype.datasetElementType=null;oi.prototype.dataElementType=null;function DG(e,n){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(n);let r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(e));e._cache.$bar=WA(r.sort((i,o)=>i-o))}return e._cache.$bar}function NG(e){const n=e.iScale,t=DG(n,e.type);let r=n._length,i,o,a,s;const l=()=>{a===32767||a===-32768||(wr(s)&&(r=Math.min(r,Math.abs(a-s)||r)),s=a)};for(i=0,o=t.length;i<o;++i)a=n.getPixelForValue(t[i]),l();for(s=void 0,i=0,o=n.ticks.length;i<o;++i)a=n.getPixelForTick(i),l();return r}function LG(e,n,t,r){const i=t.barThickness;let o,a;return _t(i)?(o=n.min*t.categoryPercentage,a=t.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:n.pixels[e]-o/2}}function HG(e,n,t,r){const i=n.pixels,o=i[e];let a=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null;const l=t.categoryPercentage;a===null&&(a=o-(s===null?n.end-n.start:s-o)),s===null&&(s=o+o-a);const u=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:t.barPercentage,start:u}}function FG(e,n,t,r){const i=t.parse(e[0],r),o=t.parse(e[1],r),a=Math.min(i,o),s=Math.max(i,o);let l=a,u=s;Math.abs(a)>Math.abs(s)&&(l=s,u=a),n[t.axis]=u,n._custom={barStart:l,barEnd:u,start:i,end:o,min:a,max:s}}function y1(e,n,t,r){return Tt(e)?FG(e,n,t,r):n[t.axis]=t.parse(e,r),n}function b1(e,n,t,r){const i=e.iScale,o=e.vScale,a=i.getLabels(),s=i===o,l=[];let u,c,f,h;for(u=t,c=t+r;u<c;++u)h=n[u],f={},f[i.axis]=s||i.parse(a[u],u),l.push(y1(h,f,o,u));return l}function Lb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function BG(e,n,t){return e!==0?Sr(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}function VG(e){let n,t,r,i,o;return e.horizontal?(n=e.base>e.x,t="left",r="right"):(n=e.base<e.y,t="bottom",r="top"),n?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:n,top:i,bottom:o}}function WG(e,n,t,r){let i=n.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}const{start:a,end:s,reverse:l,top:u,bottom:c}=VG(e);i==="middle"&&t&&(e.enableBorderRadius=!0,(t._top||0)===r?i=u:(t._bottom||0)===r?i=c:(o[w1(c,a,s,l)]=!0,i=u)),o[w1(i,a,s,l)]=!0,e.borderSkipped=o}function w1(e,n,t,r){return r?(e=jG(e,n,t),e=_1(e,t,n)):e=_1(e,n,t),e}function jG(e,n,t){return e===n?t:e===t?n:e}function _1(e,n,t){return e==="start"?n:e==="end"?t:e}function UG(e,{inflateAmount:n},t){e.inflateAmount=n==="auto"?t===1?.33:0:n}class Qh extends oi{parsePrimitiveData(n,t,r,i){return b1(n,t,r,i)}parseArrayData(n,t,r,i){return b1(n,t,r,i)}parseObjectData(n,t,r,i){const{iScale:o,vScale:a}=n,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?s:l,c=a.axis==="x"?s:l,f=[];let h,d,g,p;for(h=r,d=r+i;h<d;++h)p=t[h],g={},g[o.axis]=o.parse(ka(p,u),h),f.push(y1(ka(p,c),g,a,h));return f}updateRangeFromParsed(n,t,r,i){super.updateRangeFromParsed(n,t,r,i);const o=r._custom;o&&t===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){const t=this._cachedMeta,{iScale:r,vScale:i}=t,o=this.getParsed(n),a=o._custom,s=Lb(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,n)}updateElements(n,t,r,i){const o=i==="reset",{index:a,_cachedMeta:{vScale:s}}=this,l=s.getBasePixel(),u=s.isHorizontal(),c=this._getRuler(),f=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(f),d=this.includeOptions(i,h);this.updateSharedOptions(h,i,f);for(let g=t;g<t+r;g++){const p=this.getParsed(g),v=o||_t(p[s.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),m=this._calculateBarIndexPixels(g,c),w=(p._stacks||{})[s.axis],C={horizontal:u,base:v.base,enableBorderRadius:!w||Lb(p._custom)||a===w._top||a===w._bottom,x:u?v.head:m.center,y:u?m.center:v.head,height:u?m.size:Math.abs(v.size),width:u?Math.abs(v.size):m.size};d&&(C.options=h||this.resolveDataElementOptions(g,n[g].active?"active":i));const E=C.options||n[g].options;WG(C,E,w,a),UG(C,E,c.ratio),this.updateElement(n[g],g,C,i)}}_getStacks(n,t){const i=this._cachedMeta.iScale,o=i.getMatchingVisibleMetas(this._type),a=i.options.stacked,s=o.length,l=[];let u,c;for(u=0;u<s;++u)if(c=o[u],!!c.controller.options.grouped){if(typeof t!="undefined"){const f=c.controller.getParsed(t)[c.controller._cachedMeta.vScale.axis];if(_t(f)||isNaN(f))continue}if((a===!1||l.indexOf(c.stack)===-1||a===void 0&&c.stack===void 0)&&l.push(c.stack),c.index===n)break}return l.length||l.push(void 0),l}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,t,r){const i=this._getStacks(n,r),o=t!==void 0?i.indexOf(t):-1;return o===-1?i.length-1:o}_getRuler(){const n=this.options,t=this._cachedMeta,r=t.iScale,i=[];let o,a;for(o=0,a=t.data.length;o<a;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const s=n.barThickness;return{min:s||NG(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:s?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){const{_cachedMeta:{vScale:t,_stacked:r},options:{base:i,minBarLength:o}}=this,a=i||0,s=this.getParsed(n),l=s._custom,u=Lb(l);let c=s[t.axis],f=0,h=r?this.applyStack(t,s,r):c,d,g;h!==c&&(f=h-c,h=c),u&&(c=l.barStart,h=l.barEnd-l.barStart,c!==0&&Sr(c)!==Sr(l.barEnd)&&(f=0),f+=c);const p=!_t(i)&&!u?i:f;let v=t.getPixelForValue(p);if(this.chart.getDataVisibility(n)?d=t.getPixelForValue(f+h):d=v,g=d-v,Math.abs(g)<o&&(g=BG(g,t,a)*o,c===a&&(v-=g/2),d=v+g),v===t.getPixelForValue(a)){const m=Sr(g)*t.getLineWidthForValue(a)/2;v+=m,g-=m}return{size:g,base:v,head:d,center:d+g/2}}_calculateBarIndexPixels(n,t){const r=t.scale,i=this.options,o=i.skipNull,a=Ze(i.maxBarThickness,1/0);let s,l;if(t.grouped){const u=o?this._getStackCount(n):t.stackCount,c=i.barThickness==="flex"?HG(n,t,i,u):LG(n,t,i,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);s=c.start+c.chunk*f+c.chunk/2,l=Math.min(a,c.chunk*c.ratio)}else s=r.getPixelForValue(this.getParsed(n)[r.axis],n),l=Math.min(a,t.min*t.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){const n=this._cachedMeta,t=n.vScale,r=n.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[t.axis]!==null&&r[o].draw(this._ctx)}}Qh.id="bar";Qh.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Qh.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Jh extends oi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,t,r,i){const o=super.parsePrimitiveData(n,t,r,i);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,t,r,i){const o=super.parseArrayData(n,t,r,i);for(let a=0;a<o.length;a++){const s=t[r+a];o[a]._custom=Ze(s[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(n,t,r,i){const o=super.parseObjectData(n,t,r,i);for(let a=0;a<o.length;a++){const s=t[r+a];o[a]._custom=Ze(s&&s.r&&+s.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){const n=this._cachedMeta.data;let t=0;for(let r=n.length-1;r>=0;--r)t=Math.max(t,n[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(n){const t=this._cachedMeta,{xScale:r,yScale:i}=t,o=this.getParsed(n),a=r.getLabelForValue(o.x),s=i.getLabelForValue(o.y),l=o._custom;return{label:t.label,value:"("+a+", "+s+(l?", "+l:"")+")"}}update(n){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,n)}updateElements(n,t,r,i){const o=i==="reset",{iScale:a,vScale:s}=this._cachedMeta,l=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(l),c=this.includeOptions(i,u),f=a.axis,h=s.axis;for(let d=t;d<t+r;d++){const g=n[d],p=!o&&this.getParsed(d),v={},m=v[f]=o?a.getPixelForDecimal(.5):a.getPixelForValue(p[f]),w=v[h]=o?s.getBasePixel():s.getPixelForValue(p[h]);v.skip=isNaN(m)||isNaN(w),c&&(v.options=this.resolveDataElementOptions(d,g.active?"active":i),o&&(v.options.radius=0)),this.updateElement(g,d,v,i)}this.updateSharedOptions(u,i,l)}resolveDataElementOptions(n,t){const r=this.getParsed(n);let i=super.resolveDataElementOptions(n,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return t!=="active"&&(i.radius=0),i.radius+=Ze(r&&r._custom,o),i}}Jh.id="bubble";Jh.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Jh.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function zG(e,n,t){let r=1,i=1,o=0,a=0;if(n<Et){const s=e,l=s+n,u=Math.cos(s),c=Math.sin(s),f=Math.cos(l),h=Math.sin(l),d=(C,E,k)=>qu(C,s,l,!0)?1:Math.max(E,E*t,k,k*t),g=(C,E,k)=>qu(C,s,l,!0)?-1:Math.min(E,E*t,k,k*t),p=d(0,u,f),v=d(Zt,c,h),m=g(Ft,u,f),w=g(Ft+Zt,c,h);r=(p-m)/2,i=(v-w)/2,o=-(p+m)/2,a=-(v+w)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}class al extends oi{constructor(n,t){super(n,t);this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=l=>+r[l];if(gt(r[n])){const{key:l="value"}=this._parsing;o=u=>+ka(r[u],l)}let a,s;for(a=n,s=n+t;a<s;++a)i._parsed[a]=o(a)}}_getRotation(){return Fr(this.options.rotation-90)}_getCircumference(){return Fr(this.options.circumference)}_getRotationExtents(){let n=Et,t=-Et;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),a=i._getCircumference();n=Math.min(n,o),t=Math.max(t,o+a)}return{rotation:n,circumference:t-n}}update(n){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,o=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(Y3(this.options.cutout,s),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:g,offsetY:p}=zG(f,c,l),v=(r.width-a)/h,m=(r.height-a)/d,w=Math.max(Math.min(v,m)/2,0),C=mA(this.options.radius,w),E=Math.max(C*l,0),k=(C-E)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=p*C,i.total=this.calculateTotal(),this.outerRadius=C-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*u,0),this.updateElements(o,0,o.length,n)}_circumference(n,t){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||i._parsed[n]===null||i.data[n].hidden?0:this.calculateCircumference(i._parsed[n]*o/Et)}updateElements(n,t,r,i){const o=i==="reset",a=this.chart,s=a.chartArea,u=a.options.animation,c=(s.left+s.right)/2,f=(s.top+s.bottom)/2,h=o&&u.animateScale,d=h?0:this.innerRadius,g=h?0:this.outerRadius,p=this.resolveDataElementOptions(t,i),v=this.getSharedOptions(p),m=this.includeOptions(i,v);let w=this._getRotation(),C;for(C=0;C<t;++C)w+=this._circumference(C,o);for(C=t;C<t+r;++C){const E=this._circumference(C,o),k=n[C],$={x:c+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+E,circumference:E,outerRadius:g,innerRadius:d};m&&($.options=v||this.resolveDataElementOptions(C,k.active?"active":i)),w+=E,this.updateElement(k,C,$,i)}this.updateSharedOptions(v,i,p)}calculateTotal(){const n=this._cachedMeta,t=n.data;let r=0,i;for(i=0;i<t.length;i++){const o=n._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){const t=this._cachedMeta.total;return t>0&&!isNaN(n)?Et*(Math.abs(n)/t):0}getLabelAndValue(n){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=rc(t._parsed[n],r.options.locale);return{label:i[n]||"",value:o}}getMaxBorderWidth(n){let t=0;const r=this.chart;let i,o,a,s,l;if(!n){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),n=a.data,s=a.controller;break}}if(!n)return 0;for(i=0,o=n.length;i<o;++i)l=s.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(n){let t=0;for(let r=0,i=n.length;r<i;++r){const o=this.resolveDataElementOptions(r);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(n){let t=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(n){return Math.max(Ze(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}al.id="doughnut";al.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};al.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};al.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:t}}=e.legend.options;return n.labels.map((r,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:t,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,n,t){t.chart.toggleDataVisibility(n.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let n=e.label;const t=": "+e.formattedValue;return Tt(n)?(n=n.slice(),n[0]+=t):n+=t,n}}}}};class oc extends oi{initialize(){this.enableOptionSharing=!0,super.initialize()}update(n){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=t,a=this.chart._animationsDisabled;let{start:s,count:l}=YG(t,i,a);this._drawStart=s,this._drawCount=l,GG(t)&&(s=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},n),this.updateElements(i,s,l,n)}updateElements(n,t,r,i){const o=i==="reset",{iScale:a,vScale:s,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),f=this.getSharedOptions(c),h=this.includeOptions(i,f),d=a.axis,g=s.axis,{spanGaps:p,segment:v}=this.options,m=Ku(p)?p:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||i==="none";let C=t>0&&this.getParsed(t-1);for(let E=t;E<t+r;++E){const k=n[E],$=this.getParsed(E),D=w?k:{},Y=_t($[g]),L=D[d]=a.getPixelForValue($[d],E),X=D[g]=o||Y?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,$,l):$[g],E);D.skip=isNaN(L)||isNaN(X)||Y,D.stop=E>0&&$[d]-C[d]>m,v&&(D.parsed=$,D.raw=u.data[E]),h&&(D.options=f||this.resolveDataElementOptions(E,k.active?"active":i)),w||this.updateElement(k,E,D,i),C=$}this.updateSharedOptions(f,i,c)}getMaxOverflow(){const n=this._cachedMeta,t=n.dataset,r=t.options&&t.options.borderWidth||0,i=n.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,a)/2}draw(){const n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}oc.id="line";oc.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};oc.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function YG(e,n,t){const r=n.length;let i=0,o=r;if(e._sorted){const{iScale:a,_parsed:s}=e,l=a.axis,{min:u,max:c,minDefined:f,maxDefined:h}=a.getUserBounds();f&&(i=Cn(Math.min($i(s,a.axis,u).lo,t?r:$i(n,l,a.getPixelForValue(u)).lo),0,r-1)),h?o=Cn(Math.max($i(s,a.axis,c).hi+1,t?0:$i(n,l,a.getPixelForValue(c)).hi+1),i,r)-i:o=r-i}return{start:i,count:o}}function GG(e){const{xScale:n,yScale:t,_scaleRanges:r}=e,i={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==n.min||r.xmax!==n.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}class ed extends oi{constructor(n,t){super(n,t);this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=rc(t._parsed[n].r,r.options.locale);return{label:i[n]||"",value:o}}update(n){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,n)}_updateRadius(){const n=this.chart,t=n.chartArea,r=n.options,i=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),s=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(n,t,r,i){const o=i==="reset",a=this.chart,s=this.getDataset(),u=a.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Ft;let g=d,p;const v=360/this.countVisibleElements();for(p=0;p<t;++p)g+=this._computeAngle(p,i,v);for(p=t;p<t+r;p++){const m=n[p];let w=g,C=g+this._computeAngle(p,i,v),E=a.getDataVisibility(p)?c.getDistanceFromCenterForValue(s.data[p]):0;g=C,o&&(u.animateScale&&(E=0),u.animateRotate&&(w=C=d));const k={x:f,y:h,innerRadius:0,outerRadius:E,startAngle:w,endAngle:C,options:this.resolveDataElementOptions(p,m.active?"active":i)};this.updateElement(m,p,k,i)}}countVisibleElements(){const n=this.getDataset(),t=this._cachedMeta;let r=0;return t.data.forEach((i,o)=>{!isNaN(n.data[o])&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(n,t,r){return this.chart.getDataVisibility(n)?Fr(this.resolveDataElementOptions(n,t).angle||r):0}}ed.id="polarArea";ed.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};ed.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:t}}=e.legend.options;return n.labels.map((r,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:t,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,n,t){t.chart.toggleDataVisibility(n.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Hb extends al{}Hb.id="pie";Hb.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class td extends oi{getLabelAndValue(n){const t=this._cachedMeta.vScale,r=this.getParsed(n);return{label:t.getLabels()[n],value:""+t.getLabelForValue(r[t.axis])}}update(n){const t=this._cachedMeta,r=t.dataset,i=t.data||[],o=t.iScale.getLabels();if(r.points=i,n!=="resize"){const a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);const s={_loop:!0,_fullLoop:o.length===i.length,options:a};this.updateElement(r,void 0,s,n)}this.updateElements(i,0,i.length,n)}updateElements(n,t,r,i){const o=this.getDataset(),a=this._cachedMeta.rScale,s=i==="reset";for(let l=t;l<t+r;l++){const u=n[l],c=this.resolveDataElementOptions(l,u.active?"active":i),f=a.getPointPositionForValue(l,o.data[l]),h=s?a.xCenter:f.x,d=s?a.yCenter:f.y,g={x:h,y:d,angle:f.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(u,l,g,i)}}}td.id="radar";td.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};td.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class nd extends oc{}nd.id="scatter";nd.defaults={showLine:!1,fill:!1};nd.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var KG=Object.freeze({__proto__:null,BarController:Qh,BubbleController:Jh,DoughnutController:al,LineController:oc,PolarAreaController:ed,PieController:Hb,RadarController:td,ScatterController:nd});function Da(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fb{constructor(n){this.options=n||{}}formats(){return Da()}parse(n,t){return Da()}format(n,t){return Da()}add(n,t,r){return Da()}diff(n,t,r){return Da()}startOf(n,t,r){return Da()}endOf(n,t){return Da()}}Fb.override=function(e){Object.assign(Fb.prototype,e)};var XG={_date:Fb};function ac(e,n){return"native"in e?{x:e.x,y:e.y}:ZA(e,n)}function qG(e,n){const t=e.getSortedVisibleDatasetMetas();let r,i,o;for(let a=0,s=t.length;a<s;++a){({index:r,data:i}=t[a]);for(let l=0,u=i.length;l<u;++l)o=i[l],o.skip||n(o,r,l)}}function ZG(e,n,t,r){const{controller:i,data:o,_sorted:a}=e,s=i._cachedMeta.iScale;if(s&&n===s.axis&&n!=="r"&&a&&o.length){const l=s._reversePixels?DY:$i;if(r){if(i._sharedOptions){const u=o[0],c=typeof u.getRange=="function"&&u.getRange(n);if(c){const f=l(o,n,t-c),h=l(o,n,t+c);return{lo:f.lo,hi:h.hi}}}}else return l(o,n,t)}return{lo:0,hi:o.length-1}}function Bb(e,n,t,r,i){const o=e.getSortedVisibleDatasetMetas(),a=t[n];for(let s=0,l=o.length;s<l;++s){const{index:u,data:c}=o[s],{lo:f,hi:h}=ZG(o[s],n,a,i);for(let d=f;d<=h;++d){const g=c[d];g.skip||r(g,u,d)}}}function QG(e){const n=e.indexOf("x")!==-1,t=e.indexOf("y")!==-1;return function(r,i){const o=n?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Vb(e,n,t,r){const i=[];return xa(n,e.chartArea,e._minPadding)&&Bb(e,t,n,function(a,s,l){a.inRange(n.x,n.y,r)&&i.push({element:a,datasetIndex:s,index:l})},!0),i}function JG(e,n,t,r){let i=[];function o(a,s,l){const{startAngle:u,endAngle:c}=a.getProps(["startAngle","endAngle"],r),{angle:f}=OA(a,{x:n.x,y:n.y});qu(f,u,c)&&i.push({element:a,datasetIndex:s,index:l})}return Bb(e,t,n,o),i}function e4(e,n,t,r,i){let o=[];const a=QG(t);let s=Number.POSITIVE_INFINITY;function l(u,c,f){const h=u.inRange(n.x,n.y,i);if(r&&!h)return;const d=u.getCenterPoint(i);if(!xa(d,e.chartArea,e._minPadding)&&!h)return;const p=a(n,d);p<s?(o=[{element:u,datasetIndex:c,index:f}],s=p):p===s&&o.push({element:u,datasetIndex:c,index:f})}return Bb(e,t,n,l),o}function Wb(e,n,t,r,i){return xa(n,e.chartArea,e._minPadding)?t==="r"&&!r?JG(e,n,t,i):e4(e,n,t,r,i):[]}function S1(e,n,t,r){const i=ac(n,e),o=[],a=t.axis,s=a==="x"?"inXRange":"inYRange";let l=!1;return qG(e,(u,c,f)=>{u[s](i[a],r)&&o.push({element:u,datasetIndex:c,index:f}),u.inRange(i.x,i.y,r)&&(l=!0)}),t.intersect&&!l?[]:o}var t4={modes:{index(e,n,t,r){const i=ac(n,e),o=t.axis||"x",a=t.intersect?Vb(e,i,o,r):Wb(e,i,o,!1,r),s=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{const u=a[0].index,c=l.data[u];c&&!c.skip&&s.push({element:c,datasetIndex:l.index,index:u})}),s):[]},dataset(e,n,t,r){const i=ac(n,e),o=t.axis||"xy";let a=t.intersect?Vb(e,i,o,r):Wb(e,i,o,!1,r);if(a.length>0){const s=a[0].datasetIndex,l=e.getDatasetMeta(s).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:s,index:u})}return a},point(e,n,t,r){const i=ac(n,e),o=t.axis||"xy";return Vb(e,i,o,r)},nearest(e,n,t,r){const i=ac(n,e),o=t.axis||"xy";return Wb(e,i,o,t.intersect,r)},x(e,n,t,r){return S1(e,n,{axis:"x",intersect:t.intersect},r)},y(e,n,t,r){return S1(e,n,{axis:"y",intersect:t.intersect},r)}}};const C1=["left","top","right","bottom"];function sc(e,n){return e.filter(t=>t.pos===n)}function R1(e,n){return e.filter(t=>C1.indexOf(t.pos)===-1&&t.box.axis===n)}function lc(e,n){return e.sort((t,r)=>{const i=n?r:t,o=n?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function n4(e){const n=[];let t,r,i,o,a,s;for(t=0,r=(e||[]).length;t<r;++t)i=e[t],{position:o,options:{stack:a,stackWeight:s=1}}=i,n.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return n}function r4(e){const n={};for(const t of e){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!C1.includes(i))continue;const a=n[r]||(n[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return n}function i4(e,n){const t=r4(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=n;let o,a,s;for(o=0,a=e.length;o<a;++o){s=e[o];const{fullSize:l}=s.box,u=t[s.stack],c=u&&s.stackWeight/u.weight;s.horizontal?(s.width=c?c*r:l&&n.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:l&&n.availableHeight)}return t}function o4(e){const n=n4(e),t=lc(n.filter(u=>u.box.fullSize),!0),r=lc(sc(n,"left"),!0),i=lc(sc(n,"right")),o=lc(sc(n,"top"),!0),a=lc(sc(n,"bottom")),s=R1(n,"x"),l=R1(n,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:sc(n,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(a).concat(s)}}function O1(e,n,t,r){return Math.max(e[t],n[t])+Math.max(e[r],n[r])}function E1(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function a4(e,n,t,r){const{pos:i,box:o}=t,a=e.maxPadding;if(!gt(i)){t.size&&(e[i]-=t.size);const f=r[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?o.height:o.width),t.size=f.size/f.count,e[i]+=t.size}o.getPadding&&E1(a,o.getPadding());const s=Math.max(0,n.outerWidth-O1(a,e,"left","right")),l=Math.max(0,n.outerHeight-O1(a,e,"top","bottom")),u=s!==e.w,c=l!==e.h;return e.w=s,e.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function s4(e){const n=e.maxPadding;function t(r){const i=Math.max(n[r]-e[r],0);return e[r]+=i,i}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}function l4(e,n){const t=n.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{o[a]=Math.max(n[a],t[a])}),o}return r(e?["left","right"]:["top","bottom"])}function uc(e,n,t,r){const i=[];let o,a,s,l,u,c;for(o=0,a=e.length,u=0;o<a;++o){s=e[o],l=s.box,l.update(s.width||n.w,s.height||n.h,l4(s.horizontal,n));const{same:f,other:h}=a4(n,t,s,r);u|=f&&i.length,c=c||h,l.fullSize||i.push(s)}return u&&uc(i,n,t,r)||c}function rd(e,n,t,r,i){e.top=t,e.left=n,e.right=n+r,e.bottom=t+i,e.width=r,e.height=i}function T1(e,n,t,r){const i=t.padding;let{x:o,y:a}=n;for(const s of e){const l=s.box,u=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/u.weight||1;if(s.horizontal){const f=n.w*c,h=u.size||l.height;wr(u.start)&&(a=u.start),l.fullSize?rd(l,i.left,a,t.outerWidth-i.right-i.left,h):rd(l,n.left+u.placed,a,f,h),u.start=a,u.placed+=f,a=l.bottom}else{const f=n.h*c,h=u.size||l.width;wr(u.start)&&(o=u.start),l.fullSize?rd(l,o,i.top,h,t.outerHeight-i.bottom-i.top):rd(l,o,n.top+u.placed,h,f),u.start=o,u.placed+=f,o=l.right}}n.x=o,n.y=a}pt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var In={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){const t=e.boxes?e.boxes.indexOf(n):-1;t!==-1&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,r){if(!e)return;const i=Pn(e.options.layout.padding),o=Math.max(n-i.width,0),a=Math.max(t-i.height,0),s=o4(e.boxes),l=s.vertical,u=s.horizontal;ht(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const c=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:n,outerHeight:t,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),h=Object.assign({},i);E1(h,Pn(r));const d=Object.assign({maxPadding:h,w:o,h:a,x:i.left,y:i.top},i),g=i4(l.concat(u),f);uc(s.fullSize,d,f,g),uc(l,d,f,g),uc(u,d,f,g)&&uc(l,d,f,g),s4(d),T1(s.leftAndTop,d,f,g),d.x+=d.w,d.y+=d.h,T1(s.rightAndBottom,d,f,g),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},ht(s.chartArea,p=>{const v=p.box;Object.assign(v,e.chartArea),v.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class k1{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,r){}removeEventListener(n,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,r,i){return t=Math.max(0,t||n.width),r=r||n.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(n){return!0}updateConfig(n){}}class u4 extends k1{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const id="$chartjs",c4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A1=e=>e===null||e==="";function f4(e,n){const t=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[id]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",A1(i)){const o=JA(e,"width");o!==void 0&&(e.width=o)}if(A1(r))if(e.style.height==="")e.height=e.width/(n||2);else{const o=JA(e,"height");o!==void 0&&(e.height=o)}return e}const M1=aG?{passive:!0}:!1;function h4(e,n,t){e.addEventListener(n,t,M1)}function d4(e,n,t){e.canvas.removeEventListener(n,t,M1)}function g4(e,n){const t=c4[e.type]||e.type,{x:r,y:i}=ZA(e,n);return{type:t,chart:n,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function od(e,n){for(const t of e)if(t===n||t.contains(n))return!0}function p4(e,n,t){const r=e.canvas,i=new MutationObserver(o=>{let a=!1;for(const s of o)a=a||od(s.addedNodes,r),a=a&&!od(s.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function v4(e,n,t){const r=e.canvas,i=new MutationObserver(o=>{let a=!1;for(const s of o)a=a||od(s.removedNodes,r),a=a&&!od(s.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const cc=new Map;let x1=0;function P1(){const e=window.devicePixelRatio;e!==x1&&(x1=e,cc.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function m4(e,n){cc.size||window.addEventListener("resize",P1),cc.set(e,n)}function y4(e){cc.delete(e),cc.size||window.removeEventListener("resize",P1)}function b4(e,n,t){const r=e.canvas,i=r&&Ib(r);if(!i)return;const o=vA((s,l)=>{const u=i.clientWidth;t(s,l),u<i.clientWidth&&t()},window),a=new ResizeObserver(s=>{const l=s[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||o(u,c)});return a.observe(i),m4(e,o),a}function jb(e,n,t){t&&t.disconnect(),n==="resize"&&y4(e)}function w4(e,n,t){const r=e.canvas,i=vA(o=>{e.ctx!==null&&t(g4(o,e))},e,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return h4(r,n,i),i}class _4 extends k1{acquireContext(n,t){const r=n&&n.getContext&&n.getContext("2d");return r&&r.canvas===n?(f4(n,t),r):null}releaseContext(n){const t=n.canvas;if(!t[id])return!1;const r=t[id].initial;["height","width"].forEach(o=>{const a=r[o];_t(a)?t.removeAttribute(o):t.setAttribute(o,a)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[id],!0}addEventListener(n,t,r){this.removeEventListener(n,t);const i=n.$proxies||(n.$proxies={}),a={attach:p4,detach:v4,resize:b4}[t]||w4;i[t]=a(n,t,r)}removeEventListener(n,t){const r=n.$proxies||(n.$proxies={}),i=r[t];if(!i)return;({attach:jb,detach:jb,resize:jb}[t]||d4)(n,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,r,i){return oG(n,t,r,i)}isAttached(n){const t=Ib(n);return!!(t&&t.isConnected)}}function S4(e){return!qA()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?u4:_4}class Br{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){const{x:t,y:r}=this.getProps(["x","y"],n);return{x:t,y:r}}hasValue(){return Ku(this.x)&&Ku(this.y)}getProps(n,t){const r=this.$animations;if(!t||!r)return this;const i={};return n.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}Br.defaults={};Br.defaultRoutes=void 0;const I1={values(e){return Tt(e)?e:""+e},numeric(e,n,t){if(e===0)return"0";const r=this.chart.options.locale;let i,o=e;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),o=C4(e,t)}const a=_r(Math.abs(o)),s=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),rc(e,r,l)},logarithmic(e,n,t){if(e===0)return"0";const r=e/Math.pow(10,Math.floor(_r(e)));return r===1||r===2||r===5?I1.numeric.call(this,e,n,t):""}};function C4(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}var ad={formatters:I1};pt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ad.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});pt.route("scale.ticks","color","","color");pt.route("scale.grid","color","","borderColor");pt.route("scale.grid","borderColor","","borderColor");pt.route("scale.title","color","","color");pt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});pt.describe("scales",{_fallback:"scale"});pt.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function R4(e,n){const t=e.options.ticks,r=t.maxTicksLimit||O4(e),i=t.major.enabled?T4(n):[],o=i.length,a=i[0],s=i[o-1],l=[];if(o>r)return k4(n,l,i,o/r),l;const u=E4(i,n,r);if(o>0){let c,f;const h=o>1?Math.round((s-a)/(o-1)):null;for(sd(n,l,u,_t(h)?0:a-h,a),c=0,f=o-1;c<f;c++)sd(n,l,u,i[c],i[c+1]);return sd(n,l,u,s,_t(h)?n.length:s+h),l}return sd(n,l,u),l}function O4(e){const n=e.options.offset,t=e._tickSize(),r=e._length/t+(n?0:1),i=e._maxLength/t;return Math.floor(Math.min(r,i))}function E4(e,n,t){const r=A4(e),i=n.length/t;if(!r)return Math.max(i,1);const o=eY(r);for(let a=0,s=o.length-1;a<s;a++){const l=o[a];if(l>i)return l}return Math.max(i,1)}function T4(e){const n=[];let t,r;for(t=0,r=e.length;t<r;t++)e[t].major&&n.push(t);return n}function k4(e,n,t,r){let i=0,o=t[0],a;for(r=Math.ceil(r),a=0;a<e.length;a++)a===o&&(n.push(e[a]),i++,o=t[i*r])}function sd(e,n,t,r,i){const o=Ze(r,0),a=Math.min(Ze(i,e.length),e.length);let s=0,l,u,c;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),c=o;c<0;)s++,c=Math.round(o+s*t);for(u=Math.max(o,0);u<a;u++)u===c&&(n.push(e[u]),s++,c=Math.round(o+s*t))}function A4(e){const n=e.length;let t,r;if(n<2)return!1;for(r=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==r)return!1;return r}const M4=e=>e==="left"?"right":e==="right"?"left":e,$1=(e,n,t)=>n==="top"||n==="left"?e[n]+t:e[n]-t;function D1(e,n){const t=[],r=e.length/n,i=e.length;let o=0;for(;o<i;o+=r)t.push(e[Math.floor(o)]);return t}function x4(e,n,t){const r=e.ticks.length,i=Math.min(n,r-1),o=e._startPixel,a=e._endPixel,s=1e-6;let l=e.getPixelForTick(i),u;if(!(t&&(r===1?u=Math.max(l-o,a-l):n===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(i-1))/2,l+=i<n?u:-u,l<o-s||l>a+s)))return l}function P4(e,n){ht(e,t=>{const r=t.gc,i=r.length/2;let o;if(i>n){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function fc(e){return e.drawTicks?e.tickLength:0}function N1(e,n){if(!e.display)return 0;const t=gn(e.font,n),r=Pn(e.padding);return(Tt(e.text)?e.text.length:1)*t.lineHeight+r.height}function I4(e,n){return Io(e,{scale:n,type:"scale"})}function $4(e,n,t){return Io(e,{tick:t,index:n,type:"tick"})}function D4(e,n,t){let r=vb(e);return(t&&n!=="right"||!t&&n==="right")&&(r=M4(r)),r}function N4(e,n,t,r){const{top:i,left:o,bottom:a,right:s,chart:l}=e,{chartArea:u,scales:c}=l;let f=0,h,d,g;const p=a-i,v=s-o;if(e.isHorizontal()){if(d=xn(r,o,s),gt(t)){const m=Object.keys(t)[0],w=t[m];g=c[m].getPixelForValue(w)+p-n}else t==="center"?g=(u.bottom+u.top)/2+p-n:g=$1(e,t,n);h=s-o}else{if(gt(t)){const m=Object.keys(t)[0],w=t[m];d=c[m].getPixelForValue(w)-v+n}else t==="center"?d=(u.left+u.right)/2-v+n:d=$1(e,t,n);g=xn(r,a,i),f=t==="left"?-Zt:Zt}return{titleX:d,titleY:g,maxWidth:h,rotation:f}}class Na extends Br{constructor(n){super();this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return n=br(n,Number.POSITIVE_INFINITY),t=br(t,Number.NEGATIVE_INFINITY),r=br(r,Number.POSITIVE_INFINITY),i=br(i,Number.NEGATIVE_INFINITY),{min:br(n,r),max:br(t,i),minDefined:tn(n),maxDefined:tn(t)}}getMinMax(n){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),a;if(i&&o)return{min:t,max:r};const s=this.getMatchingVisibleMetas();for(let l=0,u=s.length;l<u;++l)a=s[l].controller.getMinMax(this,n),i||(t=Math.min(t,a.min)),o||(r=Math.max(r,a.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:br(t,br(r,t)),max:br(r,br(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(n,t,r){const{beginAtZero:i,grace:o,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$Y(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=s<this.ticks.length;this._convertTicksToLabels(l?D1(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=R4(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,n=!n),this._startPixel=t,this._endPixel=r,this._reversePixels=n,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),nt(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const t=this.options.ticks;let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r],o.label=nt(t.callback,[o.value,r,n],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,t=n.ticks,r=this.ticks.length,i=t.minRotation||0,o=t.maxRotation;let a=i,s,l,u;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),f=c.widest.width,h=c.highest.height,d=Cn(this.chart.width-f,0,this.maxWidth);s=n.offset?this.maxWidth/r:d/(r-1),f+6>s&&(s=d/(r-(n.offset?.5:1)),l=this.maxHeight-fc(n.grid)-t.padding-N1(n.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),a=yb(Math.min(Math.asin(Cn((c.highest.height+6)/s,-1,1)),Math.asin(Cn(l/u,-1,1))-Math.asin(Cn(h/u,-1,1)))),a=Math.max(i,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const l=N1(i,t.options.font);if(s?(n.width=this.maxWidth,n.height=fc(o)+l):(n.height=this.maxHeight,n.width=fc(o)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:h}=this._getLabelSizes(),d=r.padding*2,g=Fr(this.labelRotation),p=Math.cos(g),v=Math.sin(g);if(s){const m=r.mirror?0:v*f.width+p*h.height;n.height=Math.min(this.maxHeight,n.height+m+d)}else{const m=r.mirror?0:p*f.width+v*h.height;n.width=Math.min(this.maxWidth,n.width+m+d)}this._calculatePadding(u,c,v,p)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,r,i){const{ticks:{align:o,padding:a},position:s}=this.options,l=this.labelRotation!==0,u=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;l?u?(h=i*n.width,d=r*t.height):(h=r*n.height,d=i*t.width):o==="start"?d=t.width:o==="end"?h=n.width:(h=n.width/2,d=t.width/2),this.paddingLeft=Math.max((h-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-f+a)*this.width/(this.width-f),0)}else{let c=t.height/2,f=n.height/2;o==="start"?(c=0,f=n.height):o==="end"&&(c=t.height,f=0),this.paddingTop=c+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:t}=this.options;return t==="top"||t==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let t,r;for(t=0,r=n.length;t<r;t++)_t(n[t].label)&&(n.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=D1(r,t)),this._labelSizes=n=this._computeLabelSizes(r,r.length)}return n}_computeLabelSizes(n,t){const{ctx:r,_longestTextCache:i}=this,o=[],a=[];let s=0,l=0,u,c,f,h,d,g,p,v,m,w,C;for(u=0;u<t;++u){if(h=n[u].label,d=this._resolveTickFontOptions(u),r.font=g=d.string,p=i[g]=i[g]||{data:{},gc:[]},v=d.lineHeight,m=w=0,!_t(h)&&!Tt(h))m=Uh(r,p.data,p.gc,m,h),w=v;else if(Tt(h))for(c=0,f=h.length;c<f;++c)C=h[c],!_t(C)&&!Tt(C)&&(m=Uh(r,p.data,p.gc,m,C),w+=v);o.push(m),a.push(w),s=Math.max(m,s),l=Math.max(w,l)}P4(i,t);const E=o.indexOf(s),k=a.indexOf(l),$=D=>({width:o[D]||0,height:a[D]||0});return{first:$(0),last:$(t-1),widest:$(E),highest:$(k),widths:o,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const t=this._startPixel+n*this._length;return rY(this._alignToPixels?Ma(this.chart,t,0):t)}getDecimalForPixel(n){const t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){const t=this.ticks||[];if(n>=0&&n<t.length){const r=t[n];return r.$context||(r.$context=$4(this.getContext(),n,r))}return this.$context||(this.$context=I4(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,t=Fr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=n.autoSkipPadding||0,s=o?o.widest.width+a:0,l=o?o.highest.height+a:0;return this.isHorizontal()?l*r>s*i?s/r:l/i:l*i<s*r?l/r:s/i}_isVisible(){const n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:a}=i,s=o.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),f=fc(o),h=[],d=o.setContext(this.getContext()),g=d.drawBorder?d.borderWidth:0,p=g/2,v=function(y){return Ma(r,y,g)};let m,w,C,E,k,$,D,Y,L,X,te,oe;if(a==="top")m=v(this.bottom),$=this.bottom-f,Y=m-p,X=v(n.top)+p,oe=n.bottom;else if(a==="bottom")m=v(this.top),X=n.top,oe=v(n.bottom)-p,$=m+p,Y=this.top+f;else if(a==="left")m=v(this.right),k=this.right-f,D=m-p,L=v(n.left)+p,te=n.right;else if(a==="right")m=v(this.left),L=n.left,te=v(n.right)-p,k=m+p,D=this.left+f;else if(t==="x"){if(a==="center")m=v((n.top+n.bottom)/2+.5);else if(gt(a)){const y=Object.keys(a)[0],S=a[y];m=v(this.chart.scales[y].getPixelForValue(S))}X=n.top,oe=n.bottom,$=m+p,Y=$+f}else if(t==="y"){if(a==="center")m=v((n.left+n.right)/2);else if(gt(a)){const y=Object.keys(a)[0],S=a[y];m=v(this.chart.scales[y].getPixelForValue(S))}k=m-p,D=k-f,L=n.left,te=n.right}const ie=Ze(i.ticks.maxTicksLimit,c),de=Math.max(1,Math.ceil(c/ie));for(w=0;w<c;w+=de){const y=o.setContext(this.getContext(w)),S=y.lineWidth,b=y.color,_=o.borderDash||[],A=y.borderDashOffset,N=y.tickWidth,I=y.tickColor,R=y.tickBorderDash||[],P=y.tickBorderDashOffset;C=x4(this,w,s),C!==void 0&&(E=Ma(r,C,S),l?k=D=L=te=E:$=Y=X=oe=E,h.push({tx1:k,ty1:$,tx2:D,ty2:Y,x1:L,y1:X,x2:te,y2:oe,width:S,color:b,borderDash:_,borderDashOffset:A,tickWidth:N,tickColor:I,tickBorderDash:R,tickBorderDashOffset:P}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(n){const t=this.axis,r=this.options,{position:i,ticks:o}=r,a=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=o,h=fc(r.grid),d=h+c,g=f?-c:d,p=-Fr(this.labelRotation),v=[];let m,w,C,E,k,$,D,Y,L,X,te,oe,ie="middle";if(i==="top")$=this.bottom-g,D=this._getXAxisLabelAlignment();else if(i==="bottom")$=this.top+g,D=this._getXAxisLabelAlignment();else if(i==="left"){const y=this._getYAxisLabelAlignment(h);D=y.textAlign,k=y.x}else if(i==="right"){const y=this._getYAxisLabelAlignment(h);D=y.textAlign,k=y.x}else if(t==="x"){if(i==="center")$=(n.top+n.bottom)/2+d;else if(gt(i)){const y=Object.keys(i)[0],S=i[y];$=this.chart.scales[y].getPixelForValue(S)+d}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")k=(n.left+n.right)/2-d;else if(gt(i)){const y=Object.keys(i)[0],S=i[y];k=this.chart.scales[y].getPixelForValue(S)}D=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?ie="top":l==="end"&&(ie="bottom"));const de=this._getLabelSizes();for(m=0,w=s.length;m<w;++m){C=s[m],E=C.label;const y=o.setContext(this.getContext(m));Y=this.getPixelForTick(m)+o.labelOffset,L=this._resolveTickFontOptions(m),X=L.lineHeight,te=Tt(E)?E.length:1;const S=te/2,b=y.color,_=y.textStrokeColor,A=y.textStrokeWidth;a?(k=Y,i==="top"?u==="near"||p!==0?oe=-te*X+X/2:u==="center"?oe=-de.highest.height/2-S*X+X:oe=-de.highest.height+X/2:u==="near"||p!==0?oe=X/2:u==="center"?oe=de.highest.height/2-S*X:oe=de.highest.height-te*X,f&&(oe*=-1)):($=Y,oe=(1-te)*X/2);let N;if(y.showLabelBackdrop){const I=Pn(y.backdropPadding),R=de.heights[m],P=de.widths[m];let H=$+oe-I.top,V=k-I.left;switch(ie){case"middle":H-=R/2;break;case"bottom":H-=R;break}switch(D){case"center":V-=P/2;break;case"right":V-=P;break}N={left:V,top:H,width:P+I.width,height:R+I.height,color:y.backdropColor}}v.push({rotation:p,label:E,font:L,color:b,strokeColor:_,strokeWidth:A,textOffset:oe,textAlign:D,textBaseline:ie,translation:[k,$],backdrop:N})}return v}_getXAxisLabelAlignment(){const{position:n,ticks:t}=this.options;if(-Fr(this.labelRotation))return n==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"&&(i="right"),i}_getYAxisLabelAlignment(n){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,a=this._getLabelSizes(),s=n+o,l=a.widest.width;let u,c;return t==="left"?i?(c=this.right+o,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?i?(c=this.left+o,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){const{ctx:n,options:{backgroundColor:t},left:r,top:i,width:o,height:a}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(r,i,o,a),n.restore())}getLineWidthForValue(n){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===n);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let o,a;const s=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(t.display)for(o=0,a=i.length;o<a;++o){const l=i[o];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:t,options:{grid:r}}=this,i=r.setContext(this.getContext()),o=r.drawBorder?i.borderWidth:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,u,c,f;this.isHorizontal()?(l=Ma(n,this.left,o)-o/2,u=Ma(n,this.right,a)+a/2,c=f=s):(c=Ma(n,this.top,o)-o/2,f=Ma(n,this.bottom,a)+a/2,l=u=s),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(l,c),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Yh(r,i);const o=this._labelItems||(this._labelItems=this._computeLabelItems(n));let a,s;for(a=0,s=o.length;a<s;++a){const l=o[a],u=l.font,c=l.label;l.backdrop&&(r.fillStyle=l.backdrop.color,r.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let f=l.textOffset;Pa(r,c,0,f,u,l)}i&&Gh(r)}drawTitle(){const{ctx:n,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=gn(r.font),a=Pn(r.padding),s=r.align;let l=o.lineHeight/2;t==="bottom"||t==="center"||gt(t)?(l+=a.bottom,Tt(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:c,maxWidth:f,rotation:h}=N4(this,l,t,s);Pa(n,r.text,0,0,o,{color:r.color,maxWidth:f,rotation:h,textAlign:D4(s,t,i),textBaseline:"middle",translation:[u,c]})}draw(n){!this._isVisible()||(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,t=n.ticks&&n.ticks.z||0,r=Ze(n.grid&&n.grid.z,-1);return!this._isVisible()||this.draw!==Na.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(n){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,a;for(o=0,a=t.length;o<a;++o){const s=t[o];s[r]===this.id&&(!n||s.type===n)&&i.push(s)}return i}_resolveTickFontOptions(n){const t=this.options.ticks.setContext(this.getContext(n));return gn(t.font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class ld{constructor(n,t,r){this.type=n,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const t=Object.getPrototypeOf(n);let r;F4(t)&&(r=this.register(t));const i=this.items,o=n.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in i||(i[o]=n,L4(n,a,r),this.override&&pt.override(n.id,n.overrides)),a}get(n){return this.items[n]}unregister(n){const t=this.items,r=n.id,i=this.scope;r in t&&delete t[r],i&&r in pt[i]&&(delete pt[i][r],this.override&&delete Aa[r])}}function L4(e,n,t){const r=zu(Object.create(null),[t?pt.get(t):{},pt.get(n),e.defaults]);pt.set(n,r),e.defaultRoutes&&H4(n,e.defaultRoutes),e.descriptors&&pt.describe(n,e.descriptors)}function H4(e,n){Object.keys(n).forEach(t=>{const r=t.split("."),i=r.pop(),o=[e].concat(r).join("."),a=n[t].split("."),s=a.pop(),l=a.join(".");pt.route(o,i,l,s)})}function F4(e){return"id"in e&&"defaults"in e}class B4{constructor(){this.controllers=new ld(oi,"datasets",!0),this.elements=new ld(Br,"elements"),this.plugins=new ld(Object,"plugins"),this.scales=new ld(Na,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(n,o,i):ht(i,a=>{const s=r||this._getRegistryForType(a);this._exec(n,s,a)})})}_exec(n,t,r){const i=mb(n);nt(r["before"+i],[],r),t[n](r),nt(r["after"+i],[],r)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(n))return r}return this.plugins}_get(n,t,r){const i=t.get(n);if(i===void 0)throw new Error('"'+n+'" is not a registered '+r+".");return i}}var Ni=new B4;class V4{constructor(){this._init=[]}notify(n,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const o=i?this._descriptors(n).filter(i):this._descriptors(n),a=this._notify(o,n,t,r);return t==="afterDestroy"&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall")),a}_notify(n,t,r,i){i=i||{};for(const o of n){const a=o.plugin,s=a[r],l=[t,i,o.options];if(nt(s,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){_t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){const r=n&&n.config,i=Ze(r.options&&r.options.plugins,{}),o=W4(r);return i===!1&&!t?[]:U4(n,o,i,t)}_notifyStateChanges(n){const t=this._oldCache||[],r=this._cache,i=(o,a)=>o.filter(s=>!a.some(l=>s.plugin.id===l.plugin.id));this._notify(i(t,r),n,"stop"),this._notify(i(r,t),n,"start")}}function W4(e){const n=[],t=Object.keys(Ni.plugins.items);for(let i=0;i<t.length;i++)n.push(Ni.getPlugin(t[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&n.push(o)}return n}function j4(e,n){return!n&&e===!1?null:e===!0?{}:e}function U4(e,n,t,r){const i=[],o=e.getContext();for(let a=0;a<n.length;a++){const s=n[a],l=s.id,u=j4(t[l],r);u!==null&&i.push({plugin:s,options:z4(e.config,s,u,o)})}return i}function z4(e,n,t,r){const i=e.pluginScopeKeys(n),o=e.getOptionScopes(t,i);return e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ub(e,n){const t=pt.datasets[e]||{};return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||t.indexAxis||"x"}function Y4(e,n){let t=e;return e==="_index_"?t=n:e==="_value_"&&(t=n==="x"?"y":"x"),t}function G4(e,n){return e===n?"_index_":"_value_"}function K4(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function zb(e,n){return e==="x"||e==="y"?e:n.axis||K4(n.position)||e.charAt(0).toLowerCase()}function X4(e,n){const t=Aa[e.type]||{scales:{}},r=n.scales||{},i=Ub(e.type,n),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach(s=>{const l=r[s];if(!gt(l))return console.error(`Invalid scale configuration for scale: ${s}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const u=zb(s,l),c=G4(u,i),f=t.scales||{};o[u]=o[u]||s,a[s]=Yu(Object.create(null),[{axis:u},l,f[u],f[c]])}),e.data.datasets.forEach(s=>{const l=s.type||e.type,u=s.indexAxis||Ub(l,n),f=(Aa[l]||{}).scales||{};Object.keys(f).forEach(h=>{const d=Y4(h,u),g=s[d+"AxisID"]||o[d]||d;a[g]=a[g]||Object.create(null),Yu(a[g],[{axis:d},r[g],f[h]])})}),Object.keys(a).forEach(s=>{const l=a[s];Yu(l,[pt.scales[l.type],pt.scale])}),a}function L1(e){const n=e.options||(e.options={});n.plugins=Ze(n.plugins,{}),n.scales=X4(e,n)}function H1(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function q4(e){return e=e||{},e.data=H1(e.data),L1(e),e}const F1=new Map,B1=new Set;function ud(e,n){let t=F1.get(e);return t||(t=n(),F1.set(e,t),B1.add(t)),t}const hc=(e,n,t)=>{const r=ka(n,t);r!==void 0&&e.add(r)};class Z4{constructor(n){this._config=q4(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=H1(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),L1(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return ud(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return ud(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return ud(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){const t=n.id,r=this.type;return ud(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){const r=this._scopeCache;let i=r.get(n);return(!i||t)&&(i=new Map,r.set(n,i)),i}getOptionScopes(n,t,r){const{options:i,type:o}=this,a=this._cachedScopes(n,r),s=a.get(t);if(s)return s;const l=new Set;t.forEach(c=>{n&&(l.add(n),c.forEach(f=>hc(l,n,f))),c.forEach(f=>hc(l,i,f)),c.forEach(f=>hc(l,Aa[o]||{},f)),c.forEach(f=>hc(l,pt,f)),c.forEach(f=>hc(l,Eb,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),B1.has(t)&&a.set(t,u),u}chartOptionScopes(){const{options:n,type:t}=this;return[n,Aa[t]||{},pt.datasets[t]||{},{type:t},pt,Eb]}resolveNamedOptions(n,t,r,i=[""]){const o={$shared:!0},{resolver:a,subPrefixes:s}=V1(this._resolverCache,n,i);let l=a;if(J4(a,t)){o.$shared=!1,r=Po(r)?r():r;const u=this.createResolver(n,r,s);l=rl(a,r,u)}for(const u of t)o[u]=l[u];return o}createResolver(n,t,r=[""],i){const{resolver:o}=V1(this._resolverCache,n,r);return gt(t)?rl(o,t,void 0,i):o}}function V1(e,n,t){let r=e.get(n);r||(r=new Map,e.set(n,r));const i=t.join();let o=r.get(i);return o||(o={resolver:Mb(n,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},r.set(i,o)),o}const Q4=e=>gt(e)&&Object.getOwnPropertyNames(e).reduce((n,t)=>n||Po(e[t]),!1);function J4(e,n){const{isScriptable:t,isIndexable:r}=jA(e);for(const i of n){const o=t(i),a=r(i),s=(a||o)&&e[i];if(o&&(Po(s)||Q4(s))||a&&Tt(s))return!0}return!1}var e5="3.7.0";const t5=["top","bottom","left","right","chartArea"];function W1(e,n){return e==="top"||e==="bottom"||t5.indexOf(e)===-1&&n==="x"}function j1(e,n){return function(t,r){return t[e]===r[e]?t[n]-r[n]:t[e]-r[e]}}function U1(e){const n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),nt(t&&t.onComplete,[e],n)}function n5(e){const n=e.chart,t=n.options.animation;nt(t&&t.onProgress,[e],n)}function z1(e){return qA()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const cd={},Y1=e=>{const n=z1(e);return Object.values(cd).filter(t=>t.canvas===n).pop()};function r5(e,n,t){const r=Object.keys(e);for(const i of r){const o=+i;if(o>=n){const a=e[i];delete e[i],(t>0||o>n)&&(e[o+t]=a)}}}function i5(e,n,t,r){return!t||e.type==="mouseout"?null:r?n:e}class Yb{constructor(n,t){const r=this.config=new Z4(t),i=z1(n),o=Y1(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||S4(i)),this.platform.updateConfig(r);const s=this.platform.acquireContext(i,a.aspectRatio),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;if(this.id=z3(),this.ctx=s,this.canvas=l,this.width=c,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new V4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=j3(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],cd[this.id]=this,!s||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Di.listen(this,"complete",U1),Di.listen(this,"progress",n5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return _t(n)?t&&o?o:i?r/i:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HA(this.canvas,this.ctx),this}stop(){return Di.stop(this),this}resize(n,t){Di.running(this)?this._resizeBeforeDraw={width:n,height:t}:this._resize(n,t)}_resize(n,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,n,t,o),s=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,!!QA(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),nt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ht(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const n=this.options,t=n.scales,r=this.scales,i=Object.keys(r).reduce((a,s)=>(a[s]=!1,a),{});let o=[];t&&(o=o.concat(Object.keys(t).map(a=>{const s=t[a],l=zb(a,s),u=l==="r",c=l==="x";return{options:s,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),ht(o,a=>{const s=a.options,l=s.id,u=zb(l,s),c=Ze(s.type,a.dtype);(s.position===void 0||W1(s.position,u)!==W1(a.dposition))&&(s.position=a.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===c)f=r[l];else{const h=Ni.getScale(c);f=new h({id:l,type:c,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(s,n)}),ht(i,(a,s)=>{a||delete r[s]}),ht(r,a=>{In.configure(this,a,a.options),In.addBox(this,a)})}_updateMetasets(){const n=this._metasets,t=this.data.datasets.length,r=n.length;if(n.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);n.splice(t,r-t)}this._sortedMetasets=n.slice(0).sort(j1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:t}}=this;n.length>t.length&&delete this._stacks,n.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const n=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let a=this.getDatasetMeta(r);const s=o.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=s,a.indexAxis=o.indexAxis||Ub(s,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Ni.getController(s),{datasetElementType:u,dataElementType:c}=pt.datasets[s];Object.assign(l.prototype,{dataElementType:Ni.getElement(c),datasetElementType:u&&Ni.getElement(u)}),a.controller=new l(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){ht(this.data.datasets,(n,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&o.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||ht(o,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(j1("z","_idx"));const{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){ht(this.scales,n=>{In.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!wA(t,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const a=r==="_removeElements"?-o:o;r5(n,i,a)}}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(n.filter(a=>a[0]===o).map((a,s)=>s+","+a.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!wA(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,n);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],ht(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Po(n)?n({datasetIndex:t}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,t){const r=this.getDatasetMeta(n),i={meta:r,index:n,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Di.has(this)?this.attached&&!Di.running(this)&&Di.start(this):(this.draw(),U1({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(n=0;n<t.length&&t[n].z<=0;++n)t[n].draw(this.chartArea);for(this._drawDatasets();n<t.length;++n)t[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const a=t[i];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const n=this.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t)this._drawDataset(n[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const t=this.ctx,r=n._clip,i=!r.disabled,o=this.chartArea,a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Yh(t,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),n.controller.draw(),i&&Gh(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}getElementsAtEventForMode(n,t,r,i){const o=t4.modes[t];return typeof o=="function"?o(this,n,r,i):[]}getDatasetMeta(n){const t=this.data.datasets[n],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:n,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Io(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const t=this.data.datasets[n];if(!t)return!1;const r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(n,t){const r=this.getDatasetMeta(n);r.hidden=!t}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,i);wr(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(o,{visible:r}),this.update(s=>s.datasetIndex===n?i:void 0))}hide(n,t){this._updateVisibility(n,t,!1)}show(n,t){this._updateVisibility(n,t,!0)}_destroyDatasetMeta(n){const t=this._metasets[n];t&&t.controller&&t.controller._destroy(),delete this._metasets[n]}_stop(){let n,t;for(this.stop(),Di.remove(this),n=0,t=this.data.datasets.length;n<t;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:t}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),HA(n,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete cd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,t=this.platform,r=(o,a)=>{t.addEventListener(this,o,a),n[o]=a},i=(o,a,s)=>{o.offsetX=a,o.offsetY=s,this._eventHandler(o)};ht(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,t=this.platform,r=(l,u)=>{t.addEventListener(this,l,u),n[l]=u},i=(l,u)=>{n[l]&&(t.removeEventListener(this,l,u),delete n[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const s=()=>{i("attach",s),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",s)},t.isAttached(this.canvas)?s():a()}unbindEvents(){ht(this._listeners,(n,t)=>{this.platform.removeEventListener(this,t,n)}),this._listeners={},ht(this._responsiveListeners,(n,t)=>{this.platform.removeEventListener(this,t,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,t,r){const i=r?"set":"remove";let o,a,s,l;for(t==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),s=0,l=n.length;s<l;++s){a=n[s];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const t=this._active||[],r=n.map(({datasetIndex:o,index:a})=>{const s=this.getDatasetMeta(o);if(!s)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:s.data[a],index:a}});!Dh(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(n,t,r){return this._plugins.notify(this,n,t,r)}_updateHoverStyles(n,t,r){const i=this.options.hover,o=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),a=o(t,n),s=r?n:o(n,t);a.length&&this.updateHoverStyle(a,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(n,t){const r={event:n,replay:t,cancelable:!0,inChartArea:xa(n,this.chartArea,this._minPadding)},i=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(n,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(n,t,r){const{_active:i=[],options:o}=this,a=t,s=this._getActiveElements(n,i,r,a),l=Z3(n),u=i5(n,this._lastEvent,r,l);r&&(this._lastEvent=null,nt(o.onHover,[n,s,this],this),l&&nt(o.onClick,[n,s,this],this));const c=!Dh(s,i);return(c||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=u,c}_getActiveElements(n,t,r,i){if(n.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,i)}}const G1=()=>ht(Yb.instances,e=>e._plugins.invalidate()),$o=!0;Object.defineProperties(Yb,{defaults:{enumerable:$o,value:pt},instances:{enumerable:$o,value:cd},overrides:{enumerable:$o,value:Aa},registry:{enumerable:$o,value:Ni},version:{enumerable:$o,value:e5},getChart:{enumerable:$o,value:Y1},register:{enumerable:$o,value:(...e)=>{Ni.add(...e),G1()}},unregister:{enumerable:$o,value:(...e)=>{Ni.remove(...e),G1()}}});function K1(e,n,t){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:l}=n;let u=i/s;e.beginPath(),e.arc(o,a,s,r-u,t+u),l>i?(u=i/l,e.arc(o,a,l,t+u,r-u,!0)):e.arc(o,a,i,t+Zt,r-Zt),e.closePath(),e.clip()}function o5(e){return kb(e,["outerStart","outerEnd","innerStart","innerEnd"])}function a5(e,n,t,r){const i=o5(e.options.borderRadius),o=(t-n)/2,a=Math.min(o,r*n/2),s=l=>{const u=(t-Math.min(o,l))*r/2;return Cn(l,0,Math.min(o,u))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Cn(i.innerStart,0,a),innerEnd:Cn(i.innerEnd,0,a)}}function sl(e,n,t,r){return{x:t+e*Math.cos(n),y:r+e*Math.sin(n)}}function Gb(e,n,t,r,i){const{x:o,y:a,startAngle:s,pixelMargin:l,innerRadius:u}=n,c=Math.max(n.outerRadius+r+t-l,0),f=u>0?u+r+t+l:0;let h=0;const d=i-s;if(r){const S=u>0?u-r:0,b=c>0?c-r:0,_=(S+b)/2,A=_!==0?d*_/(_+r):d;h=(d-A)/2}const g=Math.max(.001,d*c-t/Ft)/c,p=(d-g)/2,v=s+p+h,m=i-p-h,{outerStart:w,outerEnd:C,innerStart:E,innerEnd:k}=a5(n,f,c,m-v),$=c-w,D=c-C,Y=v+w/$,L=m-C/D,X=f+E,te=f+k,oe=v+E/X,ie=m-k/te;if(e.beginPath(),e.arc(o,a,c,Y,L),C>0){const S=sl(D,L,o,a);e.arc(S.x,S.y,C,L,m+Zt)}const de=sl(te,m,o,a);if(e.lineTo(de.x,de.y),k>0){const S=sl(te,ie,o,a);e.arc(S.x,S.y,k,m+Zt,ie+Math.PI)}if(e.arc(o,a,f,m-k/f,v+E/f,!0),E>0){const S=sl(X,oe,o,a);e.arc(S.x,S.y,E,oe+Math.PI,v-Zt)}const y=sl($,v,o,a);if(e.lineTo(y.x,y.y),w>0){const S=sl($,Y,o,a);e.arc(S.x,S.y,w,v-Zt,Y)}e.closePath()}function s5(e,n,t,r){const{fullCircles:i,startAngle:o,circumference:a}=n;let s=n.endAngle;if(i){Gb(e,n,t,r,o+Et);for(let l=0;l<i;++l)e.fill();isNaN(a)||(s=o+a%Et,a%Et==0&&(s+=Et))}return Gb(e,n,t,r,s),e.fill(),s}function l5(e,n,t){const{x:r,y:i,startAngle:o,pixelMargin:a,fullCircles:s}=n,l=Math.max(n.outerRadius-a,0),u=n.innerRadius+a;let c;for(t&&K1(e,n,o+Et),e.beginPath(),e.arc(r,i,u,o+Et,o,!0),c=0;c<s;++c)e.stroke();for(e.beginPath(),e.arc(r,i,l,o,o+Et),c=0;c<s;++c)e.stroke()}function u5(e,n,t,r,i){const{options:o}=n,{borderWidth:a,borderJoinStyle:s}=o,l=o.borderAlign==="inner";!a||(l?(e.lineWidth=a*2,e.lineJoin=s||"round"):(e.lineWidth=a,e.lineJoin=s||"bevel"),n.fullCircles&&l5(e,n,l),l&&K1(e,n,i),Gb(e,n,t,r,i),e.stroke())}class fd extends Br{constructor(n){super();this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=OA(i,{x:n,y:t}),{startAngle:s,endAngle:l,innerRadius:u,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=this.options.spacing/2,g=Ze(f,l-s)>=Et||qu(o,s,l),p=Ii(a,u+h,c+h);return g&&p}getCenterPoint(n){const{x:t,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:l,spacing:u}=this.options,c=(i+o)/2,f=(a+s+u+l)/2;return{x:t+Math.cos(c)*f,y:r+Math.sin(c)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:t,circumference:r}=this,i=(t.offset||0)/2,o=(t.spacing||0)/2;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Et?Math.floor(r/Et):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=0;if(i){a=i/2;const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*a,Math.sin(l)*a),this.circumference>=Ft&&(a=i)}n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor;const s=s5(n,this,a,o);u5(n,this,a,o,s),n.restore()}}fd.id="arc";fd.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};fd.defaultRoutes={backgroundColor:"backgroundColor"};function X1(e,n,t=n){e.lineCap=Ze(t.borderCapStyle,n.borderCapStyle),e.setLineDash(Ze(t.borderDash,n.borderDash)),e.lineDashOffset=Ze(t.borderDashOffset,n.borderDashOffset),e.lineJoin=Ze(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=Ze(t.borderWidth,n.borderWidth),e.strokeStyle=Ze(t.borderColor,n.borderColor)}function c5(e,n,t){e.lineTo(t.x,t.y)}function f5(e){return e.stepped?EY:e.tension||e.cubicInterpolationMode==="monotone"?TY:c5}function q1(e,n,t={}){const r=e.length,{start:i=0,end:o=r-1}=t,{start:a,end:s}=n,l=Math.max(i,a),u=Math.min(o,s),c=i<a&&o<a||i>s&&o>s;return{count:r,start:l,loop:n.loop,ilen:u<l&&!c?r+u-l:u-l}}function h5(e,n,t,r){const{points:i,options:o}=n,{count:a,start:s,loop:l,ilen:u}=q1(i,t,r),c=f5(o);let{move:f=!0,reverse:h}=r||{},d,g,p;for(d=0;d<=u;++d)g=i[(s+(h?u-d:d))%a],!g.skip&&(f?(e.moveTo(g.x,g.y),f=!1):c(e,p,g,h,o.stepped),p=g);return l&&(g=i[(s+(h?u:0))%a],c(e,p,g,h,o.stepped)),!!l}function d5(e,n,t,r){const i=n.points,{count:o,start:a,ilen:s}=q1(i,t,r),{move:l=!0,reverse:u}=r||{};let c=0,f=0,h,d,g,p,v,m;const w=E=>(a+(u?s-E:E))%o,C=()=>{p!==v&&(e.lineTo(c,v),e.lineTo(c,p),e.lineTo(c,m))};for(l&&(d=i[w(0)],e.moveTo(d.x,d.y)),h=0;h<=s;++h){if(d=i[w(h)],d.skip)continue;const E=d.x,k=d.y,$=E|0;$===g?(k<p?p=k:k>v&&(v=k),c=(f*c+E)/++f):(C(),e.lineTo(E,k),g=$,f=0,p=v=k),m=k}C()}function Kb(e){const n=e.options,t=n.borderDash&&n.borderDash.length;return!e._decimated&&!e._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!t?d5:h5}function g5(e){return e.stepped?sG:e.tension||e.cubicInterpolationMode==="monotone"?lG:$a}function p5(e,n,t,r){let i=n._path;i||(i=n._path=new Path2D,n.path(i,t,r)&&i.closePath()),X1(e,n.options),e.stroke(i)}function v5(e,n,t,r){const{segments:i,options:o}=n,a=Kb(n);for(const s of i)X1(e,o,s.style),e.beginPath(),a(e,n,s,{start:t,end:t+r-1})&&e.closePath(),e.stroke()}const m5=typeof Path2D=="function";function y5(e,n,t,r){m5&&!n.options.segment?p5(e,n,t,r):v5(e,n,t,r)}class Do extends Br{constructor(n){super();this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;JY(this._points,r,n,i,t),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pG(this,this.options.segment))}first(){const n=this.segments,t=this.points;return n.length&&t[n[0].start]}last(){const n=this.segments,t=this.points,r=n.length;return r&&t[n[r-1].end]}interpolate(n,t){const r=this.options,i=n[t],o=this.points,a=a1(this,{property:t,start:i,end:i});if(!a.length)return;const s=[],l=g5(r);let u,c;for(u=0,c=a.length;u<c;++u){const{start:f,end:h}=a[u],d=o[f],g=o[h];if(d===g){s.push(d);continue}const p=Math.abs((i-d[t])/(g[t]-d[t])),v=l(d,g,p,r.stepped);v[t]=n[t],s.push(v)}return s.length===1?s[0]:s}pathSegment(n,t,r){return Kb(this)(n,this,t,r)}path(n,t,r){const i=this.segments,o=Kb(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const s of i)a&=o(n,this,s,{start:t,end:t+r-1});return!!a}draw(n,t,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),y5(n,this,r,i),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Do.id="line";Do.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Do.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Do.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function Z1(e,n,t,r){const i=e.options,{[t]:o}=e.getProps([t],r);return Math.abs(n-o)<i.radius+i.hitRadius}class hd extends Br{constructor(n){super();this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,t,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,t){return Z1(this,n,"x",t)}inYRange(n,t){return Z1(this,n,"y",t)}getCenterPoint(n){const{x:t,y:r}=this.getProps(["x","y"],n);return{x:t,y:r}}size(n){n=n||this.options||{};let t=n.radius||0;t=Math.max(t,t&&n.hoverRadius||0);const r=t&&n.borderWidth||0;return(t+r)*2}draw(n,t){const r=this.options;this.skip||r.radius<.1||!xa(this,t,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,zh(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}hd.id="point";hd.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};hd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Q1(e,n){const{x:t,y:r,base:i,width:o,height:a}=e.getProps(["x","y","base","width","height"],n);let s,l,u,c,f;return e.horizontal?(f=a/2,s=Math.min(t,i),l=Math.max(t,i),u=r-f,c=r+f):(f=o/2,s=t-f,l=t+f,u=Math.min(r,i),c=Math.max(r,i)),{left:s,top:u,right:l,bottom:c}}function No(e,n,t,r){return e?0:Cn(n,t,r)}function b5(e,n,t){const r=e.options.borderWidth,i=e.borderSkipped,o=FA(r);return{t:No(i.top,o.top,0,t),r:No(i.right,o.right,0,n),b:No(i.bottom,o.bottom,0,t),l:No(i.left,o.left,0,n)}}function w5(e,n,t){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=nl(i),a=Math.min(n,t),s=e.borderSkipped,l=r||gt(i);return{topLeft:No(!l||s.top||s.left,o.topLeft,0,a),topRight:No(!l||s.top||s.right,o.topRight,0,a),bottomLeft:No(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:No(!l||s.bottom||s.right,o.bottomRight,0,a)}}function _5(e){const n=Q1(e),t=n.right-n.left,r=n.bottom-n.top,i=b5(e,t/2,r/2),o=w5(e,t/2,r/2);return{outer:{x:n.left,y:n.top,w:t,h:r,radius:o},inner:{x:n.left+i.l,y:n.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Xb(e,n,t,r){const i=n===null,o=t===null,s=e&&!(i&&o)&&Q1(e,r);return s&&(i||Ii(n,s.left,s.right))&&(o||Ii(t,s.top,s.bottom))}function S5(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function C5(e,n){e.rect(n.x,n.y,n.w,n.h)}function qb(e,n,t={}){const r=e.x!==t.x?-n:0,i=e.y!==t.y?-n:0,o=(e.x+e.w!==t.x+t.w?n:0)-r,a=(e.y+e.h!==t.y+t.h?n:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+a,radius:e.radius}}class dd extends Br{constructor(n){super();this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:a}=_5(this),s=S5(a.radius)?Kh:C5;n.save(),(a.w!==o.w||a.h!==o.h)&&(n.beginPath(),s(n,qb(a,t,o)),n.clip(),s(n,qb(o,-t,a)),n.fillStyle=r,n.fill("evenodd")),n.beginPath(),s(n,qb(o,t)),n.fillStyle=i,n.fill(),n.restore()}inRange(n,t,r){return Xb(this,n,t,r)}inXRange(n,t){return Xb(this,n,null,t)}inYRange(n,t){return Xb(this,null,n,t)}getCenterPoint(n){const{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}}dd.id="bar";dd.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};dd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var R5=Object.freeze({__proto__:null,ArcElement:fd,LineElement:Do,PointElement:hd,BarElement:dd});function O5(e,n,t,r,i){const o=i.samples||r;if(o>=t)return e.slice(n,n+t);const a=[],s=(t-2)/(o-2);let l=0;const u=n+t-1;let c=n,f,h,d,g,p;for(a[l++]=e[c],f=0;f<o-2;f++){let v=0,m=0,w;const C=Math.floor((f+1)*s)+1+n,E=Math.min(Math.floor((f+2)*s)+1,t)+n,k=E-C;for(w=C;w<E;w++)v+=e[w].x,m+=e[w].y;v/=k,m/=k;const $=Math.floor(f*s)+1+n,D=Math.min(Math.floor((f+1)*s)+1,t)+n,{x:Y,y:L}=e[c];for(d=g=-1,w=$;w<D;w++)g=.5*Math.abs((Y-v)*(e[w].y-L)-(Y-e[w].x)*(m-L)),g>d&&(d=g,h=e[w],p=w);a[l++]=h,c=p}return a[l++]=e[u],a}function E5(e,n,t,r){let i=0,o=0,a,s,l,u,c,f,h,d,g,p;const v=[],m=n+t-1,w=e[n].x,E=e[m].x-w;for(a=n;a<n+t;++a){s=e[a],l=(s.x-w)/E*r,u=s.y;const k=l|0;if(k===c)u<g?(g=u,f=a):u>p&&(p=u,h=a),i=(o*i+s.x)/++o;else{const $=a-1;if(!_t(f)&&!_t(h)){const D=Math.min(f,h),Y=Math.max(f,h);D!==d&&D!==$&&v.push(gb(ii({},e[D]),{x:i})),Y!==d&&Y!==$&&v.push(gb(ii({},e[Y]),{x:i}))}a>0&&$!==d&&v.push(e[$]),v.push(s),c=k,o=0,g=p=u,f=h=d=a}}return v}function J1(e){if(e._decimated){const n=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:n})}}function eM(e){e.data.datasets.forEach(n=>{J1(n)})}function T5(e,n){const t=n.length;let r=0,i;const{iScale:o}=e,{min:a,max:s,minDefined:l,maxDefined:u}=o.getUserBounds();return l&&(r=Cn($i(n,o.axis,a).lo,0,t-1)),u?i=Cn($i(n,o.axis,s).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var k5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,n,t)=>{if(!t.enabled){eM(e);return}const r=e.width;e.data.datasets.forEach((i,o)=>{const{_data:a,indexAxis:s}=i,l=e.getDatasetMeta(o),u=a||i.data;if(nc([s,e.options.indexAxis])==="y"||l.type!=="line")return;const c=e.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||e.options.parsing)return;let{start:f,count:h}=T5(l,u);const d=t.threshold||4*r;if(h<=d){J1(i);return}_t(a)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(t.algorithm){case"lttb":g=O5(u,f,h,r,t);break;case"min-max":g=E5(u,f,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=g})},destroy(e){eM(e)}};function A5(e,n){const t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}function M5(e){const n=e.options,t=n.fill;let r=Ze(t&&t.target,t);return r===void 0&&(r=!!n.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function x5(e,n,t){const r=M5(e);if(gt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return tn(i)&&Math.floor(i)===i?((r[0]==="-"||r[0]==="+")&&(i=n+i),i===n||i<0||i>=t?!1:i):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function P5(e){const{scale:n={},fill:t}=e;let r=null,i;return t==="start"?r=n.bottom:t==="end"?r=n.top:gt(t)?r=n.getPixelForValue(t.value):n.getBasePixel&&(r=n.getBasePixel()),tn(r)?(i=n.isHorizontal(),{x:i?r:null,y:i?null:r}):null}class tM{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,r){const{x:i,y:o,radius:a}=this;return t=t||{start:0,end:Et},n.arc(i,o,a,t.end,t.start,!0),!r.bounds}interpolate(n){const{x:t,y:r,radius:i}=this,o=n.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function I5(e){const{scale:n,fill:t}=e,r=n.options,i=n.getLabels().length,o=[],a=r.reverse?n.max:n.min,s=r.reverse?n.min:n.max;let l,u,c;if(t==="start"?c=a:t==="end"?c=s:gt(t)?c=t.value:c=n.getBaseValue(),r.grid.circular)return u=n.getPointPositionForValue(0,a),new tM({x:u.x,y:u.y,radius:n.getDistanceFromCenterForValue(c)});for(l=0;l<i;++l)o.push(n.getPointPositionForValue(l,c));return o}function $5(e){return(e.scale||{}).getPointPositionForValue?I5(e):P5(e)}function nM(e,n,t){for(;n>e;n--){const r=t[n];if(!isNaN(r.x)&&!isNaN(r.y))break}return n}function D5(e,n){const{x:t=null,y:r=null}=e||{},i=n.points,o=[];return n.segments.forEach(({start:a,end:s})=>{s=nM(a,s,i);const l=i[a],u=i[s];r!==null?(o.push({x:l.x,y:r}),o.push({x:u.x,y:r})):t!==null&&(o.push({x:t,y:l.y}),o.push({x:t,y:u.y}))}),o}function N5(e){const{scale:n,index:t,line:r}=e,i=[],o=r.segments,a=r.points,s=L5(n,t);s.push(rM({x:null,y:n.bottom},r));for(let l=0;l<o.length;l++){const u=o[l];for(let c=u.start;c<=u.end;c++)H5(i,a[c],s)}return new Do({points:i,options:{}})}function L5(e,n){const t=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===n)break;o.hidden||t.unshift(o.dataset)}return t}function H5(e,n,t){const r=[];for(let i=0;i<t.length;i++){const o=t[i],{first:a,last:s,point:l}=F5(o,n,"x");if(!(!l||a&&s)){if(a)r.unshift(l);else if(e.push(l),!s)break}}e.push(...r)}function F5(e,n,t){const r=e.interpolate(n,t);if(!r)return{};const i=r[t],o=e.segments,a=e.points;let s=!1,l=!1;for(let u=0;u<o.length;u++){const c=o[u],f=a[c.start][t],h=a[c.end][t];if(Ii(i,f,h)){s=i===f,l=i===h;break}}return{first:s,last:l,point:r}}function B5(e){const{chart:n,fill:t,line:r}=e;if(tn(t))return A5(n,t);if(t==="stack")return N5(e);if(t==="shape")return!0;const i=$5(e);return i instanceof tM?i:rM(i,r)}function rM(e,n){let t=[],r=!1;return Tt(e)?(r=!0,t=e):t=D5(e,n),t.length?new Do({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function V5(e,n,t){let i=e[n].fill;const o=[n];let a;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!tn(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;o.push(i),i=a.fill}return!1}function iM(e,n,t){e.beginPath(),n.path(e),e.lineTo(n.last().x,t),e.lineTo(n.first().x,t),e.closePath(),e.clip()}function Zb(e,n,t,r){if(r)return;let i=n[e],o=t[e];return e==="angle"&&(i=or(i),o=or(o)),{property:e,start:i,end:o}}function oM(e,n,t,r){return e&&n?r(e[t],n[t]):e?e[t]:n?n[t]:0}function W5(e,n,t){const r=e.segments,i=e.points,o=n.points,a=[];for(const s of r){let{start:l,end:u}=s;u=nM(l,u,i);const c=Zb(t,i[l],i[u],s.loop);if(!n.segments){a.push({source:s,target:c,start:i[l],end:i[u]});continue}const f=a1(n,c);for(const h of f){const d=Zb(t,o[h.start],o[h.end],h.loop),g=o1(s,i,d);for(const p of g)a.push({source:p,target:h,start:{[t]:oM(c,d,"start",Math.max)},end:{[t]:oM(c,d,"end",Math.min)}})}}return a}function j5(e,n,t){const{top:r,bottom:i}=n.chart.chartArea,{property:o,start:a,end:s}=t||{};o==="x"&&(e.beginPath(),e.rect(a,r,s-a,i-r),e.clip())}function aM(e,n,t,r){const i=n.interpolate(t,r);i&&e.lineTo(i.x,i.y)}function sM(e,n){const{line:t,target:r,property:i,color:o,scale:a}=n,s=W5(t,r,i);for(const{source:l,target:u,start:c,end:f}of s){const{style:{backgroundColor:h=o}={}}=l,d=r!==!0;e.save(),e.fillStyle=h,j5(e,a,d&&Zb(i,c,f)),e.beginPath();const g=!!t.pathSegment(e,l);let p;if(d){g?e.closePath():aM(e,r,f,i);const v=!!r.pathSegment(e,u,{move:g,reverse:!0});p=g&&v,p||aM(e,r,c,i)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function U5(e,n){const{line:t,target:r,above:i,below:o,area:a,scale:s}=n,l=t._loop?"angle":n.axis;e.save(),l==="x"&&o!==i&&(iM(e,r,a.top),sM(e,{line:t,target:r,color:i,scale:s,property:l}),e.restore(),e.save(),iM(e,r,a.bottom)),sM(e,{line:t,target:r,color:o,scale:s,property:l}),e.restore()}function Qb(e,n,t){const r=B5(n),{line:i,scale:o,axis:a}=n,s=i.options,l=s.fill,u=s.backgroundColor,{above:c=u,below:f=u}=l||{};r&&i.points.length&&(Yh(e,t),U5(e,{line:i,target:r,above:c,below:f,area:t,scale:o,axis:a}),Gh(e))}var z5={id:"filler",afterDatasetsUpdate(e,n,t){const r=(e.data.datasets||[]).length,i=[];let o,a,s,l;for(a=0;a<r;++a)o=e.getDatasetMeta(a),s=o.dataset,l=null,s&&s.options&&s instanceof Do&&(l={visible:e.isDatasetVisible(a),index:a,fill:x5(s,a,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=V5(i,a,t.propagate))},beforeDraw(e,n,t){const r=t.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=i.length-1;a>=0;--a){const s=i[a].$filler;!s||(s.line.updateControlPoints(o,s.axis),r&&Qb(e.ctx,s,o))}},beforeDatasetsDraw(e,n,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;o&&Qb(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,n,t){const r=n.meta.$filler;!r||r.fill===!1||t.drawTime!=="beforeDatasetDraw"||Qb(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lM=(e,n)=>{let{boxHeight:t=n,boxWidth:r=n}=e;return e.usePointStyle&&(t=Math.min(t,n),r=Math.min(r,n)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(n,t)}},Y5=(e,n)=>e!==null&&n!==null&&e.datasetIndex===n.datasetIndex&&e.index===n.index;class uM extends Br{constructor(n){super();this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,r){this.maxWidth=n,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let t=nt(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(r=>n.filter(r,this.chart.data))),n.sort&&(t=t.sort((r,i)=>n.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:n,ctx:t}=this;if(!n.display){this.width=this.height=0;return}const r=n.labels,i=gn(r.font),o=i.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=lM(r,o);let u,c;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(a,o,s,l)+10):(c=this.maxHeight,u=this._fitCols(a,o,s,l)+10),this.width=Math.min(u,n.maxWidth||this.maxWidth),this.height=Math.min(c,n.maxHeight||this.maxHeight)}_fitRows(n,t,r,i){const{ctx:o,maxWidth:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+s;let f=n;o.textAlign="left",o.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach((g,p)=>{const v=r+t/2+o.measureText(g.text).width;(p===0||u[u.length-1]+v+2*s>a)&&(f+=c,u[u.length-(p>0?0:1)]=0,d+=c,h++),l[p]={left:0,top:d,row:h,width:v,height:i},u[u.length-1]+=v+s}),f}_fitCols(n,t,r,i){const{ctx:o,maxHeight:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-n;let f=s,h=0,d=0,g=0,p=0;return this.legendItems.forEach((v,m)=>{const w=r+t/2+o.measureText(v.text).width;m>0&&d+i+2*s>c&&(f+=h+s,u.push({width:h,height:d}),g+=h+s,p++,h=d=0),l[m]={left:g,top:d,col:p,width:w,height:i},h=Math.max(h,w),d+=i+s}),f+=h,u.push({width:h,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,a=ol(o,this.left,this.width);if(this.isHorizontal()){let s=0,l=xn(r,this.left+i,this.right-this.lineWidths[s]);for(const u of t)s!==u.row&&(s=u.row,l=xn(r,this.left+i,this.right-this.lineWidths[s])),u.top+=this.top+n+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let s=0,l=xn(r,this.top+n+i,this.bottom-this.columnSizes[s].height);for(const u of t)u.col!==s&&(s=u.col,l=xn(r,this.top+n+i,this.bottom-this.columnSizes[s].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const n=this.ctx;Yh(n,this),this._draw(),Gh(n)}}_draw(){const{options:n,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:a}=n,s=pt.color,l=ol(n.rtl,this.left,this.width),u=gn(a.font),{color:c,padding:f}=a,h=u.size,d=h/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:v,itemHeight:m}=lM(a,h),w=function(D,Y,L){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const X=Ze(L.lineWidth,1);if(i.fillStyle=Ze(L.fillStyle,s),i.lineCap=Ze(L.lineCap,"butt"),i.lineDashOffset=Ze(L.lineDashOffset,0),i.lineJoin=Ze(L.lineJoin,"miter"),i.lineWidth=X,i.strokeStyle=Ze(L.strokeStyle,s),i.setLineDash(Ze(L.lineDash,[])),a.usePointStyle){const te={radius:p*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:X},oe=l.xPlus(D,p/2),ie=Y+d;zh(i,te,oe,ie)}else{const te=Y+Math.max((h-v)/2,0),oe=l.leftForLtr(D,p),ie=nl(L.borderRadius);i.beginPath(),Object.values(ie).some(de=>de!==0)?Kh(i,{x:oe,y:te,w:p,h:v,radius:ie}):i.rect(oe,te,p,v),i.fill(),X!==0&&i.stroke()}i.restore()},C=function(D,Y,L){Pa(i,L.text,D,Y+m/2,u,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},E=this.isHorizontal(),k=this._computeTitleHeight();E?g={x:xn(o,this.left+f,this.right-r[0]),y:this.top+f+k,line:0}:g={x:this.left+f,y:xn(o,this.top+k+f,this.bottom-t[0].height),line:0},t1(this.ctx,n.textDirection);const $=m+f;this.legendItems.forEach((D,Y)=>{i.strokeStyle=D.fontColor||c,i.fillStyle=D.fontColor||c;const L=i.measureText(D.text).width,X=l.textAlign(D.textAlign||(D.textAlign=a.textAlign)),te=p+d+L;let oe=g.x,ie=g.y;l.setWidth(this.width),E?Y>0&&oe+te+f>this.right&&(ie=g.y+=$,g.line++,oe=g.x=xn(o,this.left+f,this.right-r[g.line])):Y>0&&ie+$>this.bottom&&(oe=g.x=oe+t[g.line].width+f,g.line++,ie=g.y=xn(o,this.top+k+f,this.bottom-t[g.line].height));const de=l.x(oe);w(de,ie,D),oe=U3(X,oe+p+d,E?oe+te:this.right,n.rtl),C(l.x(oe),ie,D),E?g.x+=te+f:g.y+=$}),n1(this.ctx,n.textDirection)}drawTitle(){const n=this.options,t=n.title,r=gn(t.font),i=Pn(t.padding);if(!t.display)return;const o=ol(n.rtl,this.left,this.width),a=this.ctx,s=t.position,l=r.size/2,u=i.top+l;let c,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,f=xn(n.align,f,this.right-h);else{const g=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);c=u+xn(n.align,this.top,this.bottom-g-n.labels.padding-this._computeTitleHeight())}const d=xn(s,f,f+h);a.textAlign=o.textAlign(vb(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,Pa(a,t.text,d,c,r)}_computeTitleHeight(){const n=this.options.title,t=gn(n.font),r=Pn(n.padding);return n.display?t.lineHeight+r.height:0}_getLegendItemAt(n,t){let r,i,o;if(Ii(n,this.left,this.right)&&Ii(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Ii(n,i.left,i.left+i.width)&&Ii(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(n){const t=this.options;if(!G5(n.type,t))return;const r=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"){const i=this._hoveredItem,o=Y5(i,r);i&&!o&&nt(t.onLeave,[n,i,this],this),this._hoveredItem=r,r&&!o&&nt(t.onHover,[n,r,this],this)}else r&&nt(t.onClick,[n,r,this],this)}}function G5(e,n){return!!(e==="mousemove"&&(n.onHover||n.onLeave)||n.onClick&&(e==="click"||e==="mouseup"))}var K5={id:"legend",_element:uM,start(e,n,t){const r=e.legend=new uM({ctx:e.ctx,options:t,chart:e});In.configure(e,r,t),In.addBox(e,r)},stop(e){In.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){const r=e.legend;In.configure(e,r,t),r.options=t},afterUpdate(e){const n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){const r=n.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),n.hidden=!0):(i.show(r),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map(a=>{const s=a.controller.getStyle(t?0:void 0),l=Pn(s.borderWidth);return{text:n[a.index].label,fillStyle:s.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:s.borderColor,pointStyle:r||s.pointStyle,rotation:s.rotation,textAlign:i||s.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Jb extends Br{constructor(n){super();this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=t;const i=Tt(r.text)?r.text.length:1;this._padding=Pn(r.padding);const o=i*gn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){const{top:t,left:r,bottom:i,right:o,options:a}=this,s=a.align;let l=0,u,c,f;return this.isHorizontal()?(c=xn(s,r,o),f=t+n,u=o-r):(a.position==="left"?(c=r+n,f=xn(s,i,t),l=Ft*-.5):(c=o-n,f=xn(s,t,i),l=Ft*.5),u=i-t),{titleX:c,titleY:f,maxWidth:u,rotation:l}}draw(){const n=this.ctx,t=this.options;if(!t.display)return;const r=gn(t.font),o=r.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:l,rotation:u}=this._drawArgs(o);Pa(n,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:u,textAlign:vb(t.align),textBaseline:"middle",translation:[a,s]})}}function X5(e,n){const t=new Jb({ctx:e.ctx,options:n,chart:e});In.configure(e,t,n),In.addBox(e,t),e.titleBlock=t}var q5={id:"title",_element:Jb,start(e,n,t){X5(e,t)},stop(e){const n=e.titleBlock;In.removeBox(e,n),delete e.titleBlock},beforeUpdate(e,n,t){const r=e.titleBlock;In.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gd=new WeakMap;var Z5={id:"subtitle",start(e,n,t){const r=new Jb({ctx:e.ctx,options:t,chart:e});In.configure(e,r,t),In.addBox(e,r),gd.set(e,r)},stop(e){In.removeBox(e,gd.get(e)),gd.delete(e)},beforeUpdate(e,n,t){const r=gd.get(e);In.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dc={average(e){if(!e.length)return!1;let n,t,r=0,i=0,o=0;for(n=0,t=e.length;n<t;++n){const a=e[n].element;if(a&&a.hasValue()){const s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:r/o,y:i/o}},nearest(e,n){if(!e.length)return!1;let t=n.x,r=n.y,i=Number.POSITIVE_INFINITY,o,a,s;for(o=0,a=e.length;o<a;++o){const l=e[o].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=bb(n,u);c<i&&(i=c,s=l)}}if(s){const l=s.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function ai(e,n){return n&&(Tt(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function Li(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Q5(e,n){const{element:t,datasetIndex:r,index:i}=n,o=e.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:e,label:a,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function cM(e,n){const t=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:a,boxHeight:s}=n,l=gn(n.bodyFont),u=gn(n.titleFont),c=gn(n.footerFont),f=o.length,h=i.length,d=r.length,g=Pn(n.padding);let p=g.height,v=0,m=r.reduce((E,k)=>E+k.before.length+k.lines.length+k.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*n.titleSpacing+n.titleMarginBottom),m){const E=n.displayColors?Math.max(s,l.lineHeight):l.lineHeight;p+=d*E+(m-d)*l.lineHeight+(m-1)*n.bodySpacing}h&&(p+=n.footerMarginTop+h*c.lineHeight+(h-1)*n.footerSpacing);let w=0;const C=function(E){v=Math.max(v,t.measureText(E).width+w)};return t.save(),t.font=u.string,ht(e.title,C),t.font=l.string,ht(e.beforeBody.concat(e.afterBody),C),w=n.displayColors?a+2+n.boxPadding:0,ht(r,E=>{ht(E.before,C),ht(E.lines,C),ht(E.after,C)}),w=0,t.font=c.string,ht(e.footer,C),t.restore(),v+=g.width,{width:v,height:p}}function J5(e,n){const{y:t,height:r}=n;return t<r/2?"top":t>e.height-r/2?"bottom":"center"}function e8(e,n,t,r){const{x:i,width:o}=r,a=t.caretSize+t.caretPadding;if(e==="left"&&i+o+a>n.width||e==="right"&&i-o-a<0)return!0}function t8(e,n,t,r){const{x:i,width:o}=t,{width:a,chartArea:{left:s,right:l}}=e;let u="center";return r==="center"?u=i<=(s+l)/2?"left":"right":i<=o/2?u="left":i>=a-o/2&&(u="right"),e8(u,e,n,t)&&(u="center"),u}function fM(e,n,t){const r=t.yAlign||n.yAlign||J5(e,t);return{xAlign:t.xAlign||n.xAlign||t8(e,n,t,r),yAlign:r}}function n8(e,n){let{x:t,width:r}=e;return n==="right"?t-=r:n==="center"&&(t-=r/2),t}function r8(e,n,t){let{y:r,height:i}=e;return n==="top"?r+=t:n==="bottom"?r-=i+t:r-=i/2,r}function hM(e,n,t,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=e,{xAlign:s,yAlign:l}=t,u=i+o,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:d}=nl(a);let g=n8(n,s);const p=r8(n,l,u);return l==="center"?s==="left"?g+=u:s==="right"&&(g-=u):s==="left"?g-=Math.max(c,h)+i:s==="right"&&(g+=Math.max(f,d)+i),{x:Cn(g,0,r.width-n.width),y:Cn(p,0,r.height-n.height)}}function pd(e,n,t){const r=Pn(t.padding);return n==="center"?e.x+e.width/2:n==="right"?e.x+e.width-r.right:e.x+r.left}function dM(e){return ai([],Li(e))}function i8(e,n,t){return Io(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}function gM(e,n){const t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}class ew extends Br{constructor(n){super();this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart||n._chart,this._chart=this.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const n=this._cachedAnimations;if(n)return n;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new c1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=i8(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,t){const{callbacks:r}=t,i=r.beforeTitle.apply(this,[n]),o=r.title.apply(this,[n]),a=r.afterTitle.apply(this,[n]);let s=[];return s=ai(s,Li(i)),s=ai(s,Li(o)),s=ai(s,Li(a)),s}getBeforeBody(n,t){return dM(t.callbacks.beforeBody.apply(this,[n]))}getBody(n,t){const{callbacks:r}=t,i=[];return ht(n,o=>{const a={before:[],lines:[],after:[]},s=gM(r,o);ai(a.before,Li(s.beforeLabel.call(this,o))),ai(a.lines,s.label.call(this,o)),ai(a.after,Li(s.afterLabel.call(this,o))),i.push(a)}),i}getAfterBody(n,t){return dM(t.callbacks.afterBody.apply(this,[n]))}getFooter(n,t){const{callbacks:r}=t,i=r.beforeFooter.apply(this,[n]),o=r.footer.apply(this,[n]),a=r.afterFooter.apply(this,[n]);let s=[];return s=ai(s,Li(i)),s=ai(s,Li(o)),s=ai(s,Li(a)),s}_createItems(n){const t=this._active,r=this.chart.data,i=[],o=[],a=[];let s=[],l,u;for(l=0,u=t.length;l<u;++l)s.push(Q5(this.chart,t[l]));return n.filter&&(s=s.filter((c,f,h)=>n.filter(c,f,h,r))),n.itemSort&&(s=s.sort((c,f)=>n.itemSort(c,f,r))),ht(s,c=>{const f=gM(n.callbacks,c);i.push(f.labelColor.call(this,c)),o.push(f.labelPointStyle.call(this,c)),a.push(f.labelTextColor.call(this,c))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=s,s}update(n,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,a=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const s=dc[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=cM(this,r),u=Object.assign({},s,l),c=fM(this.chart,r,u),f=hM(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:s.x,caretY:s.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(n,t,r,i){const o=this.getCaretPosition(n,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(n,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:a,cornerRadius:s}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:f}=nl(s),{x:h,y:d}=n,{width:g,height:p}=t;let v,m,w,C,E,k;return o==="center"?(E=d+p/2,i==="left"?(v=h,m=v-a,C=E+a,k=E-a):(v=h+g,m=v+a,C=E-a,k=E+a),w=v):(i==="left"?m=h+Math.max(l,c)+a:i==="right"?m=h+g-Math.max(u,f)-a:m=this.caretX,o==="top"?(C=d,E=C-a,v=m-a,w=m+a):(C=d+p,E=C+a,v=m+a,w=m-a),k=C),{x1:v,x2:m,x3:w,y1:C,y2:E,y3:k}}drawTitle(n,t,r){const i=this.title,o=i.length;let a,s,l;if(o){const u=ol(r.rtl,this.x,this.width);for(n.x=pd(this,r.titleAlign,r),t.textAlign=u.textAlign(r.titleAlign),t.textBaseline="middle",a=gn(r.titleFont),s=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<o;++l)t.fillText(i[l],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+s,l+1===o&&(n.y+=r.titleMarginBottom-s)}}_drawColorBox(n,t,r,i,o){const a=this.labelColors[r],s=this.labelPointStyles[r],{boxHeight:l,boxWidth:u,boxPadding:c}=o,f=gn(o.bodyFont),h=pd(this,"left",o),d=i.x(h),g=l<f.lineHeight?(f.lineHeight-l)/2:0,p=t.y+g;if(o.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},m=i.leftForLtr(d,u)+u/2,w=p+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,zh(n,v,m,w),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,zh(n,v,m,w)}else{n.lineWidth=a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;const v=i.leftForLtr(d,u-c),m=i.leftForLtr(i.xPlus(d,1),u-c-2),w=nl(a.borderRadius);Object.values(w).some(C=>C!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,Kh(n,{x:v,y:p,w:u,h:l,radius:w}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),Kh(n,{x:m,y:p+1,w:u-2,h:l-2,radius:w}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(v,p,u,l),n.strokeRect(v,p,u,l),n.fillStyle=a.backgroundColor,n.fillRect(m,p+1,u-2,l-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:a,displayColors:s,boxHeight:l,boxWidth:u,boxPadding:c}=r,f=gn(r.bodyFont);let h=f.lineHeight,d=0;const g=ol(r.rtl,this.x,this.width),p=function(Y){t.fillText(Y,g.x(n.x+d),n.y+h/2),n.y+=h+o},v=g.textAlign(a);let m,w,C,E,k,$,D;for(t.textAlign=a,t.textBaseline="middle",t.font=f.string,n.x=pd(this,v,r),t.fillStyle=r.bodyColor,ht(this.beforeBody,p),d=s&&v!=="right"?a==="center"?u/2+c:u+2+c:0,E=0,$=i.length;E<$;++E){for(m=i[E],w=this.labelTextColors[E],t.fillStyle=w,ht(m.before,p),C=m.lines,s&&C.length&&(this._drawColorBox(t,n,E,g,r),h=Math.max(f.lineHeight,l)),k=0,D=C.length;k<D;++k)p(C[k]),h=f.lineHeight;ht(m.after,p)}d=0,h=f.lineHeight,ht(this.afterBody,p),n.y-=o}drawFooter(n,t,r){const i=this.footer,o=i.length;let a,s;if(o){const l=ol(r.rtl,this.x,this.width);for(n.x=pd(this,r.footerAlign,r),n.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=gn(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,s=0;s<o;++s)t.fillText(i[s],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,t,r,i){const{xAlign:o,yAlign:a}=this,{x:s,y:l}=n,{width:u,height:c}=r,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:g}=nl(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+f,l),a==="top"&&this.drawCaret(n,t,r,i),t.lineTo(s+u-h,l),t.quadraticCurveTo(s+u,l,s+u,l+h),a==="center"&&o==="right"&&this.drawCaret(n,t,r,i),t.lineTo(s+u,l+c-g),t.quadraticCurveTo(s+u,l+c,s+u-g,l+c),a==="bottom"&&this.drawCaret(n,t,r,i),t.lineTo(s+d,l+c),t.quadraticCurveTo(s,l+c,s,l+c-d),a==="center"&&o==="left"&&this.drawCaret(n,t,r,i),t.lineTo(s,l+f),t.quadraticCurveTo(s,l,s+f,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(n){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const a=dc[n.position].call(this,this._active,this._eventPosition);if(!a)return;const s=this._size=cM(this,n),l=Object.assign({},a,this._size),u=fM(t,n,l),c=hM(n,l,u,t);(i._to!==c.x||o._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=s.width,this.height=s.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}draw(n){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Pn(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,i,t),t1(n,t.textDirection),o.y+=a.top,this.drawTitle(o,n,t),this.drawBody(o,n,t),this.drawFooter(o,n,t),n1(n,t.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,t){const r=this._active,i=n.map(({datasetIndex:s,index:l})=>{const u=this.chart.getDatasetMeta(s);if(!u)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:u.data[l],index:l}}),o=!Dh(r,i),a=this._positionChanged(i,t);(o||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],a=this._getActiveElements(n,o,t,r),s=this._positionChanged(a,n),l=t||!Dh(a,o)||s;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,t))),l}_getActiveElements(n,t,r,i){const o=this.options;if(n.type==="mouseout")return[];if(!i)return t;const a=this.chart.getElementsAtEventForMode(n,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(n,t){const{caretX:r,caretY:i,options:o}=this,a=dc[o.position].call(this,n,t);return a!==!1&&(r!==a.x||i!==a.y)}}ew.positioners=dc;var o8={id:"tooltip",_element:ew,positioners:dc,afterInit(e,n,t){t&&(e.tooltip=new ew({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const n=e.tooltip,t={tooltip:n};e.notifyPlugins("beforeTooltipDraw",t)!==!1&&(n&&n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t))},afterEvent(e,n){if(e.tooltip){const t=n.replay;e.tooltip.handleEvent(n.event,t,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Pi,title(e){if(e.length>0){const n=e[0],t=n.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(r>0&&n.dataIndex<r)return t[n.dataIndex]}return""},afterTitle:Pi,beforeBody:Pi,beforeLabel:Pi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");const t=e.formattedValue;return _t(t)||(n+=t),n},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Pi,afterBody:Pi,beforeFooter:Pi,footer:Pi,afterFooter:Pi}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},a8=Object.freeze({__proto__:null,Decimation:k5,Filler:z5,Legend:K5,SubTitle:Z5,Title:q5,Tooltip:o8});const s8=(e,n,t,r)=>(typeof n=="string"?(t=e.push(n)-1,r.unshift({index:t,label:n})):isNaN(n)&&(t=null),t);function l8(e,n,t,r){const i=e.indexOf(n);if(i===-1)return s8(e,n,t,r);const o=e.lastIndexOf(n);return i!==o?t:i}const u8=(e,n)=>e===null?null:Cn(Math.round(e),0,n);class vd extends Na{constructor(n){super(n);this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:o}of t)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(n)}parse(n,t){if(_t(n))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===n?t:l8(r,n,Ze(t,n),this._addedLabels),u8(t,r.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const n=this.min,t=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=n===0&&t===o.length-1?o:o.slice(n,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=t;a++)i.push({value:a});return i}getLabelForValue(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}vd.id="category";vd.defaults={ticks:{callback:vd.prototype.getLabelForValue}};function c8(e,n){const t=[],r=1e-14,{bounds:i,step:o,min:a,max:s,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:h}=e,d=o||1,g=c-1,{min:p,max:v}=n,m=!_t(a),w=!_t(s),C=!_t(u),E=(v-p)/(f+1);let k=SA((v-p)/g/d)*d,$,D,Y,L;if(k<r&&!m&&!w)return[{value:p},{value:v}];L=Math.ceil(v/k)-Math.floor(p/k),L>g&&(k=SA(L*k/g/d)*d),_t(l)||($=Math.pow(10,l),k=Math.ceil(k*$)/$),i==="ticks"?(D=Math.floor(p/k)*k,Y=Math.ceil(v/k)*k):(D=p,Y=v),m&&w&&o&&tY((s-a)/o,k/1e3)?(L=Math.round(Math.min((s-a)/k,c)),k=(s-a)/L,D=a,Y=s):C?(D=m?a:D,Y=w?s:Y,L=u-1,k=(Y-D)/L):(L=(Y-D)/k,Xu(L,Math.round(L),k/1e3)?L=Math.round(L):L=Math.ceil(L));const X=Math.max(RA(k),RA(D));$=Math.pow(10,_t(l)?X:l),D=Math.round(D*$)/$,Y=Math.round(Y*$)/$;let te=0;for(m&&(h&&D!==a?(t.push({value:a}),D<a&&te++,Xu(Math.round((D+te*k)*$)/$,a,pM(a,E,e))&&te++):D<a&&te++);te<L;++te)t.push({value:Math.round((D+te*k)*$)/$});return w&&h&&Y!==s?t.length&&Xu(t[t.length-1].value,s,pM(s,E,e))?t[t.length-1].value=s:t.push({value:s}):(!w||Y===s)&&t.push({value:Y}),t}function pM(e,n,{horizontal:t,minRotation:r}){const i=Fr(r),o=(t?Math.sin(i):Math.cos(i))||.001,a=.75*n*(""+e).length;return Math.min(n/o,a)}class md extends Na{constructor(n){super(n);this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return _t(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const a=l=>i=t?i:l,s=l=>o=r?o:l;if(n){const l=Sr(i),u=Sr(o);l<0&&u<0?s(0):l>0&&u>0&&a(0)}if(i===o){let l=1;(o>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(o*.05)),s(o+l),n||a(i-l)}this.min=i,this.max=o}getTickLimit(){const n=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=n,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,t=n.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,a=c8(i,o);return n.bounds==="ticks"&&CA(a,this,"value"),n.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const n=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&n.length){const i=(r-t)/Math.max(n.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(n){return rc(n,this.chart.options.locale,this.options.ticks.format)}}class tw extends md{determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=tn(n)?n:0,this.max=tn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),t=n?this.width:this.height,r=Fr(this.options.ticks.minRotation),i=(n?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}tw.id="linear";tw.defaults={ticks:{callback:ad.formatters.numeric}};function vM(e){return e/Math.pow(10,Math.floor(_r(e)))===1}function f8(e,n){const t=Math.floor(_r(n.max)),r=Math.ceil(n.max/Math.pow(10,t)),i=[];let o=br(e.min,Math.pow(10,Math.floor(_r(n.min)))),a=Math.floor(_r(o)),s=Math.floor(o/Math.pow(10,a)),l=a<0?Math.pow(10,Math.abs(a)):1;do i.push({value:o,major:vM(o)}),++s,s===10&&(s=1,++a,l=a>=0?1:l),o=Math.round(s*Math.pow(10,a)*l)/l;while(a<t||a===t&&s<r);const u=br(e.max,o);return i.push({value:u,major:vM(o)}),i}class nw extends Na{constructor(n){super(n);this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){const r=md.prototype.parse.apply(this,[n,t]);if(r===0){this._zero=!0;return}return tn(r)&&r>0?r:null}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!0);this.min=tn(n)?Math.max(0,n):null,this.max=tn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const o=l=>r=n?r:l,a=l=>i=t?i:l,s=(l,u)=>Math.pow(10,Math.floor(_r(l))+u);r===i&&(r<=0?(o(1),a(10)):(o(s(r,-1)),a(s(i,1)))),r<=0&&o(s(i,-1)),i<=0&&a(s(r,1)),this._zero&&this.min!==this._suggestedMin&&r===s(this.min,0)&&o(s(r,-1)),this.min=r,this.max=i}buildTicks(){const n=this.options,t={min:this._userMin,max:this._userMax},r=f8(t,this);return n.bounds==="ticks"&&CA(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(n){return n===void 0?"0":rc(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=_r(n),this._valueRange=_r(this.max)-_r(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(_r(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}}nw.id="logarithmic";nw.defaults={ticks:{callback:ad.formatters.logarithmic,major:{enabled:!0}}};function rw(e){const n=e.ticks;if(n.display&&e.display){const t=Pn(n.backdropPadding);return Ze(n.font&&n.font.size,pt.font.size)+t.height}return 0}function h8(e,n,t){return t=Tt(t)?t:[t],{w:OY(e,n.string,t),h:t.length*n.lineHeight}}function mM(e,n,t,r,i){return e===r||e===i?{start:n-t/2,end:n+t/2}:e<r||e>i?{start:n-t,end:n}:{start:n,end:n+t}}function d8(e){const n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),r=[],i=[],o=e._pointLabels.length,a=e.options.pointLabels,s=a.centerPointLabels?Ft/o:0;for(let l=0;l<o;l++){const u=a.setContext(e.getPointLabelContext(l));i[l]=u.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],s),f=gn(u.font),h=h8(e.ctx,f,e._pointLabels[l]);r[l]=h;const d=or(e.getIndexAngle(l)+s),g=Math.round(yb(d)),p=mM(g,c.x,h.w,0,180),v=mM(g,c.y,h.h,90,270);g8(t,n,d,p,v)}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=p8(e,r,i)}function g8(e,n,t,r,i){const o=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let s=0,l=0;r.start<n.l?(s=(n.l-r.start)/o,e.l=Math.min(e.l,n.l-s)):r.end>n.r&&(s=(r.end-n.r)/o,e.r=Math.max(e.r,n.r+s)),i.start<n.t?(l=(n.t-i.start)/a,e.t=Math.min(e.t,n.t-l)):i.end>n.b&&(l=(i.end-n.b)/a,e.b=Math.max(e.b,n.b+l))}function p8(e,n,t){const r=[],i=e._pointLabels.length,o=e.options,a=rw(o)/2,s=e.drawingArea,l=o.pointLabels.centerPointLabels?Ft/i:0;for(let u=0;u<i;u++){const c=e.getPointPosition(u,s+a+t[u],l),f=Math.round(yb(or(c.angle+Zt))),h=n[u],d=y8(c.y,h.h,f),g=v8(f),p=m8(c.x,h.w,g);r.push({x:c.x,y:d,textAlign:g,left:p,top:d,right:p+h.w,bottom:d+h.h})}return r}function v8(e){return e===0||e===180?"center":e<180?"left":"right"}function m8(e,n,t){return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function y8(e,n,t){return t===90||t===270?e-=n/2:(t>270||t<90)&&(e-=n),e}function b8(e,n){const{ctx:t,options:{pointLabels:r}}=e;for(let i=n-1;i>=0;i--){const o=r.setContext(e.getPointLabelContext(i)),a=gn(o.font),{x:s,y:l,textAlign:u,left:c,top:f,right:h,bottom:d}=e._pointLabelItems[i],{backdropColor:g}=o;if(!_t(g)){const p=Pn(o.backdropPadding);t.fillStyle=g,t.fillRect(c-p.left,f-p.top,h-c+p.width,d-f+p.height)}Pa(t,e._pointLabels[i],s,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function yM(e,n,t,r){const{ctx:i}=e;if(t)i.arc(e.xCenter,e.yCenter,n,0,Et);else{let o=e.getPointPosition(0,n);i.moveTo(o.x,o.y);for(let a=1;a<r;a++)o=e.getPointPosition(a,n),i.lineTo(o.x,o.y)}}function w8(e,n,t,r){const i=e.ctx,o=n.circular,{color:a,lineWidth:s}=n;!o&&!r||!a||!s||t<0||(i.save(),i.strokeStyle=a,i.lineWidth=s,i.setLineDash(n.borderDash),i.lineDashOffset=n.borderDashOffset,i.beginPath(),yM(e,t,o,r),i.closePath(),i.stroke(),i.restore())}function _8(e,n,t){return Io(e,{label:t,index:n,type:"pointLabel"})}class gc extends md{constructor(n){super(n);this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Pn(rw(this.options)/2),t=this.width=this.maxWidth-n.width,r=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+r/2+n.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:n,max:t}=this.getMinMax(!1);this.min=tn(n)&&!isNaN(n)?n:0,this.max=tn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/rw(this.options))}generateTickLabels(n){md.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,r)=>{const i=nt(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const n=this.options;n.display&&n.pointLabels.display?d8(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,r,i){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,r,i))}getIndexAngle(n){const t=Et/(this._pointLabels.length||1),r=this.options.startAngle||0;return or(n*t+Fr(r))}getDistanceFromCenterForValue(n){if(_t(n))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(_t(n))return NaN;const t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){const t=this._pointLabels||[];if(n>=0&&n<t.length){const r=t[n];return _8(this.getContext(),n,r)}}getPointPosition(n,t,r=0){const i=this.getIndexAngle(n)-Zt+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[n];return{left:t,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:n,grid:{circular:t}}=this.options;if(n){const r=this.ctx;r.save(),r.beginPath(),yM(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=n,r.fill(),r.restore()}}drawGrid(){const n=this.ctx,t=this.options,{angleLines:r,grid:i}=t,o=this._pointLabels.length;let a,s,l;if(t.pointLabels.display&&b8(this,o),i.display&&this.ticks.forEach((u,c)=>{if(c!==0){s=this.getDistanceFromCenterForValue(u.value);const f=i.setContext(this.getContext(c-1));w8(this,f,s,o)}}),r.display){for(n.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:c,lineWidth:f}=u;!f||!c||(n.lineWidth=f,n.strokeStyle=c,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,s),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(l.x,l.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,a;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(i),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&!t.reverse)return;const u=r.setContext(this.getContext(l)),c=gn(u.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){n.font=c.string,a=n.measureText(s.label).width,n.fillStyle=u.backdropColor;const f=Pn(u.backdropPadding);n.fillRect(-a/2-f.left,-o-c.size/2-f.top,a+f.width,c.size+f.height)}Pa(n,s.label,0,-o,c,{color:u.color})}),n.restore()}drawTitle(){}}gc.id="radialLinear";gc.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ad.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};gc.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};gc.descriptors={angleLines:{_fallback:"grid"}};const yd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(yd);function S8(e,n){return e-n}function bM(e,n){if(_t(n))return null;const t=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts;let a=n;return typeof r=="function"&&(a=r(a)),tn(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(Ku(o)||o===!0)?t.startOf(a,"isoWeek",o):t.startOf(a,i)),+a)}function wM(e,n,t,r){const i=qn.length;for(let o=qn.indexOf(e);o<i-1;++o){const a=yd[qn[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-n)/(s*a.size))<=r)return qn[o]}return qn[i-1]}function C8(e,n,t,r,i){for(let o=qn.length-1;o>=qn.indexOf(t);o--){const a=qn[o];if(yd[a].common&&e._adapter.diff(i,r,a)>=n-1)return a}return qn[t?qn.indexOf(t):0]}function R8(e){for(let n=qn.indexOf(e)+1,t=qn.length;n<t;++n)if(yd[qn[n]].common)return qn[n]}function _M(e,n,t){if(!t)e[n]=!0;else if(t.length){const{lo:r,hi:i}=Ab(t,n),o=t[r]>=n?t[r]:t[i];e[o]=!0}}function O8(e,n,t,r){const i=e._adapter,o=+i.startOf(n[0].value,r),a=n[n.length-1].value;let s,l;for(s=o;s<=a;s=+i.add(s,1,r))l=t[s],l>=0&&(n[l].major=!0);return n}function SM(e,n,t){const r=[],i={},o=n.length;let a,s;for(a=0;a<o;++a)s=n[a],i[s]=a,r.push({value:s,major:!1});return o===0||!t?r:O8(e,r,i,t)}class pc extends Na{constructor(n){super(n);this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,t){const r=n.time||(n.time={}),i=this._adapter=new XG._date(n.adapters.date);Yu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=t.normalized}parse(n,t){return n===void 0?null:bM(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const n=this.options,t=this._adapter,r=n.time.unit||"day";let{min:i,max:o,minDefined:a,maxDefined:s}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!s&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!s)&&(l(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=tn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=tn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const n=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(t=n[0],r=n[n.length-1]),{min:t,max:r}}buildTicks(){const n=this.options,t=n.time,r=n.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,a=this.max,s=NY(i,o,a);return this._unit=t.unit||(r.autoSkip?wM(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):C8(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:R8(this._unit),this.initOffsets(i),n.reverse&&s.reverse(),SM(this,s,this._majorUnit)}initOffsets(n){let t=0,r=0,i,o;this.options.offset&&n.length&&(i=this.getDecimalForValue(n[0]),n.length===1?t=1-i:t=(this.getDecimalForValue(n[1])-i)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?r=o:r=(o-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;t=Cn(t,0,a),r=Cn(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const n=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,a=o.unit||wM(o.minUnit,t,r,this._getLabelCapacity(t)),s=Ze(o.stepSize,1),l=a==="week"?o.isoWeekday:!1,u=Ku(l)||l===!0,c={};let f=t,h,d;if(u&&(f=+n.startOf(f,"isoWeek",l)),f=+n.startOf(f,u?"day":a),n.diff(r,t,a)>1e5*s)throw new Error(t+" and "+r+" are too far apart with stepSize of "+s+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<r;h=+n.add(h,s,a),d++)_M(c,h,g);return(h===r||i.bounds==="ticks"||d===1)&&_M(c,h,g),Object.keys(c).sort((p,v)=>p-v).map(p=>+p)}getLabelForValue(n){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(n,r.tooltipFormat):t.format(n,r.displayFormats.datetime)}_tickFormatFunction(n,t,r,i){const o=this.options,a=o.time.displayFormats,s=this._unit,l=this._majorUnit,u=s&&a[s],c=l&&a[l],f=r[t],h=l&&c&&f&&f.major,d=this._adapter.format(n,i||(h?c:u)),g=o.ticks.callback;return g?nt(g,[d,t,r],this):d}generateTickLabels(n){let t,r,i;for(t=0,r=n.length;t<r;++t)i=n[t],i.label=this._tickFormatFunction(i.value,t,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){const t=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(n){const t=this._offsets,r=this.getDecimalForPixel(n)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){const t=this.options.ticks,r=this.ctx.measureText(n).width,i=Fr(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),a=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:r*o+s*a,h:r*a+s*o}}_getLabelCapacity(n){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(n,0,SM(this,[n],this._majorUnit),i),a=this._getLabelSize(o),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let n=this._cache.data||[],t,r;if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const n=this._cache.labels||[];let t,r;if(n.length)return n;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)n.push(bM(this,i[t]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return WA(n.sort(S8))}}pc.id="time";pc.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function bd(e,n,t){let r=0,i=e.length-1,o,a,s,l;t?(n>=e[r].pos&&n<=e[i].pos&&({lo:r,hi:i}=$i(e,"pos",n)),{pos:o,time:s}=e[r],{pos:a,time:l}=e[i]):(n>=e[r].time&&n<=e[i].time&&({lo:r,hi:i}=$i(e,"time",n)),{time:o,pos:s}=e[r],{time:a,pos:l}=e[i]);const u=a-o;return u?s+(l-s)*(n-o)/u:s}class iw extends pc{constructor(n){super(n);this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=bd(t,this.min),this._tableRange=bd(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:t,max:r}=this,i=[],o=[];let a,s,l,u,c;for(a=0,s=n.length;a<s;++a)u=n[a],u>=t&&u<=r&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,s=i.length;a<s;++a)c=i[a+1],l=i[a-1],u=i[a],Math.round((c+l)/2)!==u&&o.push({time:u,pos:a/(s-1)});return o}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?n=this.normalize(t.concat(r)):n=t.length?t:r,n=this._cache.all=n,n}getDecimalForValue(n){return(bd(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const t=this._offsets,r=this.getDecimalForPixel(n)/t.factor-t.end;return bd(this._table,r*this._tableRange+this._minPos,!0)}}iw.id="timeseries";iw.defaults=pc.defaults;var E8=Object.freeze({__proto__:null,CategoryScale:vd,LinearScale:tw,LogarithmicScale:nw,RadialLinearScale:gc,TimeScale:pc,TimeSeriesScale:iw});const T8=[KG,R5,a8,E8];Yb.register(...T8);var wd=function(e){return e&&e.Math==Math&&e},We=wd(typeof globalThis=="object"&&globalThis)||wd(typeof window=="object"&&window)||wd(typeof self=="object"&&self)||wd(typeof Fn=="object"&&Fn)||function(){return this}()||Function("return this")(),si={},lt=function(e){try{return!!e()}catch{return!0}},k8=lt,pn=!k8(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),vc=Function.prototype.call,En=vc.bind?vc.bind(vc):function(){return vc.apply(vc,arguments)},mc={},CM={}.propertyIsEnumerable,RM=Object.getOwnPropertyDescriptor,A8=RM&&!CM.call({1:2},1);mc.f=A8?function(n){var t=RM(this,n);return!!t&&t.enumerable}:CM;var yc=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}},OM=Function.prototype,ow=OM.bind,aw=OM.call,M8=ow&&ow.bind(aw,aw),Qe=ow?function(e){return e&&M8(e)}:function(e){return e&&function(){return aw.apply(e,arguments)}},EM=Qe,x8=EM({}.toString),P8=EM("".slice),Lo=function(e){return P8(x8(e),8,-1)},I8=We,$8=Qe,D8=lt,N8=Lo,sw=I8.Object,L8=$8("".split),bc=D8(function(){return!sw("z").propertyIsEnumerable(0)})?function(e){return N8(e)=="String"?L8(e,""):sw(e)}:sw,H8=We,F8=H8.TypeError,Zn=function(e){if(e==null)throw F8("Can't call method on "+e);return e},B8=bc,V8=Zn,ar=function(e){return B8(V8(e))},Ut=function(e){return typeof e=="function"},W8=Ut,nn=function(e){return typeof e=="object"?e!==null:W8(e)},lw=We,j8=Ut,U8=function(e){return j8(e)?e:void 0},Ho=function(e,n){return arguments.length<2?U8(lw[e]):lw[e]&&lw[e][n]},z8=Qe,Fo=z8({}.isPrototypeOf),Y8=Ho,La=Y8("navigator","userAgent")||"",TM=We,uw=La,kM=TM.process,AM=TM.Deno,MM=kM&&kM.versions||AM&&AM.version,xM=MM&&MM.v8,Vr,_d;xM&&(Vr=xM.split("."),_d=Vr[0]>0&&Vr[0]<4?1:+(Vr[0]+Vr[1]));!_d&&uw&&(Vr=uw.match(/Edge\/(\d+)/),(!Vr||Vr[1]>=74)&&(Vr=uw.match(/Chrome\/(\d+)/),Vr&&(_d=+Vr[1])));var wc=_d,PM=wc,G8=lt,cw=!!Object.getOwnPropertySymbols&&!G8(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&PM&&PM<41}),K8=cw,IM=K8&&!Symbol.sham&&typeof Symbol.iterator=="symbol",X8=We,q8=Ho,Z8=Ut,Q8=Fo,J8=IM,e6=X8.Object,Sd=J8?function(e){return typeof e=="symbol"}:function(e){var n=q8("Symbol");return Z8(n)&&Q8(n.prototype,e6(e))},t6=We,n6=t6.String,Cd=function(e){try{return n6(e)}catch{return"Object"}},r6=We,i6=Ut,o6=Cd,a6=r6.TypeError,ll=function(e){if(i6(e))return e;throw a6(o6(e)+" is not a function")},s6=ll,Ha=function(e,n){var t=e[n];return t==null?void 0:s6(t)},l6=We,fw=En,hw=Ut,dw=nn,u6=l6.TypeError,c6=function(e,n){var t,r;if(n==="string"&&hw(t=e.toString)&&!dw(r=fw(t,e))||hw(t=e.valueOf)&&!dw(r=fw(t,e))||n!=="string"&&hw(t=e.toString)&&!dw(r=fw(t,e)))return r;throw u6("Can't convert object to primitive value")},_c={exports:{}},$M=We,f6=Object.defineProperty,gw=function(e,n){try{f6($M,e,{value:n,configurable:!0,writable:!0})}catch{$M[e]=n}return n},h6=We,d6=gw,DM="__core-js_shared__",g6=h6[DM]||d6(DM,{}),pw=g6,NM=pw;(_c.exports=function(e,n){return NM[e]||(NM[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.20.2",mode:"global",copyright:"\xA9 2022 Denis Pushkarev (zloirock.ru)"});var p6=We,v6=Zn,m6=p6.Object,Qn=function(e){return m6(v6(e))},y6=Qe,b6=Qn,w6=y6({}.hasOwnProperty),vn=Object.hasOwn||function(n,t){return w6(b6(n),t)},_6=Qe,S6=0,C6=Math.random(),R6=_6(1 .toString),Rd=function(e){return"Symbol("+(e===void 0?"":e)+")_"+R6(++S6+C6,36)},O6=We,E6=_c.exports,LM=vn,T6=Rd,HM=cw,FM=IM,ul=E6("wks"),Fa=O6.Symbol,BM=Fa&&Fa.for,k6=FM?Fa:Fa&&Fa.withoutSetter||T6,Bt=function(e){if(!LM(ul,e)||!(HM||typeof ul[e]=="string")){var n="Symbol."+e;HM&&LM(Fa,e)?ul[e]=Fa[e]:FM&&BM?ul[e]=BM(n):ul[e]=k6(n)}return ul[e]},A6=We,M6=En,VM=nn,WM=Sd,x6=Ha,P6=c6,I6=Bt,$6=A6.TypeError,D6=I6("toPrimitive"),jM=function(e,n){if(!VM(e)||WM(e))return e;var t=x6(e,D6),r;if(t){if(n===void 0&&(n="default"),r=M6(t,e,n),!VM(r)||WM(r))return r;throw $6("Can't convert object to primitive value")}return n===void 0&&(n="number"),P6(e,n)},N6=jM,L6=Sd,Od=function(e){var n=N6(e,"string");return L6(n)?n:n+""},H6=We,UM=nn,vw=H6.document,F6=UM(vw)&&UM(vw.createElement),Ed=function(e){return F6?vw.createElement(e):{}},B6=pn,V6=lt,W6=Ed,zM=!B6&&!V6(function(){return Object.defineProperty(W6("div"),"a",{get:function(){return 7}}).a!=7}),j6=pn,U6=En,z6=mc,Y6=yc,G6=ar,K6=Od,X6=vn,q6=zM,YM=Object.getOwnPropertyDescriptor;si.f=j6?YM:function(n,t){if(n=G6(n),t=K6(t),q6)try{return YM(n,t)}catch{}if(X6(n,t))return Y6(!U6(z6.f,n,t),n[t])};var Tn={},Z6=pn,Q6=lt,GM=Z6&&Q6(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),KM=We,J6=nn,e7=KM.String,t7=KM.TypeError,rn=function(e){if(J6(e))return e;throw t7(e7(e)+" is not an object")},n7=We,r7=pn,i7=zM,o7=GM,Td=rn,XM=Od,a7=n7.TypeError,mw=Object.defineProperty,s7=Object.getOwnPropertyDescriptor,yw="enumerable",bw="configurable",ww="writable";Tn.f=r7?o7?function(n,t,r){if(Td(n),t=XM(t),Td(r),typeof n=="function"&&t==="prototype"&&"value"in r&&ww in r&&!r[ww]){var i=s7(n,t);i&&i[ww]&&(n[t]=r.value,r={configurable:bw in r?r[bw]:i[bw],enumerable:yw in r?r[yw]:i[yw],writable:!1})}return mw(n,t,r)}:mw:function(n,t,r){if(Td(n),t=XM(t),Td(r),i7)try{return mw(n,t,r)}catch{}if("get"in r||"set"in r)throw a7("Accessors not supported");return"value"in r&&(n[t]=r.value),n};var l7=pn,u7=Tn,c7=yc,Bo=l7?function(e,n,t){return u7.f(e,n,c7(1,t))}:function(e,n,t){return e[n]=t,e},Rr={exports:{}},f7=Qe,h7=Ut,_w=pw,d7=f7(Function.toString);h7(_w.inspectSource)||(_w.inspectSource=function(e){return d7(e)});var Sw=_w.inspectSource,g7=We,p7=Ut,v7=Sw,qM=g7.WeakMap,ZM=p7(qM)&&/native code/.test(v7(qM)),m7=_c.exports,y7=Rd,QM=m7("keys"),kd=function(e){return QM[e]||(QM[e]=y7(e))},Sc={},b7=ZM,JM=We,Cw=Qe,w7=nn,_7=Bo,Rw=vn,Ow=pw,S7=kd,C7=Sc,ex="Object already initialized",Ew=JM.TypeError,R7=JM.WeakMap,Ad,Cc,Md,O7=function(e){return Md(e)?Cc(e):Ad(e,{})},E7=function(e){return function(n){var t;if(!w7(n)||(t=Cc(n)).type!==e)throw Ew("Incompatible receiver, "+e+" required");return t}};if(b7||Ow.state){var Ba=Ow.state||(Ow.state=new R7),T7=Cw(Ba.get),tx=Cw(Ba.has),k7=Cw(Ba.set);Ad=function(e,n){if(tx(Ba,e))throw new Ew(ex);return n.facade=e,k7(Ba,e,n),n},Cc=function(e){return T7(Ba,e)||{}},Md=function(e){return tx(Ba,e)}}else{var cl=S7("state");C7[cl]=!0,Ad=function(e,n){if(Rw(e,cl))throw new Ew(ex);return n.facade=e,_7(e,cl,n),n},Cc=function(e){return Rw(e,cl)?e[cl]:{}},Md=function(e){return Rw(e,cl)}}var Hi={set:Ad,get:Cc,has:Md,enforce:O7,getterFor:E7},Tw=pn,A7=vn,nx=Function.prototype,M7=Tw&&Object.getOwnPropertyDescriptor,kw=A7(nx,"name"),x7=kw&&function(){}.name==="something",P7=kw&&(!Tw||Tw&&M7(nx,"name").configurable),Rc={EXISTS:kw,PROPER:x7,CONFIGURABLE:P7},I7=We,rx=Ut,$7=vn,ix=Bo,D7=gw,N7=Sw,ox=Hi,L7=Rc.CONFIGURABLE,H7=ox.get,F7=ox.enforce,B7=String(String).split("String");(Rr.exports=function(e,n,t,r){var i=r?!!r.unsafe:!1,o=r?!!r.enumerable:!1,a=r?!!r.noTargetGet:!1,s=r&&r.name!==void 0?r.name:n,l;if(rx(t)&&(String(s).slice(0,7)==="Symbol("&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!$7(t,"name")||L7&&t.name!==s)&&ix(t,"name",s),l=F7(t),l.source||(l.source=B7.join(typeof s=="string"?s:""))),e===I7){o?e[n]=t:D7(n,t);return}else i?!a&&e[n]&&(o=!0):delete e[n];o?e[n]=t:ix(e,n,t)})(Function.prototype,"toString",function(){return rx(this)&&H7(this).source||N7(this)});var Va={},V7=Math.ceil,W7=Math.floor,Vo=function(e){var n=+e;return n!==n||n===0?0:(n>0?W7:V7)(n)},j7=Vo,U7=Math.max,z7=Math.min,Oc=function(e,n){var t=j7(e);return t<0?U7(t+n,0):z7(t,n)},Y7=Vo,G7=Math.min,Wa=function(e){return e>0?G7(Y7(e),9007199254740991):0},K7=Wa,Or=function(e){return K7(e.length)},X7=ar,q7=Oc,Z7=Or,ax=function(e){return function(n,t,r){var i=X7(n),o=Z7(i),a=q7(r,o),s;if(e&&t!=t){for(;o>a;)if(s=i[a++],s!=s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===t)return e||a||0;return!e&&-1}},Aw={includes:ax(!0),indexOf:ax(!1)},Q7=Qe,Mw=vn,J7=ar,eK=Aw.indexOf,tK=Sc,sx=Q7([].push),lx=function(e,n){var t=J7(e),r=0,i=[],o;for(o in t)!Mw(tK,o)&&Mw(t,o)&&sx(i,o);for(;n.length>r;)Mw(t,o=n[r++])&&(~eK(i,o)||sx(i,o));return i},xw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nK=lx,rK=xw,iK=rK.concat("length","prototype");Va.f=Object.getOwnPropertyNames||function(n){return nK(n,iK)};var xd={};xd.f=Object.getOwnPropertySymbols;var oK=Ho,aK=Qe,sK=Va,lK=xd,uK=rn,cK=aK([].concat),ux=oK("Reflect","ownKeys")||function(n){var t=sK.f(uK(n)),r=lK.f;return r?cK(t,r(n)):t},cx=vn,fK=ux,hK=si,dK=Tn,fx=function(e,n,t){for(var r=fK(n),i=dK.f,o=hK.f,a=0;a<r.length;a++){var s=r[a];!cx(e,s)&&!(t&&cx(t,s))&&i(e,s,o(n,s))}},gK=lt,pK=Ut,vK=/#|\.prototype\./,Ec=function(e,n){var t=yK[mK(e)];return t==wK?!0:t==bK?!1:pK(n)?gK(n):!!n},mK=Ec.normalize=function(e){return String(e).replace(vK,".").toLowerCase()},yK=Ec.data={},bK=Ec.NATIVE="N",wK=Ec.POLYFILL="P",Pd=Ec,Pw=We,_K=si.f,SK=Bo,CK=Rr.exports,RK=gw,OK=fx,EK=Pd,et=function(e,n){var t=e.target,r=e.global,i=e.stat,o,a,s,l,u,c;if(r?a=Pw:i?a=Pw[t]||RK(t,{}):a=(Pw[t]||{}).prototype,a)for(s in n){if(u=n[s],e.noTargetGet?(c=_K(a,s),l=c&&c.value):l=a[s],o=EK(r?s:t+(i?".":"#")+s,e.forced),!o&&l!==void 0){if(typeof u==typeof l)continue;OK(u,l)}(e.sham||l&&l.sham)&&SK(u,"sham",!0),CK(a,s,u,e)}},Id={},TK=Od,kK=Tn,AK=yc,fl=function(e,n,t){var r=TK(n);r in e?kK.f(e,r,AK(0,t)):e[r]=t},MK=We,hx=Oc,xK=Or,PK=fl,IK=MK.Array,$K=Math.max,Iw=function(e,n,t){for(var r=xK(e),i=hx(n,r),o=hx(t===void 0?r:t,r),a=IK($K(o-i,0)),s=0;i<o;i++,s++)PK(a,s,e[i]);return a.length=s,a},DK=Lo,NK=ar,dx=Va.f,LK=Iw,gx=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],HK=function(e){try{return dx(e)}catch{return LK(gx)}};Id.f=function(n){return gx&&DK(n)=="Window"?HK(n):dx(NK(n))};var FK=et,BK=lt,VK=Id.f,WK=BK(function(){return!Object.getOwnPropertyNames(1)});FK({target:"Object",stat:!0,forced:WK},{getOwnPropertyNames:VK});var jK=Bt,UK=jK("toStringTag"),px={};px[UK]="z";var $w=String(px)==="[object z]",zK=We,YK=$w,GK=Ut,$d=Lo,KK=Bt,XK=KK("toStringTag"),qK=zK.Object,ZK=$d(function(){return arguments}())=="Arguments",QK=function(e,n){try{return e[n]}catch{}},Dd=YK?$d:function(e){var n,t,r;return e===void 0?"Undefined":e===null?"Null":typeof(t=QK(n=qK(e),XK))=="string"?t:ZK?$d(n):(r=$d(n))=="Object"&&GK(n.callee)?"Arguments":r},JK=We,e9=Dd,t9=JK.String,mn=function(e){if(e9(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return t9(e)},vx=Iw,n9=Math.floor,Dw=function(e,n){var t=e.length,r=n9(t/2);return t<8?r9(e,n):i9(e,Dw(vx(e,0,r),n),Dw(vx(e,r),n),n)},r9=function(e,n){for(var t=e.length,r=1,i,o;r<t;){for(o=r,i=e[r];o&&n(e[o-1],i)>0;)e[o]=e[--o];o!==r++&&(e[o]=i)}return e},i9=function(e,n,t,r){for(var i=n.length,o=t.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(n[a],t[s])<=0?n[a++]:t[s++]:a<i?n[a++]:t[s++];return e},o9=Dw,a9=lt,hl=function(e,n){var t=[][e];return!!t&&a9(function(){t.call(null,n||function(){throw 1},1)})},s9=La,mx=s9.match(/firefox\/(\d+)/i),l9=!!mx&&+mx[1],u9=La,c9=/MSIE|Trident/.test(u9),f9=La,yx=f9.match(/AppleWebKit\/(\d+)\./),h9=!!yx&&+yx[1],d9=et,bx=Qe,g9=ll,p9=Qn,v9=Or,wx=mn,Nw=lt,m9=o9,y9=hl,_x=l9,b9=c9,Sx=wc,Cx=h9,Wo=[],Rx=bx(Wo.sort),w9=bx(Wo.push),_9=Nw(function(){Wo.sort(void 0)}),S9=Nw(function(){Wo.sort(null)}),C9=y9("sort"),Ox=!Nw(function(){if(Sx)return Sx<70;if(!(_x&&_x>3)){if(b9)return!0;if(Cx)return Cx<603;var e="",n,t,r,i;for(n=65;n<76;n++){switch(t=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)Wo.push({k:t+i,v:r})}for(Wo.sort(function(o,a){return a.v-o.v}),i=0;i<Wo.length;i++)t=Wo[i].k.charAt(0),e.charAt(e.length-1)!==t&&(e+=t);return e!=="DGBEFHACIJK"}}),R9=_9||!S9||!C9||!Ox,O9=function(e){return function(n,t){return t===void 0?-1:n===void 0?1:e!==void 0?+e(n,t)||0:wx(n)>wx(t)?1:-1}};d9({target:"Array",proto:!0,forced:R9},{sort:function(n){n!==void 0&&g9(n);var t=p9(this);if(Ox)return n===void 0?Rx(t):Rx(t,n);var r=[],i=v9(t),o,a;for(a=0;a<i;a++)a in t&&w9(r,t[a]);for(m9(r,O9(n)),o=r.length,a=0;a<o;)t[a]=r[a++];for(;a<i;)delete t[a++];return t}});var E9=Lo,Tc=Array.isArray||function(n){return E9(n)=="Array"},T9=Qe,k9=lt,Ex=Ut,A9=Dd,M9=Ho,x9=Sw,Tx=function(){},P9=[],kx=M9("Reflect","construct"),Lw=/^\s*(?:class|function)\b/,I9=T9(Lw.exec),$9=!Lw.exec(Tx),kc=function(n){if(!Ex(n))return!1;try{return kx(Tx,P9,n),!0}catch{return!1}},Ax=function(n){if(!Ex(n))return!1;switch(A9(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $9||!!I9(Lw,x9(n))}catch{return!0}};Ax.sham=!0;var Nd=!kx||k9(function(){var e;return kc(kc.call)||!kc(Object)||!kc(function(){e=!0})||e})?Ax:kc,D9=We,Mx=Tc,N9=Nd,L9=nn,H9=Bt,F9=H9("species"),xx=D9.Array,B9=function(e){var n;return Mx(e)&&(n=e.constructor,N9(n)&&(n===xx||Mx(n.prototype))?n=void 0:L9(n)&&(n=n[F9],n===null&&(n=void 0))),n===void 0?xx:n},V9=B9,Hw=function(e,n){return new(V9(e))(n===0?0:n)},W9=lt,j9=Bt,U9=wc,z9=j9("species"),Ac=function(e){return U9>=51||!W9(function(){var n=[],t=n.constructor={};return t[z9]=function(){return{foo:1}},n[e](Boolean).foo!==1})},Y9=et,G9=We,K9=Oc,X9=Vo,q9=Or,Z9=Qn,Q9=Hw,J9=fl,eX=Ac,tX=eX("splice"),nX=G9.TypeError,rX=Math.max,iX=Math.min,oX=9007199254740991,aX="Maximum allowed length exceeded";Y9({target:"Array",proto:!0,forced:!tX},{splice:function(n,t){var r=Z9(this),i=q9(r),o=K9(n,i),a=arguments.length,s,l,u,c,f,h;if(a===0?s=l=0:a===1?(s=0,l=i-o):(s=a-2,l=iX(rX(X9(t),0),i-o)),i+s-l>oX)throw nX(aX);for(u=Q9(r,l),c=0;c<l;c++)f=o+c,f in r&&J9(u,c,r[f]);if(u.length=l,s<l){for(c=o;c<i-l;c++)f=c+l,h=c+s,f in r?r[h]=r[f]:delete r[h];for(c=i;c>i-l+s;c--)delete r[c-1]}else if(s>l)for(c=i-l;c>o;c--)f=c+l-1,h=c+s-1,f in r?r[h]=r[f]:delete r[h];for(c=0;c<s;c++)r[c+o]=arguments[c+2];return r.length=i-l+s,u}});var sX=nn,lX=Math.floor,uX=Number.isInteger||function(n){return!sX(n)&&isFinite(n)&&lX(n)===n},cX=et,fX=uX;cX({target:"Number",stat:!0},{isInteger:fX});var Px=We,hX=Ut,dX=Px.String,gX=Px.TypeError,pX=function(e){if(typeof e=="object"||hX(e))return e;throw gX("Can't set "+dX(e)+" as a prototype")},vX=Qe,mX=rn,yX=pX,Fw=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,n={},t;try{t=vX(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch{}return function(i,o){return mX(i),yX(o),e?t(i,o):i.__proto__=o,i}}():void 0),bX=Ut,wX=nn,Ix=Fw,Bw=function(e,n,t){var r,i;return Ix&&bX(r=n.constructor)&&r!==t&&wX(i=r.prototype)&&i!==t.prototype&&Ix(e,i),e},_X=Qe,$x=_X(1 .valueOf),Dx=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,SX=Qe,CX=Zn,RX=mn,OX=Dx,Nx=SX("".replace),Ld="["+OX+"]",EX=RegExp("^"+Ld+Ld+"*"),TX=RegExp(Ld+Ld+"*$"),Vw=function(e){return function(n){var t=RX(CX(n));return e&1&&(t=Nx(t,EX,"")),e&2&&(t=Nx(t,TX,"")),t}},Lx={start:Vw(1),end:Vw(2),trim:Vw(3)},kX=pn,Ww=We,Hx=Qe,AX=Pd,MX=Rr.exports,Fx=vn,xX=Bw,PX=Fo,IX=Sd,Bx=jM,$X=lt,DX=Va.f,NX=si.f,LX=Tn.f,HX=$x,FX=Lx.trim,jw="Number",jo=Ww[jw],Uw=jo.prototype,BX=Ww.TypeError,VX=Hx("".slice),Hd=Hx("".charCodeAt),WX=function(e){var n=Bx(e,"number");return typeof n=="bigint"?n:jX(n)},jX=function(e){var n=Bx(e,"number"),t,r,i,o,a,s,l,u;if(IX(n))throw BX("Cannot convert a Symbol value to a number");if(typeof n=="string"&&n.length>2){if(n=FX(n),t=Hd(n,0),t===43||t===45){if(r=Hd(n,2),r===88||r===120)return NaN}else if(t===48){switch(Hd(n,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+n}for(a=VX(n,2),s=a.length,l=0;l<s;l++)if(u=Hd(a,l),u<48||u>o)return NaN;return parseInt(a,i)}}return+n};if(AX(jw,!jo(" 0o1")||!jo("0b1")||jo("+0x1"))){for(var dl=function(n){var t=arguments.length<1?0:jo(WX(n)),r=this;return PX(Uw,r)&&$X(function(){HX(r)})?xX(Object(t),r,dl):t},Vx=kX?DX(jo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),zw=0,Fd;Vx.length>zw;zw++)Fx(jo,Fd=Vx[zw])&&!Fx(dl,Fd)&&LX(dl,Fd,NX(jo,Fd));dl.prototype=Uw,Uw.constructor=dl,MX(Ww,jw,dl)}var UX=Qe,Mc=UX([].slice),zX=et,YX=We,Wx=Tc,GX=Nd,KX=nn,jx=Oc,XX=Or,qX=ar,ZX=fl,QX=Bt,JX=Ac,eq=Mc,tq=JX("slice"),nq=QX("species"),Yw=YX.Array,rq=Math.max;zX({target:"Array",proto:!0,forced:!tq},{slice:function(n,t){var r=qX(this),i=XX(r),o=jx(n,i),a=jx(t===void 0?i:t,i),s,l,u;if(Wx(r)&&(s=r.constructor,GX(s)&&(s===Yw||Wx(s.prototype))?s=void 0:KX(s)&&(s=s[nq],s===null&&(s=void 0)),s===Yw||s===void 0))return eq(r,o,a);for(l=new(s===void 0?Yw:s)(rq(a-o,0)),u=0;o<a;o++,u++)o in r&&ZX(l,u,r[o]);return l.length=u,l}});var iq=et,oq=We,aq=lt,sq=Tc,lq=nn,uq=Qn,cq=Or,Ux=fl,fq=Hw,hq=Ac,dq=Bt,gq=wc,zx=dq("isConcatSpreadable"),Yx=9007199254740991,Gx="Maximum allowed index exceeded",Kx=oq.TypeError,pq=gq>=51||!aq(function(){var e=[];return e[zx]=!1,e.concat()[0]!==e}),vq=hq("concat"),mq=function(e){if(!lq(e))return!1;var n=e[zx];return n!==void 0?!!n:sq(e)},yq=!pq||!vq;iq({target:"Array",proto:!0,forced:yq},{concat:function(n){var t=uq(this),r=fq(t,0),i=0,o,a,s,l,u;for(o=-1,s=arguments.length;o<s;o++)if(u=o===-1?t:arguments[o],mq(u)){if(l=cq(u),i+l>Yx)throw Kx(Gx);for(a=0;a<l;a++,i++)a in u&&Ux(r,i,u[a])}else{if(i>=Yx)throw Kx(Gx);Ux(r,i++,u)}return r.length=i,r}});var bq=Qn,Xx=Oc,wq=Or,_q=function(n){for(var t=bq(this),r=wq(t),i=arguments.length,o=Xx(i>1?arguments[1]:void 0,r),a=i>2?arguments[2]:void 0,s=a===void 0?r:Xx(a,r);s>o;)t[o++]=n;return t},Gw={},Sq=lx,Cq=xw,xc=Object.keys||function(n){return Sq(n,Cq)},Rq=pn,Oq=GM,Eq=Tn,Tq=rn,kq=ar,Aq=xc;Gw.f=Rq&&!Oq?Object.defineProperties:function(n,t){Tq(n);for(var r=kq(t),i=Aq(t),o=i.length,a=0,s;o>a;)Eq.f(n,s=i[a++],r[s]);return n};var Mq=Ho,qx=Mq("document","documentElement"),xq=rn,Pq=Gw,Zx=xw,Iq=Sc,$q=qx,Dq=Ed,Nq=kd,Qx=">",Jx="<",Kw="prototype",Xw="script",eP=Nq("IE_PROTO"),qw=function(){},tP=function(e){return Jx+Xw+Qx+e+Jx+"/"+Xw+Qx},nP=function(e){e.write(tP("")),e.close();var n=e.parentWindow.Object;return e=null,n},Lq=function(){var e=Dq("iframe"),n="java"+Xw+":",t;return e.style.display="none",$q.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(tP("document.F=Object")),t.close(),t.F},Bd,Vd=function(){try{Bd=new ActiveXObject("htmlfile")}catch{}Vd=typeof document!="undefined"?document.domain&&Bd?nP(Bd):Lq():nP(Bd);for(var e=Zx.length;e--;)delete Vd[Kw][Zx[e]];return Vd()};Iq[eP]=!0;var gl=Object.create||function(n,t){var r;return n!==null?(qw[Kw]=xq(n),r=new qw,qw[Kw]=null,r[eP]=n):r=Vd(),t===void 0?r:Pq.f(r,t)},Hq=Bt,Fq=gl,Bq=Tn,Zw=Hq("unscopables"),Qw=Array.prototype;Qw[Zw]==null&&Bq.f(Qw,Zw,{configurable:!0,value:Fq(null)});var Pc=function(e){Qw[Zw][e]=!0},Vq=et,Wq=_q,jq=Pc;Vq({target:"Array",proto:!0},{fill:Wq});jq("fill");var rP=Qe,Uq=ll,iP=rP(rP.bind),Ic=function(e,n){return Uq(e),n===void 0?e:iP?iP(e,n):function(){return e.apply(n,arguments)}},zq=Ic,Yq=Qe,Gq=bc,Kq=Qn,Xq=Or,qq=Hw,oP=Yq([].push),Uo=function(e){var n=e==1,t=e==2,r=e==3,i=e==4,o=e==6,a=e==7,s=e==5||o;return function(l,u,c,f){for(var h=Kq(l),d=Gq(h),g=zq(u,c),p=Xq(d),v=0,m=f||qq,w=n?m(l,p):t||a?m(l,0):void 0,C,E;p>v;v++)if((s||v in d)&&(C=d[v],E=g(C,v,h),e))if(n)w[v]=E;else if(E)switch(e){case 3:return!0;case 5:return C;case 6:return v;case 2:oP(w,C)}else switch(e){case 4:return!1;case 7:oP(w,C)}return o?-1:r||i?i:w}},ja={forEach:Uo(0),map:Uo(1),filter:Uo(2),some:Uo(3),every:Uo(4),find:Uo(5),findIndex:Uo(6),filterReject:Uo(7)},Zq=et,Qq=ja.map,Jq=Ac,eZ=Jq("map");Zq({target:"Array",proto:!0,forced:!eZ},{map:function(n){return Qq(this,n,arguments.length>1?arguments[1]:void 0)}});var tZ=rn,Jw=function(){var e=tZ(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n},e_=lt,nZ=We,t_=nZ.RegExp,n_=e_(function(){var e=t_("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),rZ=n_||e_(function(){return!t_("a","y").sticky}),iZ=n_||e_(function(){var e=t_("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),r_={BROKEN_CARET:iZ,MISSED_STICKY:rZ,UNSUPPORTED_Y:n_},oZ=lt,aZ=We,sZ=aZ.RegExp,aP=oZ(function(){var e=sZ(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),lZ=lt,uZ=We,cZ=uZ.RegExp,sP=lZ(function(){var e=cZ("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),pl=En,Wd=Qe,fZ=mn,hZ=Jw,dZ=r_,gZ=_c.exports,pZ=gl,vZ=Hi.get,mZ=aP,yZ=sP,bZ=gZ("native-string-replace",String.prototype.replace),jd=RegExp.prototype.exec,i_=jd,wZ=Wd("".charAt),_Z=Wd("".indexOf),SZ=Wd("".replace),o_=Wd("".slice),a_=function(){var e=/a/,n=/b*/g;return pl(jd,e,"a"),pl(jd,n,"a"),e.lastIndex!==0||n.lastIndex!==0}(),lP=dZ.BROKEN_CARET,s_=/()??/.exec("")[1]!==void 0,CZ=a_||s_||lP||mZ||yZ;CZ&&(i_=function(n){var t=this,r=vZ(t),i=fZ(n),o=r.raw,a,s,l,u,c,f,h;if(o)return o.lastIndex=t.lastIndex,a=pl(i_,o,i),t.lastIndex=o.lastIndex,a;var d=r.groups,g=lP&&t.sticky,p=pl(hZ,t),v=t.source,m=0,w=i;if(g&&(p=SZ(p,"y",""),_Z(p,"g")===-1&&(p+="g"),w=o_(i,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&wZ(i,t.lastIndex-1)!==`
`)&&(v="(?: "+v+")",w=" "+w,m++),s=new RegExp("^(?:"+v+")",p)),s_&&(s=new RegExp("^"+v+"$(?!\\s)",p)),a_&&(l=t.lastIndex),u=pl(jd,g?s:t,w),g?u?(u.input=o_(u.input,m),u[0]=o_(u[0],m),u.index=t.lastIndex,t.lastIndex+=u[0].length):t.lastIndex=0:a_&&u&&(t.lastIndex=t.global?u.index+u[0].length:l),s_&&u&&u.length>1&&pl(bZ,u[0],s,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(u[c]=void 0)}),u&&d)for(u.groups=f=pZ(null),c=0;c<d.length;c++)h=d[c],f[h[0]]=u[h[1]];return u});var Ud=i_,RZ=et,uP=Ud;RZ({target:"RegExp",proto:!0,forced:/./.exec!==uP},{exec:uP});var l_=Function.prototype,cP=l_.apply,OZ=l_.bind,fP=l_.call,Ua=typeof Reflect=="object"&&Reflect.apply||(OZ?fP.bind(cP):function(){return fP.apply(cP,arguments)}),hP=Qe,dP=Rr.exports,EZ=Ud,gP=lt,pP=Bt,TZ=Bo,kZ=pP("species"),u_=RegExp.prototype,zd=function(e,n,t,r){var i=pP(e),o=!gP(function(){var u={};return u[i]=function(){return 7},""[e](u)!=7}),a=o&&!gP(function(){var u=!1,c=/a/;return e==="split"&&(c={},c.constructor={},c.constructor[kZ]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return u=!0,null},c[i](""),!u});if(!o||!a||t){var s=hP(/./[i]),l=n(i,""[e],function(u,c,f,h,d){var g=hP(u),p=c.exec;return p===EZ||p===u_.exec?o&&!d?{done:!0,value:s(c,f,h)}:{done:!0,value:g(f,c,h)}:{done:!1}});dP(String.prototype,e,l[0]),dP(u_,i,l[1])}r&&TZ(u_[i],"sham",!0)},c_=Qe,AZ=Vo,MZ=mn,xZ=Zn,PZ=c_("".charAt),vP=c_("".charCodeAt),IZ=c_("".slice),mP=function(e){return function(n,t){var r=MZ(xZ(n)),i=AZ(t),o=r.length,a,s;return i<0||i>=o?e?"":void 0:(a=vP(r,i),a<55296||a>56319||i+1===o||(s=vP(r,i+1))<56320||s>57343?e?PZ(r,i):a:e?IZ(r,i,i+2):(a-55296<<10)+(s-56320)+65536)}},f_={codeAt:mP(!1),charAt:mP(!0)},$Z=f_.charAt,h_=function(e,n,t){return n+(t?$Z(e,n).length:1)},d_=Qe,DZ=Qn,NZ=Math.floor,g_=d_("".charAt),LZ=d_("".replace),p_=d_("".slice),HZ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,FZ=/\$([$&'`]|\d{1,2})/g,BZ=function(e,n,t,r,i,o){var a=t+e.length,s=r.length,l=FZ;return i!==void 0&&(i=DZ(i),l=HZ),LZ(o,l,function(u,c){var f;switch(g_(c,0)){case"$":return"$";case"&":return e;case"`":return p_(n,0,t);case"'":return p_(n,a);case"<":f=i[p_(c,1,-1)];break;default:var h=+c;if(h===0)return u;if(h>s){var d=NZ(h/10);return d===0?u:d<=s?r[d-1]===void 0?g_(c,1):r[d-1]+g_(c,1):u}f=r[h-1]}return f===void 0?"":f})},VZ=We,yP=En,WZ=rn,jZ=Ut,UZ=Lo,zZ=Ud,YZ=VZ.TypeError,Yd=function(e,n){var t=e.exec;if(jZ(t)){var r=yP(t,e,n);return r!==null&&WZ(r),r}if(UZ(e)==="RegExp")return yP(zZ,e,n);throw YZ("RegExp#exec called on incompatible receiver")},GZ=Ua,bP=En,Gd=Qe,KZ=zd,XZ=lt,qZ=rn,ZZ=Ut,QZ=Vo,JZ=Wa,vl=mn,eQ=Zn,tQ=h_,nQ=Ha,rQ=BZ,iQ=Yd,oQ=Bt,v_=oQ("replace"),aQ=Math.max,sQ=Math.min,lQ=Gd([].concat),m_=Gd([].push),wP=Gd("".indexOf),_P=Gd("".slice),uQ=function(e){return e===void 0?e:String(e)},cQ=function(){return"a".replace(/./,"$0")==="$0"}(),SP=function(){return/./[v_]?/./[v_]("a","$0")==="":!1}(),fQ=!XZ(function(){var e=/./;return e.exec=function(){var n=[];return n.groups={a:"7"},n},"".replace(e,"$<a>")!=="7"});KZ("replace",function(e,n,t){var r=SP?"$":"$0";return[function(o,a){var s=eQ(this),l=o==null?void 0:nQ(o,v_);return l?bP(l,o,s,a):bP(n,vl(s),o,a)},function(i,o){var a=qZ(this),s=vl(i);if(typeof o=="string"&&wP(o,r)===-1&&wP(o,"$<")===-1){var l=t(n,a,s,o);if(l.done)return l.value}var u=ZZ(o);u||(o=vl(o));var c=a.global;if(c){var f=a.unicode;a.lastIndex=0}for(var h=[];;){var d=iQ(a,s);if(d===null||(m_(h,d),!c))break;var g=vl(d[0]);g===""&&(a.lastIndex=tQ(s,JZ(a.lastIndex),f))}for(var p="",v=0,m=0;m<h.length;m++){d=h[m];for(var w=vl(d[0]),C=aQ(sQ(QZ(d.index),s.length),0),E=[],k=1;k<d.length;k++)m_(E,uQ(d[k]));var $=d.groups;if(u){var D=lQ([w],E,C,s);$!==void 0&&m_(D,$);var Y=vl(GZ(o,void 0,D))}else Y=rQ(w,s,C,E,$,o);C>=v&&(p+=_P(s,v,C)+Y,v=C+w.length)}return p+_P(s,v)}]},!fQ||!cQ||SP);var hQ=En,CP=rn,dQ=Ha,RP=function(e,n,t){var r,i;CP(e);try{if(r=dQ(e,"return"),!r){if(n==="throw")throw t;return t}r=hQ(r,e)}catch(o){i=!0,r=o}if(n==="throw")throw t;if(i)throw r;return CP(r),t},gQ=rn,pQ=RP,vQ=function(e,n,t,r){try{return r?n(gQ(t)[0],t[1]):n(t)}catch(i){pQ(e,"throw",i)}},$c={},mQ=Bt,yQ=$c,bQ=mQ("iterator"),wQ=Array.prototype,OP=function(e){return e!==void 0&&(yQ.Array===e||wQ[bQ]===e)},_Q=Dd,EP=Ha,SQ=$c,CQ=Bt,RQ=CQ("iterator"),y_=function(e){if(e!=null)return EP(e,RQ)||EP(e,"@@iterator")||SQ[_Q(e)]},OQ=We,EQ=En,TQ=ll,kQ=rn,AQ=Cd,MQ=y_,xQ=OQ.TypeError,TP=function(e,n){var t=arguments.length<2?MQ(e):n;if(TQ(t))return kQ(EQ(t,e));throw xQ(AQ(e)+" is not iterable")},PQ=We,IQ=Ic,$Q=En,DQ=Qn,NQ=vQ,LQ=OP,HQ=Nd,FQ=Or,kP=fl,BQ=TP,VQ=y_,AP=PQ.Array,WQ=function(n){var t=DQ(n),r=HQ(this),i=arguments.length,o=i>1?arguments[1]:void 0,a=o!==void 0;a&&(o=IQ(o,i>2?arguments[2]:void 0));var s=VQ(t),l=0,u,c,f,h,d,g;if(s&&!(this==AP&&LQ(s)))for(h=BQ(t,s),d=h.next,c=r?new this:[];!(f=$Q(d,h)).done;l++)g=a?NQ(h,o,[f.value,l],!0):f.value,kP(c,l,g);else for(u=FQ(t),c=r?new this(u):AP(u);u>l;l++)g=a?o(t[l],l):t[l],kP(c,l,g);return c.length=l,c},jQ=Bt,MP=jQ("iterator"),xP=!1;try{var UQ=0,PP={next:function(){return{done:!!UQ++}},return:function(){xP=!0}};PP[MP]=function(){return this},Array.from(PP,function(){throw 2})}catch{}var IP=function(e,n){if(!n&&!xP)return!1;var t=!1;try{var r={};r[MP]=function(){return{next:function(){return{done:t=!0}}}},e(r)}catch{}return t},zQ=et,YQ=WQ,GQ=IP,KQ=!GQ(function(e){Array.from(e)});zQ({target:"Array",stat:!0,forced:KQ},{from:YQ});var XQ=lt,$P=!XQ(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),qQ=We,ZQ=vn,QQ=Ut,JQ=Qn,eJ=kd,tJ=$P,DP=eJ("IE_PROTO"),b_=qQ.Object,nJ=b_.prototype,Kd=tJ?b_.getPrototypeOf:function(e){var n=JQ(e);if(ZQ(n,DP))return n[DP];var t=n.constructor;return QQ(t)&&n instanceof t?t.prototype:n instanceof b_?nJ:null},rJ=lt,iJ=Ut,NP=Kd,oJ=Rr.exports,aJ=Bt,w_=aJ("iterator"),LP=!1,za,__,S_;[].keys&&(S_=[].keys(),"next"in S_?(__=NP(NP(S_)),__!==Object.prototype&&(za=__)):LP=!0);var sJ=za==null||rJ(function(){var e={};return za[w_].call(e)!==e});sJ&&(za={});iJ(za[w_])||oJ(za,w_,function(){return this});var HP={IteratorPrototype:za,BUGGY_SAFARI_ITERATORS:LP},lJ=Tn.f,uJ=vn,cJ=Bt,FP=cJ("toStringTag"),Xd=function(e,n,t){e&&!t&&(e=e.prototype),e&&!uJ(e,FP)&&lJ(e,FP,{configurable:!0,value:n})},fJ=HP.IteratorPrototype,hJ=gl,dJ=yc,gJ=Xd,pJ=$c,vJ=function(){return this},mJ=function(e,n,t,r){var i=n+" Iterator";return e.prototype=hJ(fJ,{next:dJ(+!r,t)}),gJ(e,i,!1),pJ[i]=vJ,e},yJ=et,bJ=En,BP=Rc,wJ=Ut,_J=mJ,VP=Kd,WP=Fw,SJ=Xd,CJ=Bo,C_=Rr.exports,RJ=Bt,OJ=$c,jP=HP,EJ=BP.PROPER,TJ=BP.CONFIGURABLE,UP=jP.IteratorPrototype,qd=jP.BUGGY_SAFARI_ITERATORS,Dc=RJ("iterator"),zP="keys",Nc="values",YP="entries",kJ=function(){return this},R_=function(e,n,t,r,i,o,a){_J(t,n,r);var s=function(m){if(m===i&&h)return h;if(!qd&&m in c)return c[m];switch(m){case zP:return function(){return new t(this,m)};case Nc:return function(){return new t(this,m)};case YP:return function(){return new t(this,m)}}return function(){return new t(this)}},l=n+" Iterator",u=!1,c=e.prototype,f=c[Dc]||c["@@iterator"]||i&&c[i],h=!qd&&f||s(i),d=n=="Array"&&c.entries||f,g,p,v;if(d&&(g=VP(d.call(new e)),g!==Object.prototype&&g.next&&(VP(g)!==UP&&(WP?WP(g,UP):wJ(g[Dc])||C_(g,Dc,kJ)),SJ(g,l,!0))),EJ&&i==Nc&&f&&f.name!==Nc&&(TJ?CJ(c,"name",Nc):(u=!0,h=function(){return bJ(f,this)})),i)if(p={values:s(Nc),keys:o?h:s(zP),entries:s(YP)},a)for(v in p)(qd||u||!(v in c))&&C_(c,v,p[v]);else yJ({target:n,proto:!0,forced:qd||u},p);return c[Dc]!==h&&C_(c,Dc,h,{name:i}),OJ[n]=h,p},AJ=f_.charAt,MJ=mn,GP=Hi,xJ=R_,KP="String Iterator",PJ=GP.set,IJ=GP.getterFor(KP);xJ(String,"String",function(e){PJ(this,{type:KP,string:MJ(e),index:0})},function(){var n=IJ(this),t=n.string,r=n.index,i;return r>=t.length?{value:void 0,done:!0}:(i=AJ(t,r),n.index+=i.length,{value:i,done:!1})});var $J=et,DJ=Qe,NJ=Aw.indexOf,LJ=hl,O_=DJ([].indexOf),XP=!!O_&&1/O_([1],1,-0)<0,HJ=LJ("indexOf");$J({target:"Array",proto:!0,forced:XP||!HJ},{indexOf:function(n){var t=arguments.length>1?arguments[1]:void 0;return XP?O_(this,n,t)||0:NJ(this,n,t)}});var FJ=et,BJ=Qe,VJ=Tc,WJ=BJ([].reverse),qP=[1,2];FJ({target:"Array",proto:!0,forced:String(qP)===String(qP.reverse())},{reverse:function(){return VJ(this)&&(this.length=this.length),WJ(this)}});var jJ=$w,UJ=Dd,zJ=jJ?{}.toString:function(){return"[object "+UJ(this)+"]"},YJ=$w,GJ=Rr.exports,KJ=zJ;YJ||GJ(Object.prototype,"toString",KJ,{unsafe:!0});var ZP={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},XJ=Ed,E_=XJ("span").classList,QP=E_&&E_.constructor&&E_.constructor.prototype,JP=QP===Object.prototype?void 0:QP,qJ=ja.forEach,ZJ=hl,QJ=ZJ("forEach"),JJ=QJ?[].forEach:function(n){return qJ(this,n,arguments.length>1?arguments[1]:void 0)},eI=We,tI=ZP,eee=JP,T_=JJ,tee=Bo,nI=function(e){if(e&&e.forEach!==T_)try{tee(e,"forEach",T_)}catch{e.forEach=T_}};for(var k_ in tI)tI[k_]&&nI(eI[k_]&&eI[k_].prototype);nI(eee);var nee=et,A_=We,ree=Ua,iee=Ut,oee=La,aee=Mc,see=/MSIE .\./.test(oee),lee=A_.Function,rI=function(e){return function(n,t){var r=arguments.length>2,i=r?aee(arguments,2):void 0;return e(r?function(){ree(iee(n)?n:lee(n),this,i)}:n,t)}};nee({global:!0,bind:!0,forced:see},{setTimeout:rI(A_.setTimeout),setInterval:rI(A_.setInterval)});var uee=La,cee=/(?:ipad|iphone|ipod).*applewebkit/i.test(uee),fee=Lo,hee=We,iI=fee(hee.process)=="process",sr=We,dee=Ua,gee=Ic,oI=Ut,pee=vn,vee=lt,aI=qx,mee=Mc,sI=Ed,yee=cee,bee=iI,M_=sr.setImmediate,x_=sr.clearImmediate,wee=sr.process,P_=sr.Dispatch,_ee=sr.Function,lI=sr.MessageChannel,See=sr.String,I_=0,Lc={},uI="onreadystatechange",Hc,Ya,$_,D_;try{Hc=sr.location}catch{}var N_=function(e){if(pee(Lc,e)){var n=Lc[e];delete Lc[e],n()}},L_=function(e){return function(){N_(e)}},cI=function(e){N_(e.data)},fI=function(e){sr.postMessage(See(e),Hc.protocol+"//"+Hc.host)};(!M_||!x_)&&(M_=function(n){var t=mee(arguments,1);return Lc[++I_]=function(){dee(oI(n)?n:_ee(n),void 0,t)},Ya(I_),I_},x_=function(n){delete Lc[n]},bee?Ya=function(e){wee.nextTick(L_(e))}:P_&&P_.now?Ya=function(e){P_.now(L_(e))}:lI&&!yee?($_=new lI,D_=$_.port2,$_.port1.onmessage=cI,Ya=gee(D_.postMessage,D_)):sr.addEventListener&&oI(sr.postMessage)&&!sr.importScripts&&Hc&&Hc.protocol!=="file:"&&!vee(fI)?(Ya=fI,sr.addEventListener("message",cI,!1)):uI in sI("script")?Ya=function(e){aI.appendChild(sI("script"))[uI]=function(){aI.removeChild(this),N_(e)}}:Ya=function(e){setTimeout(L_(e),0)});var Cee={set:M_,clear:x_},Ree=et,hI=We,dI=Cee,Oee=!hI.setImmediate||!hI.clearImmediate;Ree({global:!0,bind:!0,enumerable:!0,forced:Oee},{setImmediate:dI.set,clearImmediate:dI.clear});var H_={},Eee=Bt;H_.f=Eee;var Tee=We,kee=Tee,gI=kee,Aee=vn,Mee=H_,xee=Tn.f,pI=function(e){var n=gI.Symbol||(gI.Symbol={});Aee(n,e)||xee(n,e,{value:Mee.f(e)})},ml=et,F_=We,Pee=Ho,Iee=Ua,Fc=En,$ee=Qe,yl=pn,Ga=cw,B_=lt,un=vn,Dee=Tc,Nee=Ut,Lee=nn,Hee=Fo,V_=Sd,W_=rn,Fee=Qn,Zd=ar,j_=Od,vI=mn,U_=yc,Bc=gl,mI=xc,Bee=Va,yI=Id,z_=xd,bI=si,wI=Tn,Vee=Gw,_I=mc,Wee=Mc,Qd=Rr.exports,Vc=_c.exports,jee=kd,SI=Sc,CI=Rd,RI=Bt,Uee=H_,zee=pI,Yee=Xd,OI=Hi,Jd=ja.forEach,Jn=jee("hidden"),eg="Symbol",Wc="prototype",EI=RI("toPrimitive"),Gee=OI.set,TI=OI.getterFor(eg),Er=Object[Wc],Fi=F_.Symbol,zo=Fi&&Fi[Wc],kI=F_.TypeError,Y_=F_.QObject,jc=Pee("JSON","stringify"),AI=bI.f,Yo=wI.f,MI=yI.f,Kee=_I.f,xI=$ee([].push),Bi=Vc("symbols"),Uc=Vc("op-symbols"),G_=Vc("string-to-symbol-registry"),K_=Vc("symbol-to-string-registry"),Xee=Vc("wks"),X_=!Y_||!Y_[Wc]||!Y_[Wc].findChild,q_=yl&&B_(function(){return Bc(Yo({},"a",{get:function(){return Yo(this,"a",{value:7}).a}})).a!=7})?function(e,n,t){var r=AI(Er,n);r&&delete Er[n],Yo(e,n,t),r&&e!==Er&&Yo(Er,n,r)}:Yo,Z_=function(e,n){var t=Bi[e]=Bc(zo);return Gee(t,{type:eg,tag:e,description:n}),yl||(t.description=n),t},tg=function(n,t,r){n===Er&&tg(Uc,t,r),W_(n);var i=j_(t);return W_(r),un(Bi,i)?(r.enumerable?(un(n,Jn)&&n[Jn][i]&&(n[Jn][i]=!1),r=Bc(r,{enumerable:U_(0,!1)})):(un(n,Jn)||Yo(n,Jn,U_(1,{})),n[Jn][i]=!0),q_(n,i,r)):Yo(n,i,r)},Q_=function(n,t){W_(n);var r=Zd(t),i=mI(r).concat(eS(r));return Jd(i,function(o){(!yl||Fc(J_,r,o))&&tg(n,o,r[o])}),n},qee=function(n,t){return t===void 0?Bc(n):Q_(Bc(n),t)},J_=function(n){var t=j_(n),r=Fc(Kee,this,t);return this===Er&&un(Bi,t)&&!un(Uc,t)?!1:r||!un(this,t)||!un(Bi,t)||un(this,Jn)&&this[Jn][t]?r:!0},PI=function(n,t){var r=Zd(n),i=j_(t);if(!(r===Er&&un(Bi,i)&&!un(Uc,i))){var o=AI(r,i);return o&&un(Bi,i)&&!(un(r,Jn)&&r[Jn][i])&&(o.enumerable=!0),o}},II=function(n){var t=MI(Zd(n)),r=[];return Jd(t,function(i){!un(Bi,i)&&!un(SI,i)&&xI(r,i)}),r},eS=function(n){var t=n===Er,r=MI(t?Uc:Zd(n)),i=[];return Jd(r,function(o){un(Bi,o)&&(!t||un(Er,o))&&xI(i,Bi[o])}),i};Ga||(Fi=function(){if(Hee(zo,this))throw kI("Symbol is not a constructor");var n=!arguments.length||arguments[0]===void 0?void 0:vI(arguments[0]),t=CI(n),r=function(i){this===Er&&Fc(r,Uc,i),un(this,Jn)&&un(this[Jn],t)&&(this[Jn][t]=!1),q_(this,t,U_(1,i))};return yl&&X_&&q_(Er,t,{configurable:!0,set:r}),Z_(t,n)},zo=Fi[Wc],Qd(zo,"toString",function(){return TI(this).tag}),Qd(Fi,"withoutSetter",function(e){return Z_(CI(e),e)}),_I.f=J_,wI.f=tg,Vee.f=Q_,bI.f=PI,Bee.f=yI.f=II,z_.f=eS,Uee.f=function(e){return Z_(RI(e),e)},yl&&(Yo(zo,"description",{configurable:!0,get:function(){return TI(this).description}}),Qd(Er,"propertyIsEnumerable",J_,{unsafe:!0})));ml({global:!0,wrap:!0,forced:!Ga,sham:!Ga},{Symbol:Fi});Jd(mI(Xee),function(e){zee(e)});ml({target:eg,stat:!0,forced:!Ga},{for:function(e){var n=vI(e);if(un(G_,n))return G_[n];var t=Fi(n);return G_[n]=t,K_[t]=n,t},keyFor:function(n){if(!V_(n))throw kI(n+" is not a symbol");if(un(K_,n))return K_[n]},useSetter:function(){X_=!0},useSimple:function(){X_=!1}});ml({target:"Object",stat:!0,forced:!Ga,sham:!yl},{create:qee,defineProperty:tg,defineProperties:Q_,getOwnPropertyDescriptor:PI});ml({target:"Object",stat:!0,forced:!Ga},{getOwnPropertyNames:II,getOwnPropertySymbols:eS});ml({target:"Object",stat:!0,forced:B_(function(){z_.f(1)})},{getOwnPropertySymbols:function(n){return z_.f(Fee(n))}});if(jc){var Zee=!Ga||B_(function(){var e=Fi();return jc([e])!="[null]"||jc({a:e})!="{}"||jc(Object(e))!="{}"});ml({target:"JSON",stat:!0,forced:Zee},{stringify:function(n,t,r){var i=Wee(arguments),o=t;if(!(!Lee(t)&&n===void 0||V_(n)))return Dee(t)||(t=function(a,s){if(Nee(o)&&(s=Fc(o,this,a,s)),!V_(s))return s}),i[1]=t,Iee(jc,null,i)}})}if(!zo[EI]){var Qee=zo.valueOf;Qd(zo,EI,function(e){return Fc(Qee,this)})}Yee(Fi,eg);SI[Jn]=!0;var Jee=et,ete=pn,tte=We,ng=Qe,nte=vn,rte=Ut,ite=Fo,ote=mn,ate=Tn.f,ste=fx,Vi=tte.Symbol,Ka=Vi&&Vi.prototype;if(ete&&rte(Vi)&&(!("description"in Ka)||Vi().description!==void 0)){var $I={},rg=function(){var n=arguments.length<1||arguments[0]===void 0?void 0:ote(arguments[0]),t=ite(Ka,this)?new Vi(n):n===void 0?Vi():Vi(n);return n===""&&($I[t]=!0),t};ste(rg,Vi),rg.prototype=Ka,Ka.constructor=rg;var lte=String(Vi("test"))=="Symbol(test)",ute=ng(Ka.toString),cte=ng(Ka.valueOf),fte=/^Symbol\((.*)\)[^)]+$/,hte=ng("".replace),dte=ng("".slice);ate(Ka,"description",{configurable:!0,get:function(){var n=cte(this),t=ute(n);if(nte($I,n))return"";var r=lte?dte(t,7,-1):hte(t,fte,"$1");return r===""?void 0:r}}),Jee({global:!0,forced:!0},{Symbol:rg})}var gte=pI;gte("iterator");var pte=ar,tS=Pc,DI=$c,NI=Hi,vte=Tn.f,mte=R_,yte=pn,LI="Array Iterator",bte=NI.set,wte=NI.getterFor(LI),_te=mte(Array,"Array",function(e,n){bte(this,{type:LI,target:pte(e),index:0,kind:n})},function(){var e=wte(this),n=e.target,t=e.kind,r=e.index++;return!n||r>=n.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:r,done:!1}:t=="values"?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}},"values"),HI=DI.Arguments=DI.Array;tS("keys");tS("values");tS("entries");if(yte&&HI.name!=="values")try{vte(HI,"name",{value:"values"})}catch{}var FI=We,BI=ZP,Ste=JP,zc=_te,nS=Bo,VI=Bt,rS=VI("iterator"),WI=VI("toStringTag"),iS=zc.values,jI=function(e,n){if(e){if(e[rS]!==iS)try{nS(e,rS,iS)}catch{e[rS]=iS}if(e[WI]||nS(e,WI,n),BI[n]){for(var t in zc)if(e[t]!==zc[t])try{nS(e,t,zc[t])}catch{e[t]=zc[t]}}}};for(var oS in BI)jI(FI[oS]&&FI[oS].prototype,oS);jI(Ste,"DOMTokenList");var Cte=pn,Rte=Rc.EXISTS,UI=Qe,Ote=Tn.f,zI=Function.prototype,Ete=UI(zI.toString),YI=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Tte=UI(YI.exec),kte="name";Cte&&!Rte&&Ote(zI,kte,{configurable:!0,get:function(){try{return Tte(YI,Ete(this))[1]}catch{return""}}});var Ate=et,Mte=lt,xte=Qn,GI=Kd,Pte=$P,Ite=Mte(function(){GI(1)});Ate({target:"Object",stat:!0,forced:Ite,sham:!Pte},{getPrototypeOf:function(n){return GI(xte(n))}});var $te=et,Dte=Aw.includes,Nte=Pc;$te({target:"Array",proto:!0},{includes:function(n){return Dte(this,n,arguments.length>1?arguments[1]:void 0)}});Nte("includes");var Lte=nn,Hte=Lo,Fte=Bt,Bte=Fte("match"),aS=function(e){var n;return Lte(e)&&((n=e[Bte])!==void 0?!!n:Hte(e)=="RegExp")},Vte=We,Wte=aS,jte=Vte.TypeError,sS=function(e){if(Wte(e))throw jte("The method doesn't accept regular expressions");return e},Ute=Bt,zte=Ute("match"),lS=function(e){var n=/./;try{"/./"[e](n)}catch{try{return n[zte]=!1,"/./"[e](n)}catch{}}return!1},Yte=et,Gte=Qe,Kte=sS,Xte=Zn,KI=mn,qte=lS,Zte=Gte("".indexOf);Yte({target:"String",proto:!0,forced:!qte("includes")},{includes:function(n){return!!~Zte(KI(Xte(this)),KI(Kte(n)),arguments.length>1?arguments[1]:void 0)}});var Qte=et,Jte=ja.filter,ene=Ac,tne=ene("filter");Qte({target:"Array",proto:!0,forced:!tne},{filter:function(n){return Jte(this,n,arguments.length>1?arguments[1]:void 0)}});var nne=We,rne=Nd,ine=Cd,one=nne.TypeError,XI=function(e){if(rne(e))return e;throw one(ine(e)+" is not a constructor")},qI=rn,ane=XI,sne=Bt,lne=sne("species"),une=function(e,n){var t=qI(e).constructor,r;return t===void 0||(r=qI(t)[lne])==null?n:ane(r)},cne=Ua,Yc=En,uS=Qe,fne=zd,hne=aS,dne=rn,ZI=Zn,gne=une,pne=h_,vne=Wa,cS=mn,mne=Ha,QI=Iw,JI=Yd,yne=Ud,bne=r_,wne=lt,bl=bne.UNSUPPORTED_Y,e$=4294967295,_ne=Math.min,t$=[].push,Sne=uS(/./.exec),wl=uS(t$),Gc=uS("".slice),Cne=!wne(function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});fne("split",function(e,n,t){var r;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?r=function(i,o){var a=cS(ZI(this)),s=o===void 0?e$:o>>>0;if(s===0)return[];if(i===void 0)return[a];if(!hne(i))return Yc(n,a,i,s);for(var l=[],u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),c=0,f=new RegExp(i.source,u+"g"),h,d,g;(h=Yc(yne,f,a))&&(d=f.lastIndex,!(d>c&&(wl(l,Gc(a,c,h.index)),h.length>1&&h.index<a.length&&cne(t$,l,QI(h,1)),g=h[0].length,c=d,l.length>=s)));)f.lastIndex===h.index&&f.lastIndex++;return c===a.length?(g||!Sne(f,""))&&wl(l,""):wl(l,Gc(a,c)),l.length>s?QI(l,0,s):l}:"0".split(void 0,0).length?r=function(i,o){return i===void 0&&o===0?[]:Yc(n,this,i,o)}:r=n,[function(o,a){var s=ZI(this),l=o==null?void 0:mne(o,e);return l?Yc(l,o,s,a):Yc(r,cS(s),o,a)},function(i,o){var a=dne(this),s=cS(i),l=t(r,a,s,o,r!==n);if(l.done)return l.value;var u=gne(a,RegExp),c=a.unicode,f=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(bl?"g":"y"),h=new u(bl?"^(?:"+a.source+")":a,f),d=o===void 0?e$:o>>>0;if(d===0)return[];if(s.length===0)return JI(h,s)===null?[s]:[];for(var g=0,p=0,v=[];p<s.length;){h.lastIndex=bl?0:p;var m=JI(h,bl?Gc(s,p):s),w;if(m===null||(w=_ne(vne(h.lastIndex+(bl?p:0)),s.length))===g)p=pne(s,p,c);else{if(wl(v,Gc(s,g,p)),v.length===d)return v;for(var C=1;C<=m.length-1;C++)if(wl(v,m[C]),v.length===d)return v;p=g=w}}return wl(v,Gc(s,g)),v}]},!Cne,bl);var Rne=Ho,One=Tn,Ene=Bt,Tne=pn,n$=Ene("species"),r$=function(e){var n=Rne(e),t=One.f;Tne&&n&&!n[n$]&&t(n,n$,{configurable:!0,get:function(){return this}})},kne=pn,fS=We,_l=Qe,Ane=Pd,Mne=Bw,xne=Bo,Pne=Tn.f,Ine=Va.f,i$=Fo,$ne=aS,o$=mn,Dne=Jw,a$=r_,Nne=Rr.exports,Lne=lt,Hne=vn,Fne=Hi.enforce,Bne=r$,Vne=Bt,s$=aP,l$=sP,Wne=Vne("match"),Wi=fS.RegExp,Sl=Wi.prototype,jne=fS.SyntaxError,Une=_l(Dne),zne=_l(Sl.exec),ig=_l("".charAt),u$=_l("".replace),c$=_l("".indexOf),Yne=_l("".slice),Gne=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Xa=/a/g,hS=/a/g,Kne=new Wi(Xa)!==Xa,f$=a$.MISSED_STICKY,Xne=a$.UNSUPPORTED_Y,qne=kne&&(!Kne||f$||s$||l$||Lne(function(){return hS[Wne]=!1,Wi(Xa)!=Xa||Wi(hS)==hS||Wi(Xa,"i")!="/a/i"})),Zne=function(e){for(var n=e.length,t=0,r="",i=!1,o;t<=n;t++){if(o=ig(e,t),o==="\\"){r+=o+ig(e,++t);continue}!i&&o==="."?r+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),r+=o)}return r},Qne=function(e){for(var n=e.length,t=0,r="",i=[],o={},a=!1,s=!1,l=0,u="",c;t<=n;t++){if(c=ig(e,t),c==="\\")c=c+ig(e,++t);else if(c==="]")a=!1;else if(!a)switch(!0){case c==="[":a=!0;break;case c==="(":zne(Gne,Yne(e,t+1))&&(t+=2,s=!0),r+=c,l++;continue;case(c===">"&&s):if(u===""||Hne(o,u))throw new jne("Invalid capture group name");o[u]=!0,i[i.length]=[u,l],s=!1,u="";continue}s?u+=c:r+=c}return[r,i]};if(Ane("RegExp",qne)){for(var Go=function(n,t){var r=i$(Sl,this),i=$ne(n),o=t===void 0,a=[],s=n,l,u,c,f,h,d;if(!r&&i&&o&&n.constructor===Go)return n;if((i||i$(Sl,n))&&(n=n.source,o&&(t="flags"in s?s.flags:Une(s))),n=n===void 0?"":o$(n),t=t===void 0?"":o$(t),s=n,s$&&"dotAll"in Xa&&(u=!!t&&c$(t,"s")>-1,u&&(t=u$(t,/s/g,""))),l=t,f$&&"sticky"in Xa&&(c=!!t&&c$(t,"y")>-1,c&&Xne&&(t=u$(t,/y/g,""))),l$&&(f=Qne(n),n=f[0],a=f[1]),h=Mne(Wi(n,t),r?this:Sl,Go),(u||c||a.length)&&(d=Fne(h),u&&(d.dotAll=!0,d.raw=Go(Zne(n),l)),c&&(d.sticky=!0),a.length&&(d.groups=a)),n!==s)try{xne(h,"source",s===""?"(?:)":s)}catch{}return h},Jne=function(e){e in Go||Pne(Go,e,{configurable:!0,get:function(){return Wi[e]},set:function(n){Wi[e]=n}})},h$=Ine(Wi),d$=0;h$.length>d$;)Jne(h$[d$++]);Sl.constructor=Go,Go.prototype=Sl,Nne(fS,"RegExp",Go)}Bne("RegExp");var ere=Qe,tre=Rc.PROPER,nre=Rr.exports,rre=rn,ire=Fo,g$=mn,ore=lt,are=Jw,dS="toString",gS=RegExp.prototype,p$=gS[dS],sre=ere(are),lre=ore(function(){return p$.call({source:"a",flags:"b"})!="/a/b"}),ure=tre&&p$.name!=dS;(lre||ure)&&nre(RegExp.prototype,dS,function(){var n=rre(this),t=g$(n.source),r=n.flags,i=g$(r===void 0&&ire(gS,n)&&!("flags"in gS)?sre(n):r);return"/"+t+"/"+i},{unsafe:!0});var cre=et,fre=Qe,hre=bc,dre=ar,gre=hl,pre=fre([].join),vre=hre!=Object,mre=gre("join",",");cre({target:"Array",proto:!0,forced:vre||!mre},{join:function(n){return pre(dre(this),n===void 0?",":n)}});var yre=Rc.PROPER,bre=lt,v$=Dx,m$="\u200B\x85\u180E",wre=function(e){return bre(function(){return!!v$[e]()||m$[e]()!==m$||yre&&v$[e].name!==e})},_re=et,Sre=Lx.trim,Cre=wre;_re({target:"String",proto:!0,forced:Cre("trim")},{trim:function(){return Sre(this)}});function og(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(t){return typeof t}:og=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}var y$=0,ag=["ms","moz","webkit","o"],Kc=window.requestAnimationFrame,sg=window.cancelAnimationFrame;for(var Xc=0;Xc<ag.length&&!Kc;++Xc)Kc=window["".concat(ag[Xc],"RequestAnimationFrame")],sg=window["".concat(ag[Xc],"CancelAnimationFrame")]||window["".concat(ag[Xc],"CancelRequestAnimationFrame")];Kc||(Kc=function(n){var t=new Date().getTime(),r=Math.max(0,16-(t-y$)),i=window.setTimeout(function(){n(t+r)},r);return y$=t+r,i});sg||(sg=function(n){clearTimeout(n)});function pS(e){return Kc.call(window,e)}function b$(){return!!document.documentElement.classList}function w$(){return!!document.createTextNode("test").textContent}function _$(){return!!window.getComputedStyle}function qc(e){sg.call(window,e)}function vS(){return"ontouchstart"in window}var mS;function Rre(){var e=document.createElement("TABLE");e.style.borderSpacing="0",e.style.borderWidth="0",e.style.padding="0";var n=document.createElement("TBODY");e.appendChild(n),n.appendChild(document.createElement("TR")),n.firstChild.appendChild(document.createElement("TD")),n.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var t=document.createElement("CAPTION");t.innerHTML="c<br>c<br>c<br>c",t.style.padding="0",t.style.margin="0",e.insertBefore(t,n),document.body.appendChild(e),mS=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}function yS(){return mS===void 0&&Rre(),mS}var Cl;function S$(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Cl||((typeof Intl=="undefined"?"undefined":og(Intl))==="object"?Cl=new Intl.Collator(e,n).compare:typeof String.prototype.localeCompare=="function"?Cl=function(r,i){return"".concat(r).localeCompare(i)}:Cl=function(r,i){return r===i?0:r>i?-1:1},Cl)}var Zc;function C$(){if(Zc!==void 0)return Zc;try{var e={get passive(){Zc=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{Zc=!1}return Zc}var Ore=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",requestAnimationFrame:pS,isClassListSupported:b$,isTextContentSupported:w$,isGetComputedStyleSupported:_$,cancelAnimationFrame:qc,isTouchSupported:vS,hasCaptionProblem:yS,getComparisonFunction:S$,isPassiveEventSupported:C$}),Rl={exports:{}},Ere=lt,Tre=Ere(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),kre=lt,Are=nn,Mre=Lo,R$=Tre,lg=Object.isExtensible,xre=kre(function(){lg(1)}),O$=xre||R$?function(n){return!Are(n)||R$&&Mre(n)=="ArrayBuffer"?!1:lg?lg(n):!0}:lg,Pre=lt,E$=!Pre(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ire=et,$re=Qe,Dre=Sc,Nre=nn,bS=vn,Lre=Tn.f,T$=Va,Hre=Id,wS=O$,Fre=Rd,Bre=E$,k$=!1,ji=Fre("meta"),Vre=0,_S=function(e){Lre(e,ji,{value:{objectID:"O"+Vre++,weakData:{}}})},Wre=function(e,n){if(!Nre(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!bS(e,ji)){if(!wS(e))return"F";if(!n)return"E";_S(e)}return e[ji].objectID},jre=function(e,n){if(!bS(e,ji)){if(!wS(e))return!0;if(!n)return!1;_S(e)}return e[ji].weakData},Ure=function(e){return Bre&&k$&&wS(e)&&!bS(e,ji)&&_S(e),e},zre=function(){Yre.enable=function(){},k$=!0;var e=T$.f,n=$re([].splice),t={};t[ji]=1,e(t).length&&(T$.f=function(r){for(var i=e(r),o=0,a=i.length;o<a;o++)if(i[o]===ji){n(i,o,1);break}return i},Ire({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Hre.f}))},Yre=Rl.exports={enable:zre,fastKey:Wre,getWeakData:jre,onFreeze:Ure};Dre[ji]=!0;var Gre=We,Kre=Ic,Xre=En,qre=rn,Zre=Cd,Qre=OP,Jre=Or,A$=Fo,eie=TP,tie=y_,M$=RP,nie=Gre.TypeError,ug=function(e,n){this.stopped=e,this.result=n},x$=ug.prototype,SS=function(e,n,t){var r=t&&t.that,i=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_ITERATOR),a=!!(t&&t.INTERRUPTED),s=Kre(n,r),l,u,c,f,h,d,g,p=function(m){return l&&M$(l,"normal",m),new ug(!0,m)},v=function(m){return i?(qre(m),a?s(m[0],m[1],p):s(m[0],m[1])):a?s(m,p):s(m)};if(o)l=e;else{if(u=tie(e),!u)throw nie(Zre(e)+" is not iterable");if(Qre(u)){for(c=0,f=Jre(e);f>c;c++)if(h=v(e[c]),h&&A$(x$,h))return h;return new ug(!1)}l=eie(e,u)}for(d=l.next;!(g=Xre(d,l)).done;){try{h=v(g.value)}catch(m){M$(l,"throw",m)}if(typeof h=="object"&&h&&A$(x$,h))return h}return new ug(!1)},rie=We,iie=Fo,oie=rie.TypeError,CS=function(e,n){if(iie(n,e))return e;throw oie("Incorrect invocation")},aie=et,sie=We,lie=Qe,P$=Pd,uie=Rr.exports,cie=Rl.exports,fie=SS,hie=CS,die=Ut,RS=nn,OS=lt,gie=IP,pie=Xd,vie=Bw,cg=function(e,n,t){var r=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=r?"set":"add",a=sie[e],s=a&&a.prototype,l=a,u={},c=function(m){var w=lie(s[m]);uie(s,m,m=="add"?function(E){return w(this,E===0?0:E),this}:m=="delete"?function(C){return i&&!RS(C)?!1:w(this,C===0?0:C)}:m=="get"?function(E){return i&&!RS(E)?void 0:w(this,E===0?0:E)}:m=="has"?function(E){return i&&!RS(E)?!1:w(this,E===0?0:E)}:function(E,k){return w(this,E===0?0:E,k),this})},f=P$(e,!die(a)||!(i||s.forEach&&!OS(function(){new a().entries().next()})));if(f)l=t.getConstructor(n,e,r,o),cie.enable();else if(P$(e,!0)){var h=new l,d=h[o](i?{}:-0,1)!=h,g=OS(function(){h.has(1)}),p=gie(function(m){new a(m)}),v=!i&&OS(function(){for(var m=new a,w=5;w--;)m[o](w,w);return!m.has(-0)});p||(l=n(function(m,w){hie(m,s);var C=vie(new a,m,l);return w!=null&&fie(w,C[o],{that:C,AS_ENTRIES:r}),C}),l.prototype=s,s.constructor=l),(g||v)&&(c("delete"),c("has"),r&&c("get")),(v||d)&&c(o),i&&s.clear&&delete s.clear}return u[e]=l,aie({global:!0,forced:l!=a},u),pie(l,e),i||t.setStrong(l,e,r),l},mie=Rr.exports,ES=function(e,n,t){for(var r in n)mie(e,r,n[r],t);return e},yie=Tn.f,bie=gl,I$=ES,wie=Ic,_ie=CS,Sie=SS,Cie=R_,Rie=r$,Qc=pn,$$=Rl.exports.fastKey,D$=Hi,N$=D$.set,TS=D$.getterFor,L$={getConstructor:function(e,n,t,r){var i=e(function(u,c){_ie(u,o),N$(u,{type:n,index:bie(null),first:void 0,last:void 0,size:0}),Qc||(u.size=0),c!=null&&Sie(c,u[r],{that:u,AS_ENTRIES:t})}),o=i.prototype,a=TS(n),s=function(u,c,f){var h=a(u),d=l(u,c),g,p;return d?d.value=f:(h.last=d={index:p=$$(c,!0),key:c,value:f,previous:g=h.last,next:void 0,removed:!1},h.first||(h.first=d),g&&(g.next=d),Qc?h.size++:u.size++,p!=="F"&&(h.index[p]=d)),u},l=function(u,c){var f=a(u),h=$$(c),d;if(h!=="F")return f.index[h];for(d=f.first;d;d=d.next)if(d.key==c)return d};return I$(o,{clear:function(){for(var c=this,f=a(c),h=f.index,d=f.first;d;)d.removed=!0,d.previous&&(d.previous=d.previous.next=void 0),delete h[d.index],d=d.next;f.first=f.last=void 0,Qc?f.size=0:c.size=0},delete:function(u){var c=this,f=a(c),h=l(c,u);if(h){var d=h.next,g=h.previous;delete f.index[h.index],h.removed=!0,g&&(g.next=d),d&&(d.previous=g),f.first==h&&(f.first=d),f.last==h&&(f.last=g),Qc?f.size--:c.size--}return!!h},forEach:function(c){for(var f=a(this),h=wie(c,arguments.length>1?arguments[1]:void 0),d;d=d?d.next:f.first;)for(h(d.value,d.key,this);d&&d.removed;)d=d.previous},has:function(c){return!!l(this,c)}}),I$(o,t?{get:function(c){var f=l(this,c);return f&&f.value},set:function(c,f){return s(this,c===0?0:c,f)}}:{add:function(c){return s(this,c=c===0?0:c,c)}}),Qc&&yie(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(e,n,t){var r=n+" Iterator",i=TS(n),o=TS(r);Cie(e,n,function(a,s){N$(this,{type:r,target:a,state:i(a),kind:s,last:void 0})},function(){for(var a=o(this),s=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},t?"entries":"values",!t,!0),Rie(n)}},Oie=cg,Eie=L$;Oie("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Eie);function H$(e){for(var n=e.length,t=0;t<n;)e[t]=[e[t]],t+=1}function kS(e,n){for(var t=n.length,r=0;r<t;)e.push(n[r]),r+=1}function Jc(e){var n=[];if(!e||e.length===0||!e[0]||e[0].length===0)return n;for(var t=e.length,r=e[0].length,i=0;i<t;i++)for(var o=0;o<r;o++)n[o]||(n[o]=[]),n[o][i]=e[i][o];return n}function Qt(e,n,t,r){var i=-1,o=e,a=t;Array.isArray(e)||(o=Array.from(e));var s=o.length;for(r&&s&&(i+=1,a=o[i]),i+=1;i<s;)a=n(a,o[i],i,o),i+=1;return a}function lr(e,n){var t=0,r=e;Array.isArray(e)||(r=Array.from(e));for(var i=r.length,o=[],a=-1;t<i;){var s=r[t];n(s,t,r)&&(a+=1,o[a]=s),t+=1}return o}function it(e,n){var t=0,r=e;Array.isArray(e)||(r=Array.from(e));for(var i=r.length,o=[],a=-1;t<i;){var s=r[t];a+=1,o[a]=n(s,t,r),t+=1}return o}function B(e,n){var t=0,r=e;Array.isArray(e)||(r=Array.from(e));for(var i=r.length;t<i&&n(r[t],t,r)!==!1;)t+=1;return e}function F$(e){return Qt(e,function(n,t){return n+t},0)}function Tie(e){return Qt(e,function(n,t){return n>t?n:t},Array.isArray(e)?e[0]:void 0)}function kie(e){return Qt(e,function(n,t){return n<t?n:t},Array.isArray(e)?e[0]:void 0)}function Aie(e){return e.length?F$(e)/e.length:0}function B$(e){return Qt(e,function(n,t){return n.concat(Array.isArray(t)?B$(t):t)},[])}function AS(e){var n=[];return B(e,function(t){n.indexOf(t)===-1&&n.push(t)}),n}function MS(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=[].concat(n),i=r[0],o=r.slice(1),a=i;return B(o,function(s){a=a.filter(function(l){return!s.includes(l)})}),a}function Mie(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=[].concat(n),i=r[0],o=r.slice(1),a=i;return B(o,function(s){a=a.filter(function(l){return s.includes(l)})}),a}function xie(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=[].concat(n),i=r[0],o=r.slice(1),a=new Set(i);return B(o,function(s){B(s,function(l){a.has(l)||a.add(l)})}),Array.from(a)}function xS(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return e.split(n)}var Pie=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",to2dArray:H$,extendArray:kS,pivot:Jc,arrayReduce:Qt,arrayFilter:lr,arrayMap:it,arrayEach:B,arraySum:F$,arrayMax:Tie,arrayMin:kie,arrayAvg:Aie,arrayFlatten:B$,arrayUnique:AS,getDifferenceOfArrays:MS,getIntersectionOfArrays:Mie,getUnionOfArrays:xie,stringToArray:xS});function V$(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function Ol(e){var n;return Array.isArray(e)?n=[]:(n={},st(e,function(t,r){r!=="__children"&&(t&&qa(t)==="object"&&!Array.isArray(t)?n[r]=Ol(t):Array.isArray(t)?t.length&&qa(t[0])==="object"&&!Array.isArray(t[0])?n[r]=[Ol(t[0])]:n[r]=[]:n[r]=null)})),n}function Ui(e,n){return n.prototype.constructor=n,e.prototype=new n,e.prototype.constructor=e,e}function Vt(e,n,t){var r=Array.isArray(t);return st(n,function(i,o){(r===!1||t.includes(o))&&(e[o]=i)}),e}function ef(e,n){st(n,function(t,r){n[r]&&qa(n[r])==="object"?(e[r]||(Array.isArray(n[r])?e[r]=[]:Object.prototype.toString.call(n[r])==="[object Date]"?e[r]=n[r]:e[r]={}),ef(e[r],n[r])):e[r]=n[r]})}function Bn(e){return qa(e)==="object"?JSON.parse(JSON.stringify(e)):e}function $n(e){var n={};return st(e,function(t,r){n[r]=t}),n}function Ot(e){e.MIXINS||(e.MIXINS=[]);for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return B(t,function(i){e.MIXINS.push(i.MIXIN_NAME),st(i,function(o,a){if(e.prototype[a]!==void 0)throw new Error("Mixin conflict. Property '".concat(a,"' already exist and cannot be overwritten."));if(typeof o=="function")e.prototype[a]=o;else{var s=function(c,f){var h="_".concat(c),d=function(p){var v=p;return(Array.isArray(v)||rt(v))&&(v=Bn(v)),v};return function(){return this[h]===void 0&&(this[h]=d(f)),this[h]}},l=function(c){var f="_".concat(c);return function(h){this[f]=h}};Object.defineProperty(e.prototype,a,{get:s(a,o),set:l(a),configurable:!0})}})}),e}function PS(e,n){return JSON.stringify(e)===JSON.stringify(n)}function rt(e){return Object.prototype.toString.call(e)==="[object Object]"}function li(e,n,t,r){r.value=t,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(e,n,r)}function st(e,n){for(var t in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,t))&&n(e[t],t,e)===!1)break;return e}function W$(e,n){var t=n.split("."),r=e;return st(t,function(i){if(r=r[i],r===void 0)return r=void 0,!1}),r}function fg(e,n,t){var r=n.split("."),i=e;r.forEach(function(o,a){a!==r.length-1?(kt(i,o)||(i[o]={}),i=i[o]):i[o]=t})}function hg(e){if(!rt(e))return 0;var n=function t(r){var i=0;return rt(r)?st(r,function(o,a){a!=="__children"&&(i+=t(o))}):i+=1,i};return n(e)}function Za(e){var n,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",r="_".concat(t),i=(n={_touched:!1},V$(n,r,e),V$(n,"isTouched",function(){return this._touched}),n);return Object.defineProperty(i,t,{get:function(){return this[r]},set:function(a){this._touched=!0,this[r]=a},enumerable:!0,configurable:!0}),i}function kt(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var Iie=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",duckSchema:Ol,inherit:Ui,extend:Vt,deepExtend:ef,deepClone:Bn,clone:$n,mixin:Ot,isObjectEqual:PS,isObject:rt,defineGetter:li,objectEach:st,getProperty:W$,setProperty:fg,deepObjectSize:hg,createObjectPropListener:Za,hasOwnProperty:kt}),er=function(n){var t={value:!1};return t.test=function(r,i){t.value=n(r,i)},t},ur={chrome:er(function(e,n){return/Chrome/.test(e)&&/Google/.test(n)}),chromeWebKit:er(function(e){return/CriOS/.test(e)}),edge:er(function(e){return/Edge/.test(e)}),edgeWebKit:er(function(e){return/EdgiOS/.test(e)}),firefox:er(function(e){return/Firefox/.test(e)}),firefoxWebKit:er(function(e){return/FxiOS/.test(e)}),ie:er(function(e){return/Trident/.test(e)}),ie9:er(function(){return!!document.documentMode}),mobile:er(function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}),safari:er(function(e,n){return/Safari/.test(e)&&/Apple Computer/.test(n)})},El={mac:er(function(e){return/^Mac/.test(e)}),win:er(function(e){return/^Win/.test(e)}),linux:er(function(e){return/^Linux/.test(e)}),ios:er(function(e){return/iPhone|iPad|iPod/i.test(e)})};function j$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.userAgent,t=n===void 0?navigator.userAgent:n,r=e.vendor,i=r===void 0?navigator.vendor:r;st(ur,function(o){var a=o.test;return void a(t,i)})}function U$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.platform,t=n===void 0?navigator.platform:n;st(El,function(r){var i=r.test;return void i(t)})}j$();U$();function z$(){return ur.chrome.value}function Y$(){return ur.chromeWebKit.value}function dg(){return ur.firefox.value}function G$(){return ur.firefoxWebKit.value}function K$(){return ur.safari.value}function X$(){return ur.edge.value}function $ie(){return ur.edgeWebKit.value}function q$(){return ur.ie.value}function Z$(){return ur.ie9.value}function Die(){return ur.ie.value||ur.edge.value}function Wr(){return ur.mobile.value}function IS(){return El.ios.value}function $S(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator,n=e.maxTouchPoints;return n>2&&El.mac.value}function DS(){return El.win.value}function Q$(){return El.mac.value}function Nie(){return El.linux.value}var Lie=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",setBrowserMeta:j$,setPlatformMeta:U$,isChrome:z$,isChromeWebKit:Y$,isFirefox:dg,isFirefoxWebKit:G$,isSafari:K$,isEdge:X$,isEdgeWebKit:$ie,isIE:q$,isIE9:Z$,isMSBrowser:Die,isMobileBrowser:Wr,isIOS:IS,isIpadOS:$S,isWindowsOS:DS,isMacOS:Q$,isLinuxOS:Nie});/*! @license DOMPurify 2.3.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.4/LICENSE */function Hie(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)}var Fie=Object.hasOwnProperty,J$=Object.setPrototypeOf,Bie=Object.isFrozen,Vie=Object.getPrototypeOf,Wie=Object.getOwnPropertyDescriptor,Vn=Object.freeze,zi=Object.seal,jie=Object.create,eD=typeof Reflect!="undefined"&&Reflect,gg=eD.apply,NS=eD.construct;gg||(gg=function(n,t,r){return n.apply(t,r)});Vn||(Vn=function(n){return n});zi||(zi=function(n){return n});NS||(NS=function(n,t){return new(Function.prototype.bind.apply(n,[null].concat(Hie(t))))});var Uie=jr(Array.prototype.forEach),tD=jr(Array.prototype.pop),tf=jr(Array.prototype.push),pg=jr(String.prototype.toLowerCase),nD=jr(String.prototype.match),Ko=jr(String.prototype.replace),zie=jr(String.prototype.indexOf),Yie=jr(String.prototype.trim),cr=jr(RegExp.prototype.test),rD=Gie(TypeError);function jr(e){return function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return gg(e,n,r)}}function Gie(e){return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return NS(e,t)}}function ut(e,n){J$&&J$(e,null);for(var t=n.length;t--;){var r=n[t];if(typeof r=="string"){var i=pg(r);i!==r&&(Bie(n)||(n[t]=i),r=i)}e[r]=!0}return e}function Qa(e){var n=jie(null),t=void 0;for(t in e)gg(Fie,e,[t])&&(n[t]=e[t]);return n}function vg(e,n){for(;e!==null;){var t=Wie(e,n);if(t){if(t.get)return jr(t.get);if(typeof t.value=="function")return jr(t.value)}e=Vie(e)}function r(i){return console.warn("fallback value for",i),null}return r}var iD=Vn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),LS=Vn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),HS=Vn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Kie=Vn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),FS=Vn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Xie=Vn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oD=Vn(["#text"]),aD=Vn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),BS=Vn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sD=Vn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mg=Vn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qie=zi(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Zie=zi(/<%[\s\S]*|[\s\S]*%>/gm),Qie=zi(/^data-[\-\w.\u00B7-\uFFFF]/),Jie=zi(/^aria-[\-\w]+$/),eoe=zi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),toe=zi(/^(?:\w+script|data):/i),noe=zi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ui(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)}var roe=function(){return typeof window=="undefined"?null:window},ioe=function(n,t){if((typeof n=="undefined"?"undefined":nf(n))!=="object"||typeof n.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(r=t.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return n.createPolicy(o,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function lD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:roe(),n=function(ee){return lD(ee)};if(n.version="2.3.4",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var t=e.document,r=e.document,i=e.DocumentFragment,o=e.HTMLTemplateElement,a=e.Node,s=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,c=u===void 0?e.NamedNodeMap||e.MozNamedAttrMap:u,f=e.HTMLFormElement,h=e.DOMParser,d=e.trustedTypes,g=s.prototype,p=vg(g,"cloneNode"),v=vg(g,"nextSibling"),m=vg(g,"childNodes"),w=vg(g,"parentNode");if(typeof o=="function"){var C=r.createElement("template");C.content&&C.content.ownerDocument&&(r=C.content.ownerDocument)}var E=ioe(d,t),k=E&&Ue?E.createHTML(""):"",$=r,D=$.implementation,Y=$.createNodeIterator,L=$.createDocumentFragment,X=$.getElementsByTagName,te=t.importNode,oe={};try{oe=Qa(r).documentMode?r.documentMode:{}}catch{}var ie={};n.isSupported=typeof w=="function"&&D&&typeof D.createHTMLDocument!="undefined"&&oe!==9;var de=qie,y=Zie,S=Qie,b=Jie,_=toe,A=noe,N=eoe,I=null,R=ut({},[].concat(ui(iD),ui(LS),ui(HS),ui(FS),ui(oD))),P=null,H=ut({},[].concat(ui(aD),ui(BS),ui(sD),ui(mg))),V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,K=null,ce=!0,ue=!0,ge=!1,fe=!1,be=!1,Ee=!1,re=!1,He=!1,Te=!1,Ue=!1,Ge=!0,Me=!0,T=!1,M={},F=null,Q=ut({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),U=null,J=ut({},["audio","video","img","source","image","track"]),z=null,j=ut({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Z="http://www.w3.org/1998/Math/MathML",G="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",pe=ne,Re=!1,xe=void 0,Be=["application/xhtml+xml","text/html"],qe="text/html",Ye=void 0,Ne=null,Ke=r.createElement("form"),yt=function(ee){return ee instanceof RegExp||ee instanceof Function},Gn=function(ee){Ne&&Ne===ee||((!ee||(typeof ee=="undefined"?"undefined":nf(ee))!=="object")&&(ee={}),ee=Qa(ee),I="ALLOWED_TAGS"in ee?ut({},ee.ALLOWED_TAGS):R,P="ALLOWED_ATTR"in ee?ut({},ee.ALLOWED_ATTR):H,z="ADD_URI_SAFE_ATTR"in ee?ut(Qa(j),ee.ADD_URI_SAFE_ATTR):j,U="ADD_DATA_URI_TAGS"in ee?ut(Qa(J),ee.ADD_DATA_URI_TAGS):J,F="FORBID_CONTENTS"in ee?ut({},ee.FORBID_CONTENTS):Q,q="FORBID_TAGS"in ee?ut({},ee.FORBID_TAGS):{},K="FORBID_ATTR"in ee?ut({},ee.FORBID_ATTR):{},M="USE_PROFILES"in ee?ee.USE_PROFILES:!1,ce=ee.ALLOW_ARIA_ATTR!==!1,ue=ee.ALLOW_DATA_ATTR!==!1,ge=ee.ALLOW_UNKNOWN_PROTOCOLS||!1,fe=ee.SAFE_FOR_TEMPLATES||!1,be=ee.WHOLE_DOCUMENT||!1,He=ee.RETURN_DOM||!1,Te=ee.RETURN_DOM_FRAGMENT||!1,Ue=ee.RETURN_TRUSTED_TYPE||!1,re=ee.FORCE_BODY||!1,Ge=ee.SANITIZE_DOM!==!1,Me=ee.KEEP_CONTENT!==!1,T=ee.IN_PLACE||!1,N=ee.ALLOWED_URI_REGEXP||N,pe=ee.NAMESPACE||ne,ee.CUSTOM_ELEMENT_HANDLING&&yt(ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&yt(ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&typeof ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe=Be.indexOf(ee.PARSER_MEDIA_TYPE)===-1?xe=qe:xe=ee.PARSER_MEDIA_TYPE,Ye=xe==="application/xhtml+xml"?function(Se){return Se}:pg,fe&&(ue=!1),Te&&(He=!0),M&&(I=ut({},[].concat(ui(oD))),P=[],M.html===!0&&(ut(I,iD),ut(P,aD)),M.svg===!0&&(ut(I,LS),ut(P,BS),ut(P,mg)),M.svgFilters===!0&&(ut(I,HS),ut(P,BS),ut(P,mg)),M.mathMl===!0&&(ut(I,FS),ut(P,sD),ut(P,mg))),ee.ADD_TAGS&&(I===R&&(I=Qa(I)),ut(I,ee.ADD_TAGS)),ee.ADD_ATTR&&(P===H&&(P=Qa(P)),ut(P,ee.ADD_ATTR)),ee.ADD_URI_SAFE_ATTR&&ut(z,ee.ADD_URI_SAFE_ATTR),ee.FORBID_CONTENTS&&(F===Q&&(F=Qa(F)),ut(F,ee.FORBID_CONTENTS)),Me&&(I["#text"]=!0),be&&ut(I,["html","head","body"]),I.table&&(ut(I,["tbody"]),delete q.tbody),Vn&&Vn(ee),Ne=ee)},ir=ut({},["mi","mo","mn","ms","mtext"]),Kn=ut({},["foreignobject","desc","title","annotation-xml"]),Ct=ut({},LS);ut(Ct,HS),ut(Ct,Kie);var _e=ut({},FS);ut(_e,Xie);var le=function(ee){var Se=w(ee);(!Se||!Se.tagName)&&(Se={namespaceURI:ne,tagName:"template"});var $e=pg(ee.tagName),St=pg(Se.tagName);if(ee.namespaceURI===G)return Se.namespaceURI===ne?$e==="svg":Se.namespaceURI===Z?$e==="svg"&&(St==="annotation-xml"||ir[St]):Boolean(Ct[$e]);if(ee.namespaceURI===Z)return Se.namespaceURI===ne?$e==="math":Se.namespaceURI===G?$e==="math"&&Kn[St]:Boolean(_e[$e]);if(ee.namespaceURI===ne){if(Se.namespaceURI===G&&!Kn[St]||Se.namespaceURI===Z&&!ir[St])return!1;var ln=ut({},["title","style","font","a","script"]);return!_e[$e]&&(ln[$e]||!Ct[$e])}return!1},he=function(ee){tf(n.removed,{element:ee});try{ee.parentNode.removeChild(ee)}catch{try{ee.outerHTML=k}catch{ee.remove()}}},ke=function(ee,Se){try{tf(n.removed,{attribute:Se.getAttributeNode(ee),from:Se})}catch{tf(n.removed,{attribute:null,from:Se})}if(Se.removeAttribute(ee),ee==="is"&&!P[ee])if(He||Te)try{he(Se)}catch{}else try{Se.setAttribute(ee,"")}catch{}},bt=function(ee){var Se=void 0,$e=void 0;if(re)ee="<remove></remove>"+ee;else{var St=nD(ee,/^[\r\n\t ]+/);$e=St&&St[0]}xe==="application/xhtml+xml"&&(ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ee+"</body></html>");var ln=E?E.createHTML(ee):ee;if(pe===ne)try{Se=new h().parseFromString(ln,xe)}catch{}if(!Se||!Se.documentElement){Se=D.createDocument(pe,"template",null);try{Se.documentElement.innerHTML=Re?"":ln}catch{}}var Ht=Se.body||Se.documentElement;return ee&&$e&&Ht.insertBefore(r.createTextNode($e),Ht.childNodes[0]||null),pe===ne?X.call(Se,be?"html":"body")[0]:be?Se.documentElement:Ht},Xt=function(ee){return Y.call(ee.ownerDocument||ee,ee,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Mn=function(ee){return ee instanceof f&&(typeof ee.nodeName!="string"||typeof ee.textContent!="string"||typeof ee.removeChild!="function"||!(ee.attributes instanceof c)||typeof ee.removeAttribute!="function"||typeof ee.setAttribute!="function"||typeof ee.namespaceURI!="string"||typeof ee.insertBefore!="function")},Xn=function(ee){return(typeof a=="undefined"?"undefined":nf(a))==="object"?ee instanceof a:ee&&(typeof ee=="undefined"?"undefined":nf(ee))==="object"&&typeof ee.nodeType=="number"&&typeof ee.nodeName=="string"},Lr=function(ee,Se,$e){!ie[ee]||Uie(ie[ee],function(St){St.call(n,Se,$e,Ne)})},Th=function(ee){var Se=void 0;if(Lr("beforeSanitizeElements",ee,null),Mn(ee)||nD(ee.nodeName,/[\u0080-\uFFFF]/))return he(ee),!0;var $e=Ye(ee.nodeName);if(Lr("uponSanitizeElement",ee,{tagName:$e,allowedTags:I}),!Xn(ee.firstElementChild)&&(!Xn(ee.content)||!Xn(ee.content.firstElementChild))&&cr(/<[/\w]/g,ee.innerHTML)&&cr(/<[/\w]/g,ee.textContent)||$e==="select"&&cr(/<template/i,ee.innerHTML))return he(ee),!0;if(!I[$e]||q[$e]){if(Me&&!F[$e]){var St=w(ee)||ee.parentNode,ln=m(ee)||ee.childNodes;if(ln&&St)for(var Ht=ln.length,qt=Ht-1;qt>=0;--qt)St.insertBefore(p(ln[qt],!0),v(ee))}return!q[$e]&&Js($e)&&(V.tagNameCheck instanceof RegExp&&cr(V.tagNameCheck,$e)||V.tagNameCheck instanceof Function&&V.tagNameCheck($e))?!1:(he(ee),!0)}return ee instanceof s&&!le(ee)||($e==="noscript"||$e==="noembed")&&cr(/<\/no(script|embed)/i,ee.innerHTML)?(he(ee),!0):(fe&&ee.nodeType===3&&(Se=ee.textContent,Se=Ko(Se,de," "),Se=Ko(Se,y," "),ee.textContent!==Se&&(tf(n.removed,{element:ee.cloneNode()}),ee.textContent=Se)),Lr("afterSanitizeElements",ee,null),!1)},ju=function(ee,Se,$e){if(Ge&&(Se==="id"||Se==="name")&&($e in r||$e in Ke))return!1;if(!(ue&&!K[Se]&&cr(S,Se))){if(!(ce&&cr(b,Se))){if(!P[Se]||K[Se]){if(!(Js(ee)&&(V.tagNameCheck instanceof RegExp&&cr(V.tagNameCheck,ee)||V.tagNameCheck instanceof Function&&V.tagNameCheck(ee))&&(V.attributeNameCheck instanceof RegExp&&cr(V.attributeNameCheck,Se)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(Se))||Se==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&cr(V.tagNameCheck,$e)||V.tagNameCheck instanceof Function&&V.tagNameCheck($e))))return!1}else if(!z[Se]){if(!cr(N,Ko($e,A,""))){if(!((Se==="src"||Se==="xlink:href"||Se==="href")&&ee!=="script"&&zie($e,"data:")===0&&U[ee])){if(!(ge&&!cr(_,Ko($e,A,"")))){if($e)return!1}}}}}}return!0},Js=function(ee){return ee.indexOf("-")>0},kh=function(ee){var Se=void 0,$e=void 0,St=void 0,ln=void 0;Lr("beforeSanitizeAttributes",ee,null);var Ht=ee.attributes;if(!!Ht){var qt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};for(ln=Ht.length;ln--;){Se=Ht[ln];var Ln=Se,ti=Ln.name,el=Ln.namespaceURI;if($e=Yie(Se.value),St=Ye(ti),qt.attrName=St,qt.attrValue=$e,qt.keepAttr=!0,qt.forceKeepAttr=void 0,Lr("uponSanitizeAttribute",ee,qt),$e=qt.attrValue,!qt.forceKeepAttr&&(ke(ti,ee),!!qt.keepAttr)){if(cr(/\/>/i,$e)){ke(ti,ee);continue}fe&&($e=Ko($e,de," "),$e=Ko($e,y," "));var lb=Ye(ee.nodeName);if(!!ju(lb,St,$e))try{el?ee.setAttributeNS(el,ti,$e):ee.setAttribute(ti,$e),tD(n.removed)}catch{}}}Lr("afterSanitizeAttributes",ee,null)}},Ah=function Ve(ee){var Se=void 0,$e=Xt(ee);for(Lr("beforeSanitizeShadowDOM",ee,null);Se=$e.nextNode();)Lr("uponSanitizeShadowNode",Se,null),!Th(Se)&&(Se.content instanceof i&&Ve(Se.content),kh(Se));Lr("afterSanitizeShadowDOM",ee,null)};return n.sanitize=function(Ve,ee){var Se=void 0,$e=void 0,St=void 0,ln=void 0,Ht=void 0;if(Re=!Ve,Re&&(Ve="<!-->"),typeof Ve!="string"&&!Xn(Ve)){if(typeof Ve.toString!="function")throw rD("toString is not a function");if(Ve=Ve.toString(),typeof Ve!="string")throw rD("dirty is not a string, aborting")}if(!n.isSupported){if(nf(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Ve=="string")return e.toStaticHTML(Ve);if(Xn(Ve))return e.toStaticHTML(Ve.outerHTML)}return Ve}if(Ee||Gn(ee),n.removed=[],typeof Ve=="string"&&(T=!1),!T)if(Ve instanceof a)Se=bt("<!---->"),$e=Se.ownerDocument.importNode(Ve,!0),$e.nodeType===1&&$e.nodeName==="BODY"||$e.nodeName==="HTML"?Se=$e:Se.appendChild($e);else{if(!He&&!fe&&!be&&Ve.indexOf("<")===-1)return E&&Ue?E.createHTML(Ve):Ve;if(Se=bt(Ve),!Se)return He?null:k}Se&&re&&he(Se.firstChild);for(var qt=Xt(T?Ve:Se);St=qt.nextNode();)St.nodeType===3&&St===ln||Th(St)||(St.content instanceof i&&Ah(St.content),kh(St),ln=St);if(ln=null,T)return Ve;if(He){if(Te)for(Ht=L.call(Se.ownerDocument);Se.firstChild;)Ht.appendChild(Se.firstChild);else Ht=Se;return P.shadowroot&&(Ht=te.call(t,Ht,!0)),Ht}var Ln=be?Se.outerHTML:Se.innerHTML;return fe&&(Ln=Ko(Ln,de," "),Ln=Ko(Ln,y," ")),E&&Ue?E.createHTML(Ln):Ln},n.setConfig=function(Ve){Gn(Ve),Ee=!0},n.clearConfig=function(){Ne=null,Ee=!1},n.isValidAttribute=function(Ve,ee,Se){Ne||Gn({});var $e=Ye(Ve),St=Ye(ee);return ju($e,St,Se)},n.addHook=function(Ve,ee){typeof ee=="function"&&(ie[Ve]=ie[Ve]||[],tf(ie[Ve],ee))},n.removeHook=function(Ve){ie[Ve]&&tD(ie[Ve])},n.removeHooks=function(Ve){ie[Ve]&&(ie[Ve]=[])},n.removeAllHooks=function(){ie={}},n}var ooe=lD(),aoe=et,soe=E$,loe=lt,uoe=nn,coe=Rl.exports.onFreeze,VS=Object.freeze,foe=loe(function(){VS(1)});aoe({target:"Object",stat:!0,forced:foe,sham:!soe},{freeze:function(n){return VS&&uoe(n)?VS(coe(n)):n}});var hoe=et,doe=f_.codeAt;hoe({target:"String",proto:!0},{codePointAt:function(n){return doe(this,n)}});var goe=We,poe=Vo,voe=mn,moe=Zn,yoe=goe.RangeError,uD=function(n){var t=voe(moe(this)),r="",i=poe(n);if(i<0||i==1/0)throw yoe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))i&1&&(r+=t);return r},cD=Qe,boe=Wa,fD=mn,woe=uD,_oe=Zn,Soe=cD(woe),Coe=cD("".slice),Roe=Math.ceil,hD=function(e){return function(n,t,r){var i=fD(_oe(n)),o=boe(t),a=i.length,s=r===void 0?" ":fD(r),l,u;return o<=a||s==""?i:(l=o-a,u=Soe(s,Roe(l/s.length)),u.length>l&&(u=Coe(u,0,l)),e?i+u:u+i)}},Ooe={start:hD(!1),end:hD(!0)},Eoe=La,Toe=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Eoe),koe=et,Aoe=Ooe.start,Moe=Toe;koe({target:"String",proto:!0,forced:Moe},{padStart:function(n){return Aoe(this,n,arguments.length>1?arguments[1]:void 0)}});var dD;function we(){return dD.apply(null,arguments)}function xoe(e){dD=e}function ci(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function rf(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Poe(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var n;for(n in e)if(e.hasOwnProperty(n))return!1;return!0}function tr(e){return e===void 0}function Ja(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function yg(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function gD(e,n){var t=[],r;for(r=0;r<e.length;++r)t.push(n(e[r],r));return t}function on(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Xo(e,n){for(var t in n)on(n,t)&&(e[t]=n[t]);return on(n,"toString")&&(e.toString=n.toString),on(n,"valueOf")&&(e.valueOf=n.valueOf),e}function fi(e,n,t,r){return jD(e,n,t,r,!0).utc()}function Ioe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ct(e){return e._pf==null&&(e._pf=Ioe()),e._pf}var WS;Array.prototype.some?WS=Array.prototype.some:WS=function(e){for(var n=Object(this),t=n.length>>>0,r=0;r<t;r++)if(r in n&&e.call(this,n[r],r,n))return!0;return!1};function jS(e){if(e._isValid==null){var n=ct(e),t=WS.call(n.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&t);if(e._strict&&(r=r&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function bg(e){var n=fi(NaN);return e!=null?Xo(ct(n),e):ct(n).userInvalidated=!0,n}var US=we.momentProperties=[];function zS(e,n){var t,r,i;if(tr(n._isAMomentObject)||(e._isAMomentObject=n._isAMomentObject),tr(n._i)||(e._i=n._i),tr(n._f)||(e._f=n._f),tr(n._l)||(e._l=n._l),tr(n._strict)||(e._strict=n._strict),tr(n._tzm)||(e._tzm=n._tzm),tr(n._isUTC)||(e._isUTC=n._isUTC),tr(n._offset)||(e._offset=n._offset),tr(n._pf)||(e._pf=ct(n)),tr(n._locale)||(e._locale=n._locale),US.length>0)for(t=0;t<US.length;t++)r=US[t],i=n[r],tr(i)||(e[r]=i);return e}var YS=!1;function of(e){zS(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),YS===!1&&(YS=!0,we.updateOffset(this),YS=!1)}function hi(e){return e instanceof of||e!=null&&e._isAMomentObject!=null}function Tr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function dt(e){var n=+e,t=0;return n!==0&&isFinite(n)&&(t=Tr(n)),t}function pD(e,n,t){var r=Math.min(e.length,n.length),i=Math.abs(e.length-n.length),o=0,a;for(a=0;a<r;a++)(t&&e[a]!==n[a]||!t&&dt(e[a])!==dt(n[a]))&&o++;return o+i}function vD(e){we.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function kr(e,n){var t=!0;return Xo(function(){if(we.deprecationHandler!=null&&we.deprecationHandler(null,e),t){for(var r=[],i,o=0;o<arguments.length;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}vD(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return n.apply(this,arguments)},n)}var mD={};function yD(e,n){we.deprecationHandler!=null&&we.deprecationHandler(e,n),mD[e]||(vD(n),mD[e]=!0)}we.suppressDeprecationWarnings=!1;we.deprecationHandler=null;function di(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function $oe(e){var n,t;for(t in e)n=e[t],di(n)?this[t]=n:this["_"+t]=n;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function bD(e,n){var t=Xo({},e),r;for(r in n)on(n,r)&&(rf(e[r])&&rf(n[r])?(t[r]={},Xo(t[r],e[r]),Xo(t[r],n[r])):n[r]!=null?t[r]=n[r]:delete t[r]);for(r in e)on(e,r)&&!on(n,r)&&rf(e[r])&&(t[r]=Xo({},t[r]));return t}function GS(e){e!=null&&this.set(e)}var KS;Object.keys?KS=Object.keys:KS=function(e){var n,t=[];for(n in e)on(e,n)&&t.push(n);return t};var Doe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Noe(e,n,t){var r=this._calendar[e]||this._calendar.sameElse;return di(r)?r.call(n,t):r}var Loe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Hoe(e){var n=this._longDateFormat[e],t=this._longDateFormat[e.toUpperCase()];return n||!t?n:(this._longDateFormat[e]=t.replace(/MMMM|MM|DD|dddd/g,function(r){return r.slice(1)}),this._longDateFormat[e])}var Foe="Invalid date";function Boe(){return this._invalidDate}var Voe="%d",Woe=/\d{1,2}/;function joe(e){return this._ordinal.replace("%d",e)}var Uoe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zoe(e,n,t,r){var i=this._relativeTime[t];return di(i)?i(e,n,t,r):i.replace(/%d/i,e)}function Yoe(e,n){var t=this._relativeTime[e>0?"future":"past"];return di(t)?t(n):t.replace(/%s/i,n)}var af={};function Dn(e,n){var t=e.toLowerCase();af[t]=af[t+"s"]=af[n]=e}function Ar(e){return typeof e=="string"?af[e]||af[e.toLowerCase()]:void 0}function XS(e){var n={},t,r;for(r in e)on(e,r)&&(t=Ar(r),t&&(n[t]=e[r]));return n}var wD={};function Nn(e,n){wD[e]=n}function Goe(e){var n=[];for(var t in e)n.push({unit:t,priority:wD[t]});return n.sort(function(r,i){return r.priority-i.priority}),n}function Yi(e,n,t){var r=""+Math.abs(e),i=n-r.length,o=e>=0;return(o?t?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var _D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,wg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qS={},Tl={};function Xe(e,n,t,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Tl[e]=i),n&&(Tl[n[0]]=function(){return Yi(i.apply(this,arguments),n[1],n[2])}),t&&(Tl[t]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Koe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Xoe(e){var n=e.match(_D),t,r;for(t=0,r=n.length;t<r;t++)Tl[n[t]]?n[t]=Tl[n[t]]:n[t]=Koe(n[t]);return function(i){var o="",a;for(a=0;a<r;a++)o+=di(n[a])?n[a].call(i,e):n[a];return o}}function _g(e,n){return e.isValid()?(n=SD(n,e.localeData()),qS[n]=qS[n]||Xoe(n),qS[n](e)):e.localeData().invalidDate()}function SD(e,n){var t=5;function r(i){return n.longDateFormat(i)||i}for(wg.lastIndex=0;t>=0&&wg.test(e);)e=e.replace(wg,r),wg.lastIndex=0,t-=1;return e}var CD=/\d/,fr=/\d\d/,RD=/\d{3}/,ZS=/\d{4}/,Sg=/[+-]?\d{6}/,Pt=/\d\d?/,OD=/\d\d\d\d?/,ED=/\d\d\d\d\d\d?/,Cg=/\d{1,3}/,QS=/\d{1,4}/,Rg=/[+-]?\d{1,6}/,qoe=/\d+/,Og=/[+-]?\d+/,Zoe=/Z|[+-]\d\d:?\d\d/gi,Eg=/Z|[+-]\d\d(?::?\d\d)?/gi,Qoe=/[+-]?\d+(\.\d{1,3})?/,sf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,JS={};function Fe(e,n,t){JS[e]=di(n)?n:function(r,i){return r&&t?t:n}}function Joe(e,n){return on(JS,e)?JS[e](n._strict,n._locale):new RegExp(eae(e))}function eae(e){return es(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,r,i,o){return t||r||i||o}))}function es(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var eC={};function It(e,n){var t,r=n;for(typeof e=="string"&&(e=[e]),Ja(n)&&(r=function(i,o){o[n]=dt(i)}),t=0;t<e.length;t++)eC[e[t]]=r}function lf(e,n){It(e,function(t,r,i,o){i._w=i._w||{},n(t,i._w,i,o)})}function tae(e,n,t){n!=null&&on(eC,e)&&eC[e](n,t._a,t,e)}var Ur=0,Gi=1,gi=2,yn=3,zr=4,Ki=5,ts=6,nae=7,rae=8;Xe("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});Xe(0,["YY",2],0,function(){return this.year()%100});Xe(0,["YYYY",4],0,"year");Xe(0,["YYYYY",5],0,"year");Xe(0,["YYYYYY",6,!0],0,"year");Dn("year","y");Nn("year",1);Fe("Y",Og);Fe("YY",Pt,fr);Fe("YYYY",QS,ZS);Fe("YYYYY",Rg,Sg);Fe("YYYYYY",Rg,Sg);It(["YYYYY","YYYYYY"],Ur);It("YYYY",function(e,n){n[Ur]=e.length===2?we.parseTwoDigitYear(e):dt(e)});It("YY",function(e,n){n[Ur]=we.parseTwoDigitYear(e)});It("Y",function(e,n){n[Ur]=parseInt(e,10)});function uf(e){return Tg(e)?366:365}function Tg(e){return e%4==0&&e%100!=0||e%400==0}we.parseTwoDigitYear=function(e){return dt(e)+(dt(e)>68?1900:2e3)};var TD=kl("FullYear",!0);function iae(){return Tg(this.year())}function kl(e,n){return function(t){return t!=null?(kD(this,e,t),we.updateOffset(this,n),this):kg(this,e)}}function kg(e,n){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+n]():NaN}function kD(e,n,t){e.isValid()&&!isNaN(t)&&(n==="FullYear"&&Tg(e.year())&&e.month()===1&&e.date()===29?e._d["set"+(e._isUTC?"UTC":"")+n](t,e.month(),Ag(t,e.month())):e._d["set"+(e._isUTC?"UTC":"")+n](t))}function oae(e){return e=Ar(e),di(this[e])?this[e]():this}function aae(e,n){if(typeof e=="object"){e=XS(e);for(var t=Goe(e),r=0;r<t.length;r++)this[t[r].unit](e[t[r].unit])}else if(e=Ar(e),di(this[e]))return this[e](n);return this}function sae(e,n){return(e%n+n)%n}var an;Array.prototype.indexOf?an=Array.prototype.indexOf:an=function(e){var n;for(n=0;n<this.length;++n)if(this[n]===e)return n;return-1};function Ag(e,n){if(isNaN(e)||isNaN(n))return NaN;var t=sae(n,12);return e+=(n-t)/12,t===1?Tg(e)?29:28:31-t%7%2}Xe("M",["MM",2],"Mo",function(){return this.month()+1});Xe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Xe("MMMM",0,0,function(e){return this.localeData().months(this,e)});Dn("month","M");Nn("month",8);Fe("M",Pt);Fe("MM",Pt,fr);Fe("MMM",function(e,n){return n.monthsShortRegex(e)});Fe("MMMM",function(e,n){return n.monthsRegex(e)});It(["M","MM"],function(e,n){n[Gi]=dt(e)-1});It(["MMM","MMMM"],function(e,n,t,r){var i=t._locale.monthsParse(e,r,t._strict);i!=null?n[Gi]=i:ct(t).invalidMonth=e});var AD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lae="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function uae(e,n){return e?ci(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||AD).test(n)?"format":"standalone"][e.month()]:ci(this._months)?this._months:this._months.standalone}var MD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function cae(e,n){return e?ci(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[AD.test(n)?"format":"standalone"][e.month()]:ci(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fae(e,n,t){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=fi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return t?n==="MMM"?(i=an.call(this._shortMonthsParse,a),i!==-1?i:null):(i=an.call(this._longMonthsParse,a),i!==-1?i:null):n==="MMM"?(i=an.call(this._shortMonthsParse,a),i!==-1?i:(i=an.call(this._longMonthsParse,a),i!==-1?i:null)):(i=an.call(this._longMonthsParse,a),i!==-1?i:(i=an.call(this._shortMonthsParse,a),i!==-1?i:null))}function hae(e,n,t){var r,i,o;if(this._monthsParseExact)return fae.call(this,e,n,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=fi([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),t&&n==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(t&&n==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!t&&this._monthsParse[r].test(e))return r}}function xD(e,n){var t;if(!e.isValid())return e;if(typeof n=="string"){if(/^\d+$/.test(n))n=dt(n);else if(n=e.localeData().monthsParse(n),!Ja(n))return e}return t=Math.min(e.date(),Ag(e.year(),n)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](n,t),e}function PD(e){return e!=null?(xD(this,e),we.updateOffset(this,!0),this):kg(this,"Month")}function dae(){return Ag(this.year(),this.month())}var gae=sf;function pae(e){return this._monthsParseExact?(on(this,"_monthsRegex")||ID.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(on(this,"_monthsShortRegex")||(this._monthsShortRegex=gae),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}var vae=sf;function mae(e){return this._monthsParseExact?(on(this,"_monthsRegex")||ID.call(this),e?this._monthsStrictRegex:this._monthsRegex):(on(this,"_monthsRegex")||(this._monthsRegex=vae),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ID(){function e(a,s){return s.length-a.length}var n=[],t=[],r=[],i,o;for(i=0;i<12;i++)o=fi([2e3,i]),n.push(this.monthsShort(o,"")),t.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(n.sort(e),t.sort(e),r.sort(e),i=0;i<12;i++)n[i]=es(n[i]),t[i]=es(t[i]);for(i=0;i<24;i++)r[i]=es(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function yae(e,n,t,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,n,t,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,n,t,r,i,o,a),s}function cf(e){var n;if(e<100&&e>=0){var t=Array.prototype.slice.call(arguments);t[0]=e+400,n=new Date(Date.UTC.apply(null,t)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(e)}else n=new Date(Date.UTC.apply(null,arguments));return n}function Mg(e,n,t){var r=7+n-t,i=(7+cf(e,0,r).getUTCDay()-n)%7;return-i+r-1}function $D(e,n,t,r,i){var o=(7+t-r)%7,a=Mg(e,r,i),s=1+7*(n-1)+o+a,l,u;return s<=0?(l=e-1,u=uf(l)+s):s>uf(e)?(l=e+1,u=s-uf(e)):(l=e,u=s),{year:l,dayOfYear:u}}function ff(e,n,t){var r=Mg(e.year(),n,t),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,a;return i<1?(a=e.year()-1,o=i+ns(a,n,t)):i>ns(e.year(),n,t)?(o=i-ns(e.year(),n,t),a=e.year()+1):(a=e.year(),o=i),{week:o,year:a}}function ns(e,n,t){var r=Mg(e,n,t),i=Mg(e+1,n,t);return(uf(e)-r+i)/7}Xe("w",["ww",2],"wo","week");Xe("W",["WW",2],"Wo","isoWeek");Dn("week","w");Dn("isoWeek","W");Nn("week",5);Nn("isoWeek",5);Fe("w",Pt);Fe("ww",Pt,fr);Fe("W",Pt);Fe("WW",Pt,fr);lf(["w","ww","W","WW"],function(e,n,t,r){n[r.substr(0,1)]=dt(e)});function bae(e){return ff(e,this._week.dow,this._week.doy).week}var wae={dow:0,doy:6};function _ae(){return this._week.dow}function Sae(){return this._week.doy}function Cae(e){var n=this.localeData().week(this);return e==null?n:this.add((e-n)*7,"d")}function Rae(e){var n=ff(this,1,4).week;return e==null?n:this.add((e-n)*7,"d")}Xe("d",0,"do","day");Xe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Xe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Xe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Xe("e",0,0,"weekday");Xe("E",0,0,"isoWeekday");Dn("day","d");Dn("weekday","e");Dn("isoWeekday","E");Nn("day",11);Nn("weekday",11);Nn("isoWeekday",11);Fe("d",Pt);Fe("e",Pt);Fe("E",Pt);Fe("dd",function(e,n){return n.weekdaysMinRegex(e)});Fe("ddd",function(e,n){return n.weekdaysShortRegex(e)});Fe("dddd",function(e,n){return n.weekdaysRegex(e)});lf(["dd","ddd","dddd"],function(e,n,t,r){var i=t._locale.weekdaysParse(e,r,t._strict);i!=null?n.d=i:ct(t).invalidWeekday=e});lf(["d","e","E"],function(e,n,t,r){n[r]=dt(e)});function Oae(e,n){return typeof e!="string"?e:isNaN(e)?(e=n.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Eae(e,n){return typeof e=="string"?n.weekdaysParse(e)%7||7:isNaN(e)?null:e}function tC(e,n){return e.slice(n,7).concat(e.slice(0,n))}var Tae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function kae(e,n){var t=ci(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return e===!0?tC(t,this._week.dow):e?t[e.day()]:t}var DD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Aae(e){return e===!0?tC(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Mae="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function xae(e){return e===!0?tC(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Pae(e,n,t){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=fi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return t?n==="dddd"?(i=an.call(this._weekdaysParse,a),i!==-1?i:null):n==="ddd"?(i=an.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=an.call(this._minWeekdaysParse,a),i!==-1?i:null):n==="dddd"?(i=an.call(this._weekdaysParse,a),i!==-1||(i=an.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=an.call(this._minWeekdaysParse,a),i!==-1?i:null)):n==="ddd"?(i=an.call(this._shortWeekdaysParse,a),i!==-1||(i=an.call(this._weekdaysParse,a),i!==-1)?i:(i=an.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=an.call(this._minWeekdaysParse,a),i!==-1||(i=an.call(this._weekdaysParse,a),i!==-1)?i:(i=an.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function Iae(e,n,t){var r,i,o;if(this._weekdaysParseExact)return Pae.call(this,e,n,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=fi([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),t&&n==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(t&&n==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(t&&n==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!t&&this._weekdaysParse[r].test(e))return r}}function $ae(e){if(!this.isValid())return e!=null?this:NaN;var n=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Oae(e,this.localeData()),this.add(e-n,"d")):n}function Dae(e){if(!this.isValid())return e!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return e==null?n:this.add(e-n,"d")}function Nae(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var n=Eae(e,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}var Lae=sf;function Hae(e){return this._weekdaysParseExact?(on(this,"_weekdaysRegex")||nC.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(on(this,"_weekdaysRegex")||(this._weekdaysRegex=Lae),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var Fae=sf;function Bae(e){return this._weekdaysParseExact?(on(this,"_weekdaysRegex")||nC.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(on(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fae),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var Vae=sf;function Wae(e){return this._weekdaysParseExact?(on(this,"_weekdaysRegex")||nC.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(on(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vae),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function nC(){function e(c,f){return f.length-c.length}var n=[],t=[],r=[],i=[],o,a,s,l,u;for(o=0;o<7;o++)a=fi([2e3,1]).day(o),s=this.weekdaysMin(a,""),l=this.weekdaysShort(a,""),u=this.weekdays(a,""),n.push(s),t.push(l),r.push(u),i.push(s),i.push(l),i.push(u);for(n.sort(e),t.sort(e),r.sort(e),i.sort(e),o=0;o<7;o++)t[o]=es(t[o]),r[o]=es(r[o]),i[o]=es(i[o]);this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function rC(){return this.hours()%12||12}function jae(){return this.hours()||24}Xe("H",["HH",2],0,"hour");Xe("h",["hh",2],0,rC);Xe("k",["kk",2],0,jae);Xe("hmm",0,0,function(){return""+rC.apply(this)+Yi(this.minutes(),2)});Xe("hmmss",0,0,function(){return""+rC.apply(this)+Yi(this.minutes(),2)+Yi(this.seconds(),2)});Xe("Hmm",0,0,function(){return""+this.hours()+Yi(this.minutes(),2)});Xe("Hmmss",0,0,function(){return""+this.hours()+Yi(this.minutes(),2)+Yi(this.seconds(),2)});function ND(e,n){Xe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}ND("a",!0);ND("A",!1);Dn("hour","h");Nn("hour",13);function LD(e,n){return n._meridiemParse}Fe("a",LD);Fe("A",LD);Fe("H",Pt);Fe("h",Pt);Fe("k",Pt);Fe("HH",Pt,fr);Fe("hh",Pt,fr);Fe("kk",Pt,fr);Fe("hmm",OD);Fe("hmmss",ED);Fe("Hmm",OD);Fe("Hmmss",ED);It(["H","HH"],yn);It(["k","kk"],function(e,n,t){var r=dt(e);n[yn]=r===24?0:r});It(["a","A"],function(e,n,t){t._isPm=t._locale.isPM(e),t._meridiem=e});It(["h","hh"],function(e,n,t){n[yn]=dt(e),ct(t).bigHour=!0});It("hmm",function(e,n,t){var r=e.length-2;n[yn]=dt(e.substr(0,r)),n[zr]=dt(e.substr(r)),ct(t).bigHour=!0});It("hmmss",function(e,n,t){var r=e.length-4,i=e.length-2;n[yn]=dt(e.substr(0,r)),n[zr]=dt(e.substr(r,2)),n[Ki]=dt(e.substr(i)),ct(t).bigHour=!0});It("Hmm",function(e,n,t){var r=e.length-2;n[yn]=dt(e.substr(0,r)),n[zr]=dt(e.substr(r))});It("Hmmss",function(e,n,t){var r=e.length-4,i=e.length-2;n[yn]=dt(e.substr(0,r)),n[zr]=dt(e.substr(r,2)),n[Ki]=dt(e.substr(i))});function Uae(e){return(e+"").toLowerCase().charAt(0)==="p"}var zae=/[ap]\.?m?\.?/i;function Yae(e,n,t){return e>11?t?"pm":"PM":t?"am":"AM"}var Gae=kl("Hours",!0),HD={calendar:Doe,longDateFormat:Loe,invalidDate:Foe,ordinal:Voe,dayOfMonthOrdinalParse:Woe,relativeTime:Uoe,months:lae,monthsShort:MD,week:wae,weekdays:Tae,weekdaysMin:Mae,weekdaysShort:DD,meridiemParse:zae},bn={},hf={},df;function FD(e){return e&&e.toLowerCase().replace("_","-")}function Kae(e){for(var n=0,t,r,i,o;n<e.length;){for(o=FD(e[n]).split("-"),t=o.length,r=FD(e[n+1]),r=r?r.split("-"):null;t>0;){if(i=xg(o.slice(0,t).join("-")),i)return i;if(r&&r.length>=t&&pD(o,r,!0)>=t-1)break;t--}n++}return df}function xg(e){var n=null;if(!bn[e]&&typeof module!="undefined"&&module&&module.exports)try{n=df._abbr;var t=require;t("./locale/"+e),Al(n)}catch{}return bn[e]}function Al(e,n){var t;return e&&(tr(n)?t=qo(e):t=iC(e,n),t?df=t:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),df._abbr}function iC(e,n){if(n!==null){var t,r=HD;if(n.abbr=e,bn[e]!=null)yD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=bn[e]._config;else if(n.parentLocale!=null)if(bn[n.parentLocale]!=null)r=bn[n.parentLocale]._config;else if(t=xg(n.parentLocale),t!=null)r=t._config;else return hf[n.parentLocale]||(hf[n.parentLocale]=[]),hf[n.parentLocale].push({name:e,config:n}),null;return bn[e]=new GS(bD(r,n)),hf[e]&&hf[e].forEach(function(i){iC(i.name,i.config)}),Al(e),bn[e]}else return delete bn[e],null}function Xae(e,n){if(n!=null){var t,r,i=HD;r=xg(e),r!=null&&(i=r._config),n=bD(i,n),t=new GS(n),t.parentLocale=bn[e],bn[e]=t,Al(e)}else bn[e]!=null&&(bn[e].parentLocale!=null?bn[e]=bn[e].parentLocale:bn[e]!=null&&delete bn[e]);return bn[e]}function qo(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return df;if(!ci(e)){if(n=xg(e),n)return n;e=[e]}return Kae(e)}function qae(){return KS(bn)}function oC(e){var n,t=e._a;return t&&ct(e).overflow===-2&&(n=t[Gi]<0||t[Gi]>11?Gi:t[gi]<1||t[gi]>Ag(t[Ur],t[Gi])?gi:t[yn]<0||t[yn]>24||t[yn]===24&&(t[zr]!==0||t[Ki]!==0||t[ts]!==0)?yn:t[zr]<0||t[zr]>59?zr:t[Ki]<0||t[Ki]>59?Ki:t[ts]<0||t[ts]>999?ts:-1,ct(e)._overflowDayOfYear&&(n<Ur||n>gi)&&(n=gi),ct(e)._overflowWeeks&&n===-1&&(n=nae),ct(e)._overflowWeekday&&n===-1&&(n=rae),ct(e).overflow=n),e}function Ml(e,n,t){return e!=null?e:n!=null?n:t}function Zae(e){var n=new Date(we.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function aC(e){var n,t,r=[],i,o,a;if(!e._d){for(i=Zae(e),e._w&&e._a[gi]==null&&e._a[Gi]==null&&Qae(e),e._dayOfYear!=null&&(a=Ml(e._a[Ur],i[Ur]),(e._dayOfYear>uf(a)||e._dayOfYear===0)&&(ct(e)._overflowDayOfYear=!0),t=cf(a,0,e._dayOfYear),e._a[Gi]=t.getUTCMonth(),e._a[gi]=t.getUTCDate()),n=0;n<3&&e._a[n]==null;++n)e._a[n]=r[n]=i[n];for(;n<7;n++)e._a[n]=r[n]=e._a[n]==null?n===2?1:0:e._a[n];e._a[yn]===24&&e._a[zr]===0&&e._a[Ki]===0&&e._a[ts]===0&&(e._nextDay=!0,e._a[yn]=0),e._d=(e._useUTC?cf:yae).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[yn]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==o&&(ct(e).weekdayMismatch=!0)}}function Qae(e){var n,t,r,i,o,a,s,l;if(n=e._w,n.GG!=null||n.W!=null||n.E!=null)o=1,a=4,t=Ml(n.GG,e._a[Ur],ff($t(),1,4).year),r=Ml(n.W,1),i=Ml(n.E,1),(i<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=ff($t(),o,a);t=Ml(n.gg,e._a[Ur],u.year),r=Ml(n.w,u.week),n.d!=null?(i=n.d,(i<0||i>6)&&(l=!0)):n.e!=null?(i=n.e+o,(n.e<0||n.e>6)&&(l=!0)):i=o}r<1||r>ns(t,o,a)?ct(e)._overflowWeeks=!0:l!=null?ct(e)._overflowWeekday=!0:(s=$D(t,r,i,o,a),e._a[Ur]=s.year,e._dayOfYear=s.dayOfYear)}var Jae=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ese=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tse=/Z|[+-]\d\d(?::?\d\d)?/,Pg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sC=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nse=/^\/?Date\((\-?\d+)/i;function BD(e){var n,t,r=e._i,i=Jae.exec(r)||ese.exec(r),o,a,s,l;if(i){for(ct(e).iso=!0,n=0,t=Pg.length;n<t;n++)if(Pg[n][1].exec(i[1])){a=Pg[n][0],o=Pg[n][2]!==!1;break}if(a==null){e._isValid=!1;return}if(i[3]){for(n=0,t=sC.length;n<t;n++)if(sC[n][1].exec(i[3])){s=(i[2]||" ")+sC[n][0];break}if(s==null){e._isValid=!1;return}}if(!o&&s!=null){e._isValid=!1;return}if(i[4])if(tse.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=a+(s||"")+(l||""),lC(e)}else e._isValid=!1}var rse=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ise(e,n,t,r,i,o){var a=[ose(e),MD.indexOf(n),parseInt(t,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function ose(e){var n=parseInt(e,10);return n<=49?2e3+n:n<=999?1900+n:n}function ase(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sse(e,n,t){if(e){var r=DD.indexOf(e),i=new Date(n[0],n[1],n[2]).getDay();if(r!==i)return ct(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}var lse={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function use(e,n,t){if(e)return lse[e];if(n)return 0;var r=parseInt(t,10),i=r%100,o=(r-i)/100;return o*60+i}function VD(e){var n=rse.exec(ase(e._i));if(n){var t=ise(n[4],n[3],n[2],n[5],n[6],n[7]);if(!sse(n[1],t,e))return;e._a=t,e._tzm=use(n[8],n[9],n[10]),e._d=cf.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ct(e).rfc2822=!0}else e._isValid=!1}function cse(e){var n=nse.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}if(BD(e),e._isValid===!1)delete e._isValid;else return;if(VD(e),e._isValid===!1)delete e._isValid;else return;we.createFromInputFallback(e)}we.createFromInputFallback=kr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});we.ISO_8601=function(){};we.RFC_2822=function(){};function lC(e){if(e._f===we.ISO_8601){BD(e);return}if(e._f===we.RFC_2822){VD(e);return}e._a=[],ct(e).empty=!0;var n=""+e._i,t,r,i,o,a,s=n.length,l=0;for(i=SD(e._f,e._locale).match(_D)||[],t=0;t<i.length;t++)o=i[t],r=(n.match(Joe(o,e))||[])[0],r&&(a=n.substr(0,n.indexOf(r)),a.length>0&&ct(e).unusedInput.push(a),n=n.slice(n.indexOf(r)+r.length),l+=r.length),Tl[o]?(r?ct(e).empty=!1:ct(e).unusedTokens.push(o),tae(o,r,e)):e._strict&&!r&&ct(e).unusedTokens.push(o);ct(e).charsLeftOver=s-l,n.length>0&&ct(e).unusedInput.push(n),e._a[yn]<=12&&ct(e).bigHour===!0&&e._a[yn]>0&&(ct(e).bigHour=void 0),ct(e).parsedDateParts=e._a.slice(0),ct(e).meridiem=e._meridiem,e._a[yn]=fse(e._locale,e._a[yn],e._meridiem),aC(e),oC(e)}function fse(e,n,t){var r;return t==null?n:e.meridiemHour!=null?e.meridiemHour(n,t):(e.isPM!=null&&(r=e.isPM(t),r&&n<12&&(n+=12),!r&&n===12&&(n=0)),n)}function hse(e){var n,t,r,i,o;if(e._f.length===0){ct(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++)o=0,n=zS({},e),e._useUTC!=null&&(n._useUTC=e._useUTC),n._f=e._f[i],lC(n),!!jS(n)&&(o+=ct(n).charsLeftOver,o+=ct(n).unusedTokens.length*10,ct(n).score=o,(r==null||o<r)&&(r=o,t=n));Xo(e,t||n)}function dse(e){if(!e._d){var n=XS(e._i);e._a=gD([n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],function(t){return t&&parseInt(t,10)}),aC(e)}}function gse(e){var n=new of(oC(WD(e)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function WD(e){var n=e._i,t=e._f;return e._locale=e._locale||qo(e._l),n===null||t===void 0&&n===""?bg({nullInput:!0}):(typeof n=="string"&&(e._i=n=e._locale.preparse(n)),hi(n)?new of(oC(n)):(yg(n)?e._d=n:ci(t)?hse(e):t?lC(e):pse(e),jS(e)||(e._d=null),e))}function pse(e){var n=e._i;tr(n)?e._d=new Date(we.now()):yg(n)?e._d=new Date(n.valueOf()):typeof n=="string"?cse(e):ci(n)?(e._a=gD(n.slice(0),function(t){return parseInt(t,10)}),aC(e)):rf(n)?dse(e):Ja(n)?e._d=new Date(n):we.createFromInputFallback(e)}function jD(e,n,t,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(rf(e)&&Poe(e)||ci(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=t,o._i=e,o._f=n,o._strict=r,gse(o)}function $t(e,n,t,r){return jD(e,n,t,r,!1)}var vse=kr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:bg()}),mse=kr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:bg()});function UD(e,n){var t,r;if(n.length===1&&ci(n[0])&&(n=n[0]),!n.length)return $t();for(t=n[0],r=1;r<n.length;++r)(!n[r].isValid()||n[r][e](t))&&(t=n[r]);return t}function yse(){var e=[].slice.call(arguments,0);return UD("isBefore",e)}function bse(){var e=[].slice.call(arguments,0);return UD("isAfter",e)}var wse=function(){return Date.now?Date.now():+new Date},gf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _se(e){for(var n in e)if(!(an.call(gf,n)!==-1&&(e[n]==null||!isNaN(e[n]))))return!1;for(var t=!1,r=0;r<gf.length;++r)if(e[gf[r]]){if(t)return!1;parseFloat(e[gf[r]])!==dt(e[gf[r]])&&(t=!0)}return!0}function Sse(){return this._isValid}function Cse(){return Yr(NaN)}function Ig(e){var n=XS(e),t=n.year||0,r=n.quarter||0,i=n.month||0,o=n.week||n.isoWeek||0,a=n.day||0,s=n.hour||0,l=n.minute||0,u=n.second||0,c=n.millisecond||0;this._isValid=_se(n),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+a+o*7,this._months=+i+r*3+t*12,this._data={},this._locale=qo(),this._bubble()}function uC(e){return e instanceof Ig}function cC(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function zD(e,n){Xe(e,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+Yi(~~(t/60),2)+n+Yi(~~t%60,2)})}zD("Z",":");zD("ZZ","");Fe("Z",Eg);Fe("ZZ",Eg);It(["Z","ZZ"],function(e,n,t){t._useUTC=!0,t._tzm=fC(Eg,e)});var Rse=/([\+\-]|\d\d)/gi;function fC(e,n){var t=(n||"").match(e);if(t===null)return null;var r=t[t.length-1]||[],i=(r+"").match(Rse)||["-",0,0],o=+(i[1]*60)+dt(i[2]);return o===0?0:i[0]==="+"?o:-o}function hC(e,n){var t,r;return n._isUTC?(t=n.clone(),r=(hi(e)||yg(e)?e.valueOf():$t(e).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),we.updateOffset(t,!1),t):$t(e).local()}function dC(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}we.updateOffset=function(){};function Ose(e,n,t){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=fC(Eg,e),e===null)return this}else Math.abs(e)<16&&!t&&(e=e*60);return!this._isUTC&&n&&(i=dC(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?XD(this,Yr(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:dC(this)}function Ese(e,n){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,n),this):-this.utcOffset()}function Tse(e){return this.utcOffset(0,e)}function kse(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dC(this),"m")),this}function Ase(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=fC(Zoe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Mse(e){return this.isValid()?(e=e?$t(e).utcOffset():0,(this.utcOffset()-e)%60==0):!1}function xse(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pse(){if(!tr(this._isDSTShifted))return this._isDSTShifted;var e={};if(zS(e,this),e=WD(e),e._a){var n=e._isUTC?fi(e._a):$t(e._a);this._isDSTShifted=this.isValid()&&pD(e._a,n.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ise(){return this.isValid()?!this._isUTC:!1}function $se(){return this.isValid()?this._isUTC:!1}function YD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Dse=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Nse=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yr(e,n){var t=e,r=null,i,o,a;return uC(e)?t={ms:e._milliseconds,d:e._days,M:e._months}:Ja(e)?(t={},n?t[n]=e:t.milliseconds=e):(r=Dse.exec(e))?(i=r[1]==="-"?-1:1,t={y:0,d:dt(r[gi])*i,h:dt(r[yn])*i,m:dt(r[zr])*i,s:dt(r[Ki])*i,ms:dt(cC(r[ts]*1e3))*i}):(r=Nse.exec(e))?(i=r[1]==="-"?-1:1,t={y:rs(r[2],i),M:rs(r[3],i),w:rs(r[4],i),d:rs(r[5],i),h:rs(r[6],i),m:rs(r[7],i),s:rs(r[8],i)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(a=Lse($t(t.from),$t(t.to)),t={},t.ms=a.milliseconds,t.M=a.months),o=new Ig(t),uC(e)&&on(e,"_locale")&&(o._locale=e._locale),o}Yr.fn=Ig.prototype;Yr.invalid=Cse;function rs(e,n){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n}function GD(e,n){var t={};return t.months=n.month()-e.month()+(n.year()-e.year())*12,e.clone().add(t.months,"M").isAfter(n)&&--t.months,t.milliseconds=+n-+e.clone().add(t.months,"M"),t}function Lse(e,n){var t;return e.isValid()&&n.isValid()?(n=hC(n,e),e.isBefore(n)?t=GD(e,n):(t=GD(n,e),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function KD(e,n){return function(t,r){var i,o;return r!==null&&!isNaN(+r)&&(yD(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=t,t=r,r=o),t=typeof t=="string"?+t:t,i=Yr(t,r),XD(this,i,e),this}}function XD(e,n,t,r){var i=n._milliseconds,o=cC(n._days),a=cC(n._months);!e.isValid()||(r=r==null?!0:r,a&&xD(e,kg(e,"Month")+a*t),o&&kD(e,"Date",kg(e,"Date")+o*t),i&&e._d.setTime(e._d.valueOf()+i*t),r&&we.updateOffset(e,o||a))}var Hse=KD(1,"add"),Fse=KD(-1,"subtract");function Bse(e,n){var t=e.diff(n,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function Vse(e,n){var t=e||$t(),r=hC(t,this).startOf("day"),i=we.calendarFormat(this,r)||"sameElse",o=n&&(di(n[i])?n[i].call(this,t):n[i]);return this.format(o||this.localeData().calendar(i,this,$t(t)))}function Wse(){return new of(this)}function jse(e,n){var t=hi(e)?e:$t(e);return this.isValid()&&t.isValid()?(n=Ar(n)||"millisecond",n==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(n).valueOf()):!1}function Use(e,n){var t=hi(e)?e:$t(e);return this.isValid()&&t.isValid()?(n=Ar(n)||"millisecond",n==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(n).valueOf()<t.valueOf()):!1}function zse(e,n,t,r){var i=hi(e)?e:$t(e),o=hi(n)?n:$t(n);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,t):!this.isBefore(i,t))&&(r[1]===")"?this.isBefore(o,t):!this.isAfter(o,t))):!1}function Yse(e,n){var t=hi(e)?e:$t(e),r;return this.isValid()&&t.isValid()?(n=Ar(n)||"millisecond",n==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(n).valueOf()<=r&&r<=this.clone().endOf(n).valueOf())):!1}function Gse(e,n){return this.isSame(e,n)||this.isAfter(e,n)}function Kse(e,n){return this.isSame(e,n)||this.isBefore(e,n)}function Xse(e,n,t){var r,i,o;if(!this.isValid())return NaN;if(r=hC(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,n=Ar(n),n){case"year":o=gC(this,r)/12;break;case"month":o=gC(this,r);break;case"quarter":o=gC(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return t?o:Tr(o)}function gC(e,n){var t=(n.year()-e.year())*12+(n.month()-e.month()),r=e.clone().add(t,"months"),i,o;return n-r<0?(i=e.clone().add(t-1,"months"),o=(n-r)/(r-i)):(i=e.clone().add(t+1,"months"),o=(n-r)/(i-r)),-(t+o)||0}we.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";we.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function qse(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zse(e){if(!this.isValid())return null;var n=e!==!0,t=n?this.clone().utc():this;return t.year()<0||t.year()>9999?_g(t,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):di(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_g(t,"Z")):_g(t,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qse(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",n="";this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z");var t="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=n+'[")]';return this.format(t+r+i+o)}function Jse(e){e||(e=this.isUtc()?we.defaultFormatUtc:we.defaultFormat);var n=_g(this,e);return this.localeData().postformat(n)}function ele(e,n){return this.isValid()&&(hi(e)&&e.isValid()||$t(e).isValid())?Yr({to:this,from:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function tle(e){return this.from($t(),e)}function nle(e,n){return this.isValid()&&(hi(e)&&e.isValid()||$t(e).isValid())?Yr({from:this,to:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function rle(e){return this.to($t(),e)}function qD(e){var n;return e===void 0?this._locale._abbr:(n=qo(e),n!=null&&(this._locale=n),this)}var ZD=kr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function QD(){return this._locale}var $g=1e3,xl=60*$g,Dg=60*xl,JD=(365*400+97)*24*Dg;function Pl(e,n){return(e%n+n)%n}function eN(e,n,t){return e<100&&e>=0?new Date(e+400,n,t)-JD:new Date(e,n,t).valueOf()}function tN(e,n,t){return e<100&&e>=0?Date.UTC(e+400,n,t)-JD:Date.UTC(e,n,t)}function ile(e){var n;if(e=Ar(e),e===void 0||e==="millisecond"||!this.isValid())return this;var t=this._isUTC?tN:eN;switch(e){case"year":n=t(this.year(),0,1);break;case"quarter":n=t(this.year(),this.month()-this.month()%3,1);break;case"month":n=t(this.year(),this.month(),1);break;case"week":n=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=t(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Pl(n+(this._isUTC?0:this.utcOffset()*xl),Dg);break;case"minute":n=this._d.valueOf(),n-=Pl(n,xl);break;case"second":n=this._d.valueOf(),n-=Pl(n,$g);break}return this._d.setTime(n),we.updateOffset(this,!0),this}function ole(e){var n;if(e=Ar(e),e===void 0||e==="millisecond"||!this.isValid())return this;var t=this._isUTC?tN:eN;switch(e){case"year":n=t(this.year()+1,0,1)-1;break;case"quarter":n=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=t(this.year(),this.month()+1,1)-1;break;case"week":n=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=Dg-Pl(n+(this._isUTC?0:this.utcOffset()*xl),Dg)-1;break;case"minute":n=this._d.valueOf(),n+=xl-Pl(n,xl)-1;break;case"second":n=this._d.valueOf(),n+=$g-Pl(n,$g)-1;break}return this._d.setTime(n),we.updateOffset(this,!0),this}function ale(){return this._d.valueOf()-(this._offset||0)*6e4}function sle(){return Math.floor(this.valueOf()/1e3)}function lle(){return new Date(this.valueOf())}function ule(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function cle(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function fle(){return this.isValid()?this.toISOString():null}function hle(){return jS(this)}function dle(){return Xo({},ct(this))}function gle(){return ct(this).overflow}function ple(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Xe(0,["gg",2],0,function(){return this.weekYear()%100});Xe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ng(e,n){Xe(0,[e,e.length],0,n)}Ng("gggg","weekYear");Ng("ggggg","weekYear");Ng("GGGG","isoWeekYear");Ng("GGGGG","isoWeekYear");Dn("weekYear","gg");Dn("isoWeekYear","GG");Nn("weekYear",1);Nn("isoWeekYear",1);Fe("G",Og);Fe("g",Og);Fe("GG",Pt,fr);Fe("gg",Pt,fr);Fe("GGGG",QS,ZS);Fe("gggg",QS,ZS);Fe("GGGGG",Rg,Sg);Fe("ggggg",Rg,Sg);lf(["gggg","ggggg","GGGG","GGGGG"],function(e,n,t,r){n[r.substr(0,2)]=dt(e)});lf(["gg","GG"],function(e,n,t,r){n[r]=we.parseTwoDigitYear(e)});function vle(e){return nN.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mle(e){return nN.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function yle(){return ns(this.year(),1,4)}function ble(){var e=this.localeData()._week;return ns(this.year(),e.dow,e.doy)}function nN(e,n,t,r,i){var o;return e==null?ff(this,r,i).year:(o=ns(e,r,i),n>o&&(n=o),wle.call(this,e,n,t,r,i))}function wle(e,n,t,r,i){var o=$D(e,n,t,r,i),a=cf(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Xe("Q",0,"Qo","quarter");Dn("quarter","Q");Nn("quarter",7);Fe("Q",CD);It("Q",function(e,n){n[Gi]=(dt(e)-1)*3});function _le(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Xe("D",["DD",2],"Do","date");Dn("date","D");Nn("date",9);Fe("D",Pt);Fe("DD",Pt,fr);Fe("Do",function(e,n){return e?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient});It(["D","DD"],gi);It("Do",function(e,n){n[gi]=dt(e.match(Pt)[0])});var rN=kl("Date",!0);Xe("DDD",["DDDD",3],"DDDo","dayOfYear");Dn("dayOfYear","DDD");Nn("dayOfYear",4);Fe("DDD",Cg);Fe("DDDD",RD);It(["DDD","DDDD"],function(e,n,t){t._dayOfYear=dt(e)});function Sle(e){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?n:this.add(e-n,"d")}Xe("m",["mm",2],0,"minute");Dn("minute","m");Nn("minute",14);Fe("m",Pt);Fe("mm",Pt,fr);It(["m","mm"],zr);var Cle=kl("Minutes",!1);Xe("s",["ss",2],0,"second");Dn("second","s");Nn("second",15);Fe("s",Pt);Fe("ss",Pt,fr);It(["s","ss"],Ki);var Rle=kl("Seconds",!1);Xe("S",0,0,function(){return~~(this.millisecond()/100)});Xe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Xe(0,["SSS",3],0,"millisecond");Xe(0,["SSSS",4],0,function(){return this.millisecond()*10});Xe(0,["SSSSS",5],0,function(){return this.millisecond()*100});Xe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Xe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Xe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Xe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Dn("millisecond","ms");Nn("millisecond",16);Fe("S",Cg,CD);Fe("SS",Cg,fr);Fe("SSS",Cg,RD);var Zo;for(Zo="SSSS";Zo.length<=9;Zo+="S")Fe(Zo,qoe);function Ole(e,n){n[ts]=dt(("0."+e)*1e3)}for(Zo="S";Zo.length<=9;Zo+="S")It(Zo,Ole);var Ele=kl("Milliseconds",!1);Xe("z",0,0,"zoneAbbr");Xe("zz",0,0,"zoneName");function Tle(){return this._isUTC?"UTC":""}function kle(){return this._isUTC?"Coordinated Universal Time":""}var Ce=of.prototype;Ce.add=Hse;Ce.calendar=Vse;Ce.clone=Wse;Ce.diff=Xse;Ce.endOf=ole;Ce.format=Jse;Ce.from=ele;Ce.fromNow=tle;Ce.to=nle;Ce.toNow=rle;Ce.get=oae;Ce.invalidAt=gle;Ce.isAfter=jse;Ce.isBefore=Use;Ce.isBetween=zse;Ce.isSame=Yse;Ce.isSameOrAfter=Gse;Ce.isSameOrBefore=Kse;Ce.isValid=hle;Ce.lang=ZD;Ce.locale=qD;Ce.localeData=QD;Ce.max=mse;Ce.min=vse;Ce.parsingFlags=dle;Ce.set=aae;Ce.startOf=ile;Ce.subtract=Fse;Ce.toArray=ule;Ce.toObject=cle;Ce.toDate=lle;Ce.toISOString=Zse;Ce.inspect=Qse;Ce.toJSON=fle;Ce.toString=qse;Ce.unix=sle;Ce.valueOf=ale;Ce.creationData=ple;Ce.year=TD;Ce.isLeapYear=iae;Ce.weekYear=vle;Ce.isoWeekYear=mle;Ce.quarter=Ce.quarters=_le;Ce.month=PD;Ce.daysInMonth=dae;Ce.week=Ce.weeks=Cae;Ce.isoWeek=Ce.isoWeeks=Rae;Ce.weeksInYear=ble;Ce.isoWeeksInYear=yle;Ce.date=rN;Ce.day=Ce.days=$ae;Ce.weekday=Dae;Ce.isoWeekday=Nae;Ce.dayOfYear=Sle;Ce.hour=Ce.hours=Gae;Ce.minute=Ce.minutes=Cle;Ce.second=Ce.seconds=Rle;Ce.millisecond=Ce.milliseconds=Ele;Ce.utcOffset=Ose;Ce.utc=Tse;Ce.local=kse;Ce.parseZone=Ase;Ce.hasAlignedHourOffset=Mse;Ce.isDST=xse;Ce.isLocal=Ise;Ce.isUtcOffset=$se;Ce.isUtc=YD;Ce.isUTC=YD;Ce.zoneAbbr=Tle;Ce.zoneName=kle;Ce.dates=kr("dates accessor is deprecated. Use date instead.",rN);Ce.months=kr("months accessor is deprecated. Use month instead",PD);Ce.years=kr("years accessor is deprecated. Use year instead",TD);Ce.zone=kr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ese);Ce.isDSTShifted=kr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Pse);function Ale(e){return $t(e*1e3)}function Mle(){return $t.apply(null,arguments).parseZone()}function iN(e){return e}var At=GS.prototype;At.calendar=Noe;At.longDateFormat=Hoe;At.invalidDate=Boe;At.ordinal=joe;At.preparse=iN;At.postformat=iN;At.relativeTime=zoe;At.pastFuture=Yoe;At.set=$oe;At.months=uae;At.monthsShort=cae;At.monthsParse=hae;At.monthsRegex=mae;At.monthsShortRegex=pae;At.week=bae;At.firstDayOfYear=Sae;At.firstDayOfWeek=_ae;At.weekdays=kae;At.weekdaysMin=xae;At.weekdaysShort=Aae;At.weekdaysParse=Iae;At.weekdaysRegex=Hae;At.weekdaysShortRegex=Bae;At.weekdaysMinRegex=Wae;At.isPM=Uae;At.meridiem=Yae;function Lg(e,n,t,r){var i=qo(),o=fi().set(r,n);return i[t](o,e)}function oN(e,n,t){if(Ja(e)&&(n=e,e=void 0),e=e||"",n!=null)return Lg(e,n,t,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Lg(e,r,t,"month");return i}function pC(e,n,t,r){typeof e=="boolean"?(Ja(n)&&(t=n,n=void 0),n=n||""):(n=e,t=n,e=!1,Ja(n)&&(t=n,n=void 0),n=n||"");var i=qo(),o=e?i._week.dow:0;if(t!=null)return Lg(n,(t+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Lg(n,(a+o)%7,r,"day");return s}function xle(e,n){return oN(e,n,"months")}function Ple(e,n){return oN(e,n,"monthsShort")}function Ile(e,n,t){return pC(e,n,t,"weekdays")}function $le(e,n,t){return pC(e,n,t,"weekdaysShort")}function Dle(e,n,t){return pC(e,n,t,"weekdaysMin")}Al("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var n=e%10,t=dt(e%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return e+t}});we.lang=kr("moment.lang is deprecated. Use moment.locale instead.",Al);we.langData=kr("moment.langData is deprecated. Use moment.localeData instead.",qo);var Xi=Math.abs;function Nle(){var e=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),e.milliseconds=Xi(e.milliseconds),e.seconds=Xi(e.seconds),e.minutes=Xi(e.minutes),e.hours=Xi(e.hours),e.months=Xi(e.months),e.years=Xi(e.years),this}function aN(e,n,t,r){var i=Yr(n,t);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Lle(e,n){return aN(this,e,n,1)}function Hle(e,n){return aN(this,e,n,-1)}function sN(e){return e<0?Math.floor(e):Math.ceil(e)}function Fle(){var e=this._milliseconds,n=this._days,t=this._months,r=this._data,i,o,a,s,l;return e>=0&&n>=0&&t>=0||e<=0&&n<=0&&t<=0||(e+=sN(vC(t)+n)*864e5,n=0,t=0),r.milliseconds=e%1e3,i=Tr(e/1e3),r.seconds=i%60,o=Tr(i/60),r.minutes=o%60,a=Tr(o/60),r.hours=a%24,n+=Tr(a/24),l=Tr(lN(n)),t+=l,n-=sN(vC(l)),s=Tr(t/12),t%=12,r.days=n,r.months=t,r.years=s,this}function lN(e){return e*4800/146097}function vC(e){return e*146097/4800}function Ble(e){if(!this.isValid())return NaN;var n,t,r=this._milliseconds;if(e=Ar(e),e==="month"||e==="quarter"||e==="year")switch(n=this._days+r/864e5,t=this._months+lN(n),e){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(n=this._days+Math.round(vC(this._months)),e){case"week":return n/7+r/6048e5;case"day":return n+r/864e5;case"hour":return n*24+r/36e5;case"minute":return n*1440+r/6e4;case"second":return n*86400+r/1e3;case"millisecond":return Math.floor(n*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Vle(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+dt(this._months/12)*31536e6:NaN}function qi(e){return function(){return this.as(e)}}var Wle=qi("ms"),jle=qi("s"),Ule=qi("m"),zle=qi("h"),Yle=qi("d"),Gle=qi("w"),Kle=qi("M"),Xle=qi("Q"),qle=qi("y");function Zle(){return Yr(this)}function Qle(e){return e=Ar(e),this.isValid()?this[e+"s"]():NaN}function is(e){return function(){return this.isValid()?this._data[e]:NaN}}var Jle=is("milliseconds"),eue=is("seconds"),tue=is("minutes"),nue=is("hours"),rue=is("days"),iue=is("months"),oue=is("years");function aue(){return Tr(this.days()/7)}var Qo=Math.round,pi={ss:44,s:45,m:45,h:22,d:26,M:11};function sue(e,n,t,r,i){return i.relativeTime(n||1,!!t,e,r)}function lue(e,n,t){var r=Yr(e).abs(),i=Qo(r.as("s")),o=Qo(r.as("m")),a=Qo(r.as("h")),s=Qo(r.as("d")),l=Qo(r.as("M")),u=Qo(r.as("y")),c=i<=pi.ss&&["s",i]||i<pi.s&&["ss",i]||o<=1&&["m"]||o<pi.m&&["mm",o]||a<=1&&["h"]||a<pi.h&&["hh",a]||s<=1&&["d"]||s<pi.d&&["dd",s]||l<=1&&["M"]||l<pi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=n,c[3]=+e>0,c[4]=t,sue.apply(null,c)}function uue(e){return e===void 0?Qo:typeof e=="function"?(Qo=e,!0):!1}function cue(e,n){return pi[e]===void 0?!1:n===void 0?pi[e]:(pi[e]=n,e==="s"&&(pi.ss=n-1),!0)}function fue(e){if(!this.isValid())return this.localeData().invalidDate();var n=this.localeData(),t=lue(this,!e,n);return e&&(t=n.pastFuture(+this,t)),n.postformat(t)}var mC=Math.abs;function Il(e){return(e>0)-(e<0)||+e}function Hg(){if(!this.isValid())return this.localeData().invalidDate();var e=mC(this._milliseconds)/1e3,n=mC(this._days),t=mC(this._months),r,i,o;r=Tr(e/60),i=Tr(r/60),e%=60,r%=60,o=Tr(t/12),t%=12;var a=o,s=t,l=n,u=i,c=r,f=e?e.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",g=Il(this._months)!==Il(h)?"-":"",p=Il(this._days)!==Il(h)?"-":"",v=Il(this._milliseconds)!==Il(h)?"-":"";return d+"P"+(a?g+a+"Y":"")+(s?g+s+"M":"")+(l?p+l+"D":"")+(u||c||f?"T":"")+(u?v+u+"H":"")+(c?v+c+"M":"")+(f?v+f+"S":"")}var vt=Ig.prototype;vt.isValid=Sse;vt.abs=Nle;vt.add=Lle;vt.subtract=Hle;vt.as=Ble;vt.asMilliseconds=Wle;vt.asSeconds=jle;vt.asMinutes=Ule;vt.asHours=zle;vt.asDays=Yle;vt.asWeeks=Gle;vt.asMonths=Kle;vt.asQuarters=Xle;vt.asYears=qle;vt.valueOf=Vle;vt._bubble=Fle;vt.clone=Zle;vt.get=Qle;vt.milliseconds=Jle;vt.seconds=eue;vt.minutes=tue;vt.hours=nue;vt.days=rue;vt.weeks=aue;vt.months=iue;vt.years=oue;vt.humanize=fue;vt.toISOString=Hg;vt.toString=Hg;vt.toJSON=Hg;vt.locale=qD;vt.localeData=QD;vt.toIsoString=kr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hg);vt.lang=ZD;Xe("X",0,0,"unix");Xe("x",0,0,"valueOf");Fe("x",Og);Fe("X",Qoe);It("X",function(e,n,t){t._d=new Date(parseFloat(e,10)*1e3)});It("x",function(e,n,t){t._d=new Date(dt(e))});//! moment.js
we.version="2.24.0";xoe($t);we.fn=Ce;we.min=yse;we.max=bse;we.now=wse;we.utc=fi;we.unix=Ale;we.months=xle;we.isDate=yg;we.locale=Al;we.invalid=bg;we.duration=Yr;we.isMoment=hi;we.weekdays=Ile;we.parseZone=Mle;we.localeData=qo;we.isDuration=uC;we.monthsShort=Ple;we.weekdaysMin=Dle;we.defineLocale=iC;we.updateLocale=Xae;we.locales=qae;we.weekdaysShort=$le;we.normalizeUnits=Ar;we.relativeTimeRounding=uue;we.relativeTimeThreshold=cue;we.calendarFormat=Bse;we.prototype=Ce;we.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Mt(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=Qt(e,function(o,a,s){var l=a.replace(/\r?\n\s*/g,""),u=t[s]?t[s]:"";return o+l+u},"");return i.trim()}var uN,cN,fN,hN,dN,gN;function $l(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Fg(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fg=function(t){return typeof t}:Fg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function zt(e){var n;switch(Fg(e)){case"string":case"number":n="".concat(e);break;case"object":n=e===null?"":e.toString();break;case"undefined":n="";break;default:n=e.toString();break}return n}function je(e){return typeof e!="undefined"}function Dt(e){return typeof e=="undefined"}function cn(e){return e===null||e===""||Dt(e)}function pN(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var pf="length",vf=function(n){return parseInt(n,16)},vN=function(n){return parseInt(n,10)},Bg=function(n,t,r){return n.substr(t,r)},mf=function(n){return n.codePointAt(0)-65},yC=function(n){return"".concat(n).replace(/\-/g,"")},hue=function(n){return vf(Bg(yC(n),vf("12"),mf("F")))/(vf(Bg(yC(n),mf("B"),~~![][pf]))||9)},due=function(){return typeof location!="undefined"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)},mN=!1,yN={invalid:function(){return Mt(uN||(uN=$l([`
    The license key for Handsontable is invalid. 
    If you need any help, contact us at support@handsontable.com.`],[`
    The license key for Handsontable is invalid.\\x20
    If you need any help, contact us at support@handsontable.com.`])))},expired:function(n){var t=n.keyValidityDate,r=n.hotVersion;return Mt(cN||(cN=$l([`
    The license key for Handsontable expired on `,`, and is not valid for the installed 
    version `,`. Renew your license key at handsontable.com or downgrade to a version released prior 
    to `,". If you need any help, contact us at sales@handsontable.com."],[`
    The license key for Handsontable expired on `,`, and is not valid for the installed\\x20
    version `,`. Renew your license key at handsontable.com or downgrade to a version released prior\\x20
    to `,". If you need any help, contact us at sales@handsontable.com."])),t,r,t)},missing:function(){return Mt(fN||(fN=$l([`
    The license key for Handsontable is missing. Use your purchased key to activate the product. 
    Alternatively, you can activate Handsontable to use for non-commercial purposes by 
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact 
    us at support@handsontable.com.`],[`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20
    us at support@handsontable.com.`])))},non_commercial:function(){return""}},bN={invalid:function(){return Mt(hN||(hN=$l([`
    The license key for Handsontable is invalid. 
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to 
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`],[`
    The license key for Handsontable is invalid.\\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`])))},expired:function(n){var t=n.keyValidityDate,r=n.hotVersion;return Mt(dN||(dN=$l([`
    The license key for Handsontable expired on `,`, and is not valid for the installed 
    version `,`. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your 
    license key or downgrade to a version released prior to `,`. If you need any 
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`],[`
    The license key for Handsontable expired on `,`, and is not valid for the installed\\x20
    version `,`. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20
    license key or downgrade to a version released prior to `,`. If you need any\\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`])),t,r,t)},missing:function(){return Mt(gN||(gN=$l([`
    The license key for Handsontable is missing. Use your purchased key to activate the product. 
    Alternatively, you can activate Handsontable to use for non-commercial purposes by 
    passing the key: 'non-commercial-and-evaluation'. 
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in 
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`],[`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20
    passing the key: 'non-commercial-and-evaluation'.\\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`])))},non_commercial:function(){return""}};function wN(e,n){var t=!cn(e),r=typeof e=="string"&&e.toLowerCase()==="non-commercial-and-evaluation",i="11.0.1",o,a="invalid",s="invalid";e=yC(e||"");var l=gue(e);if(t||r||l)if(l){var u=we("17/11/2021","DD/MM/YYYY"),c=Math.floor(u.toDate().getTime()/864e5),f=hue(e);if(o=we((f+1)*864e5,"x").format("MMMM DD, YYYY"),c>f){var h=we().diff(u,"days");a=h<=1?"valid":"expired",s=h<=15?"valid":"expired"}else a="valid",s="valid"}else r?(a="non_commercial",s="valid"):(a="invalid",s="invalid");else a="missing",s="missing";if(due()&&(a="valid",s="valid"),!mN&&a!=="valid"){var d=yN[a]({keyValidityDate:o,hotVersion:i});d&&console[a==="non_commercial"?"info":"warn"](yN[a]({keyValidityDate:o,hotVersion:i})),mN=!0}if(s!=="valid"&&n.parentNode){var g=bN[s]({keyValidityDate:o,hotVersion:i});if(g){var p=document.createElement("div");p.id="hot-display-license-info",p.innerHTML=bN[s]({keyValidityDate:o,hotVersion:i}),n.parentNode.insertBefore(p,n.nextSibling)}}}function gue(e){var n=[][pf],t=n;if(e[pf]!==mf("Z"))return!1;for(var r="",i="B<H4P+".split(""),o=mf(i.shift());o;o=mf(i.shift()||"A"))--o<""[pf]?t=t|(vN("".concat(vN(vf(r)+(vf(Bg(e,Math.abs(o),2))+[]).padStart(2,"0"))))%97||2)>>1:r=Bg(e,o,o?i[pf]===1?9:8:6);return t===n}var pue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",stringify:zt,isDefined:je,isUndefined:Dt,isEmpty:cn,isRegExp:pN,_injectProductInfo:wN});function Gr(e){return e[0].toUpperCase()+e.substr(1)}function vue(){for(var e=[],n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(var i=t.length;i;){i-=1;var o=zt(t[i]).toLowerCase();e.indexOf(o)===-1&&e.push(o)}return e.length===1}function bC(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+e()+e()}function wC(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)}function _C(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"".concat(e).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,r){return t.charAt(0)==="\\"?t.substr(1,t.length-1):n[r]===void 0?"":n[r]})}function SC(e){return Vg("".concat(e),{ALLOWED_TAGS:[]})}function Vg(e,n){return ooe.sanitize(e,n)}var mue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toUpperCaseFirst:Gr,equalsIgnoreCase:vue,randomString:bC,isPercentValue:wC,substitute:_C,stripTags:SC,sanitize:Vg});function _N(e){return _ue(e)||wue(e)||bue(e)||yue()}function yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(e,n){if(!!e){if(typeof e=="string")return CC(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CC(e,n)}}function wue(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ue(e){if(Array.isArray(e))return CC(e)}function CC(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function SN(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,r=null,i=e;i!==null;){if(t===n){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(t+=1,i=i.parentNode)}return r}function CN(e){return Object.getPrototypeOf(e.parent)&&e.frameElement}function Wg(e){return CN(e)&&e.parent}function Sue(e){return!!Object.getPrototypeOf(e.parent)}function Zi(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Node,i=r.ELEMENT_NODE,o=r.DOCUMENT_FRAGMENT_NODE,a=e;a!=null&&a!==t;){var s=a,l=s.nodeType,u=s.nodeName;if(l===i&&(n.includes(u)||n.includes(a)))return a;var c=a,f=c.host;f&&l===o?a=f:a=a.parentNode}return null}function yf(e,n,t){for(var r=[],i=e;i&&(i=Zi(i,n,t),!(!i||t&&!t.contains(i)));)r.push(i),i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode;var o=r.length;return o?r[o-1]:null}function Jo(e,n){var t=e.parentNode,r=[];for(typeof n=="string"?e.defaultView?r=Array.prototype.slice.call(e.querySelectorAll(n),0):r=Array.prototype.slice.call(e.ownerDocument.querySelectorAll(n),0):r.push(n);t!==null;){if(r.indexOf(t)>-1)return!0;t=t.parentNode}return!1}function RN(e){var n=0,t=e;if(t.previousSibling)for(;t=t.previousSibling;)n+=1;return n}function ea(e,n,t){var r=t.parentElement.querySelector(".ht_clone_".concat(e));return r?r.contains(n):null}var RC,OC,EC;function jg(e){return!e||!e.length?[]:e.filter(function(n){return!!n})}if(b$()){var ON=function(n){var t=n.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")};RC=function(n,t){return n.classList===void 0||typeof t!="string"||t===""?!1:n.classList.contains(t)},OC=function(n,t){var r=n.ownerDocument,i=t;if(typeof i=="string"&&(i=i.split(" ")),i=jg(i),i.length>0)if(ON(r)){var o;(o=n.classList).add.apply(o,_N(i))}else for(var a=0;i[a];)n.classList.add(i[a]),a+=1},EC=function(n,t){var r=n.ownerDocument,i=t;if(typeof i=="string"&&(i=i.split(" ")),i=jg(i),i.length>0)if(ON(r)){var o;(o=n.classList).remove.apply(o,_N(i))}else for(var a=0;i[a];)n.classList.remove(i[a]),a+=1}}else{var TC=function(n){return new RegExp("(\\s|^)".concat(n,"(\\s|$)"))};RC=function(n,t){return n.className!==void 0&&TC(t).test(n.className)},OC=function(n,t){var r=n.className,i=t;if(typeof i=="string"&&(i=i.split(" ")),i=jg(i),r==="")r=i.join(" ");else for(var o=0;o<i.length;o++)i[o]&&!TC(i[o]).test(r)&&(r+=" ".concat(i[o]));n.className=r},EC=function(n,t){var r=0,i=n.className,o=t;for(typeof o=="string"&&(o=o.split(" ")),o=jg(o);o[r];)i=i.replace(TC(o[r])," ").trim(),r+=1;n.className!==i&&(n.className=i)}}function ze(e,n){return RC(e,n)}function ve(e,n){OC(e,n)}function Je(e,n){EC(e,n)}function kC(e){if(e.nodeType===3)e.parentNode.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1)for(var n=e.childNodes,t=n.length-1;t>=0;t--)kC(n[t])}function Mr(e){for(var n;n=e.lastChild;)e.removeChild(n)}var EN=/(<(.*)>|&(.*);)/;function ta(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;EN.test(n)?e.innerHTML=t?Vg(n):n:na(e,n)}function na(e,n){var t=e.firstChild;t&&t.nodeType===3&&t.nextSibling===null?w$?t.textContent=n:t.data=n:(Mr(e),e.appendChild(e.ownerDocument.createTextNode(n)))}function Dl(e){for(var n=e.ownerDocument.documentElement,t=e;t!==n;){if(t===null)return!1;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(t.host){if(t.host.impl)return Dl(t.host.impl);if(t.host)return Dl(t.host);throw new Error("Lost in Web Components world")}else return!1;else if(t.style&&t.style.display==="none")return!1;t=t.parentNode}return!0}function Wt(e){var n=e.ownerDocument,t=n.defaultView,r=n.documentElement,i=e,o,a,s,l;if(yS()&&i.firstChild&&i.firstChild.nodeName==="CAPTION")return l=i.getBoundingClientRect(),{top:l.top+(t.pageYOffset||r.scrollTop)-(r.clientTop||0),left:l.left+(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(o=i.offsetLeft,a=i.offsetTop,s=i;(i=i.offsetParent)&&i!==n.body;)o+=i.offsetLeft,a+=i.offsetTop,s=i;return s&&s.style.position==="fixed"&&(o+=t.pageXOffset||r.scrollLeft,a+=t.pageYOffset||r.scrollTop),{left:o,top:a}}function os(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,n=e.scrollY;return n===void 0&&(n=e.document.documentElement.scrollTop),n}function ra(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,n=e.scrollX;return n===void 0&&(n=e.document.documentElement.scrollLeft),n}function bf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e===n?os(n):e.scrollTop}function Ug(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e===n?ra(n):e.scrollLeft}function wf(e){var n=e.ownerDocument,t=n?n.defaultView:void 0;n||(n=e.document?e.document:e,t=n.defaultView);for(var r=["auto","scroll"],i=_$(),o=e.parentNode;o&&o.style&&n.body!==o;){var a=o.style,s=a.overflow,l=a.overflowX,u=a.overflowY;if([s,l,u].includes("scroll"))return o;if(i){var c=t.getComputedStyle(o);if(s=c.overflow,l=c.overflowX,u=c.overflowY,r.includes(s)||r.includes(l)||r.includes(u))return o}if(o.clientHeight<=o.scrollHeight+1&&(r.includes(u)||r.includes(s))||o.clientWidth<=o.scrollWidth+1&&(r.includes(l)||r.includes(s)))return o;o=o.parentNode}return t}function Nl(e){for(var n=e.ownerDocument,t=n.defaultView,r=e.parentNode;r&&r.style&&n.body!==r;){if(r.style.overflow!=="visible"&&r.style.overflow!=="")return r;var i=as(r,t),o=["scroll","hidden","auto"],a=i.getPropertyValue("overflow"),s=i.getPropertyValue("overflow-y"),l=i.getPropertyValue("overflow-x");if(o.includes(a)||o.includes(s)||o.includes(l))return r;r=r.parentNode}return t}function zg(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(e){if(e===t)return n==="width"?"".concat(t.innerWidth,"px"):n==="height"?"".concat(t.innerHeight,"px"):void 0}else return;var r=e.style[n];if(r!==""&&r!==void 0)return r;var i=as(e,t);if(i[n]!==""&&i[n]!==void 0)return i[n]}function Cue(e,n){var t=n.selectorText,r=!1;return n.type===CSSRule.STYLE_RULE&&t&&(e.msMatchesSelector?r=e.msMatchesSelector(t):e.matches&&(r=e.matches(t))),r}function as(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e.currentStyle||n.getComputedStyle(e)}function jt(e){return Math.ceil(e.getBoundingClientRect().width)}function Jt(e){return yS()&&e.firstChild&&e.firstChild.nodeName==="CAPTION"?e.offsetHeight+e.firstChild.offsetHeight:e.offsetHeight}function Qi(e){return e.clientHeight||e.innerHeight}function Ll(e){return e.clientWidth||e.innerWidth}function Rue(e,n,t){e.addEventListener(n,t,!1)}function Oue(e,n,t){e.removeEventListener(n,t,!1)}function AC(e){var n=e.ownerDocument;if(e.selectionStart)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange();if(t===null)return 0;var r=e.createTextRange(),i=r.duplicate();return r.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",r),i.text.length}return 0}function TN(e){var n=e.ownerDocument;if(e.selectionEnd)return e.selectionEnd;if(n.selection){var t=n.selection.createRange();if(t===null)return 0;var r=e.createTextRange();return r.text.indexOf(t.text)+t.text.length}return 0}function kN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,n=e.document,t="";return e.getSelection?t=e.getSelection().toString():n.selection&&n.selection.type!=="Control"&&(t=n.selection.createRange().text),t}function MC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window,n=e.document;e.getSelection?e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges():n.selection&&n.selection.empty()}function _f(e,n,t){if(t===void 0&&(t=n),e.setSelectionRange){e.focus();try{e.setSelectionRange(n,t)}catch{var r=e.parentNode,i=r.style.display;r.style.display="block",e.setSelectionRange(n,t),r.style.display=i}}}var xC;function Eue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,n=e.createElement("div");n.style.height="200px",n.style.width="100%";var t=e.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(n),(e.body||e.documentElement).appendChild(t);var r=n.offsetWidth;t.style.overflow="scroll";var i=n.offsetWidth;return r===i&&(i=t.clientWidth),(e.body||e.documentElement).removeChild(t),r-i}function wn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return xC===void 0&&(xC=Eue(e)),xC}function AN(e){return e.offsetWidth!==e.clientWidth}function MN(e){return e.offsetHeight!==e.clientHeight}function Yg(e,n,t){Z$()?(e.style.top=t,e.style.left=n):K$()?e.style["-webkit-transform"]="translate3d(".concat(n,",").concat(t,",0)"):e.style.transform="translate3d(".concat(n,",").concat(t,",0)")}function Kr(e){var n;return e.style.transform&&(n=e.style.transform)!==""?["transform",n]:e.style["-webkit-transform"]&&(n=e.style["-webkit-transform"])!==""?["-webkit-transform",n]:-1}function ss(e){e.style.transform&&e.style.transform!==""?e.style.transform="":e.style["-webkit-transform"]&&e.style["-webkit-transform"]!==""&&(e.style["-webkit-transform"]="")}function Sf(e){var n=["INPUT","SELECT","TEXTAREA"];return e&&(n.indexOf(e.nodeName)>-1||e.contentEditable==="true")}function PC(e){return Sf(e)&&e.hasAttribute("data-hot-input")===!1}function xN(e){var n=e.ownerDocument.activeElement;PC(n)||e.select()}function IC(e){return!e.parentNode}var Tue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getParent:SN,getFrameElement:CN,getParentWindow:Wg,hasAccessToParentWindow:Sue,closest:Zi,closestDown:yf,isChildOf:Jo,index:RN,overlayContainsElement:ea,hasClass:ze,addClass:ve,removeClass:Je,removeTextNodes:kC,empty:Mr,HTML_CHARACTERS:EN,fastInnerHTML:ta,fastInnerText:na,isVisible:Dl,offset:Wt,getWindowScrollTop:os,getWindowScrollLeft:ra,getScrollTop:bf,getScrollLeft:Ug,getScrollableElement:wf,getTrimmingContainer:Nl,getStyle:zg,matchesCSSRules:Cue,getComputedStyle:as,outerWidth:jt,outerHeight:Jt,innerHeight:Qi,innerWidth:Ll,addEvent:Rue,removeEvent:Oue,getCaretPosition:AC,getSelectionEndPosition:TN,getSelectionText:kN,clearTextSelection:MC,setCaretPosition:_f,getScrollbarWidth:wn,hasVerticalScrollbar:AN,hasHorizontalScrollbar:MN,setOverlayPosition:Yg,getCssTransform:Kr,resetCssTransform:ss,isInput:Sf,isOutsideInput:PC,selectElementIfAllowed:xN,isDetached:IC});function xt(e){return typeof e=="function"}function PN(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,t=0,r={lastCallThrottled:!0},i=null;function o(){for(var a=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=Date.now(),f=!1;r.lastCallThrottled=!0,t||(t=c,f=!0);var h=n-(c-t);return f?(r.lastCallThrottled=!1,e.apply(this,l)):(i&&clearTimeout(i),i=setTimeout(function(){r.lastCallThrottled=!1,e.apply(a,l),t=0,i=void 0},h)),r}return o}function kue(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=PN(e,n),i=t;function o(){i=t}function a(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return i?(i-=1,e.apply(this,l)):r.apply(this,l)}return a.clearHits=o,a}function $C(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,t=null,r;function i(){for(var o=this,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t&&clearTimeout(t),t=setTimeout(function(){r=e.apply(o,s)},n),r}return i}function Aue(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n[0],i=n.slice(1);return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return Qt(i,function(u,c){return c(u)},r.apply(this,s))}}function Cf(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e.apply(this,t.concat(a))}}function IN(e){var n=e.length;function t(r){return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=r.concat(a),u;return l.length>=n?u=e.apply(this,l):u=t(l),u}}return t([])}function Mue(e){var n=e.length;function t(r){return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=r.concat(a.reverse()),u;return l.length>=n?u=e.apply(this,l):u=t(l),u}}return t([])}function Gg(e,n,t,r,i,o,a,s){return je(s)?e.call(n,t,r,i,o,a,s):je(a)?e.call(n,t,r,i,o,a):je(o)?e.call(n,t,r,i,o):je(i)?e.call(n,t,r,i):je(r)?e.call(n,t,r):je(t)?e.call(n,t):e.call(n)}var xue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isFunction:xt,throttle:PN,throttleAfterHits:kue,debounce:$C,pipe:Aue,partial:Cf,curry:IN,curryRight:Mue,fastCall:Gg}),Pue=Qe,$N=ES,Kg=Rl.exports.getWeakData,Iue=rn,DC=nn,$ue=CS,Due=SS,DN=ja,NN=vn,LN=Hi,Nue=LN.set,Lue=LN.getterFor,Hue=DN.find,Fue=DN.findIndex,Bue=Pue([].splice),Vue=0,Xg=function(e){return e.frozen||(e.frozen=new HN)},HN=function(){this.entries=[]},NC=function(e,n){return Hue(e.entries,function(t){return t[0]===n})};HN.prototype={get:function(e){var n=NC(this,e);if(n)return n[1]},has:function(e){return!!NC(this,e)},set:function(e,n){var t=NC(this,e);t?t[1]=n:this.entries.push([e,n])},delete:function(e){var n=Fue(this.entries,function(t){return t[0]===e});return~n&&Bue(this.entries,n,1),!!~n}};var FN={getConstructor:function(e,n,t,r){var i=e(function(l,u){$ue(l,o),Nue(l,{type:n,id:Vue++,frozen:void 0}),u!=null&&Due(u,l[r],{that:l,AS_ENTRIES:t})}),o=i.prototype,a=Lue(n),s=function(l,u,c){var f=a(l),h=Kg(Iue(u),!0);return h===!0?Xg(f).set(u,c):h[f.id]=c,l};return $N(o,{delete:function(l){var u=a(this);if(!DC(l))return!1;var c=Kg(l);return c===!0?Xg(u).delete(l):c&&NN(c,u.id)&&delete c[u.id]},has:function(u){var c=a(this);if(!DC(u))return!1;var f=Kg(u);return f===!0?Xg(c).has(u):f&&NN(f,c.id)}}),$N(o,t?{get:function(u){var c=a(this);if(DC(u)){var f=Kg(u);return f===!0?Xg(c).get(u):f?f[c.id]:void 0}},set:function(u,c){return s(this,u,c)}}:{add:function(u){return s(this,u,!0)}}),i}},BN=We,qg=Qe,Wue=ES,jue=Rl.exports,Uue=cg,VN=FN,Zg=nn,Qg=O$,Jg=Hi.enforce,zue=ZM,Yue=!BN.ActiveXObject&&"ActiveXObject"in BN,Rf,WN=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Gue=Uue("WeakMap",WN,VN);if(zue&&Yue){Rf=VN.getConstructor(WN,"WeakMap",!0),jue.enable();var Of=Gue.prototype,jN=qg(Of.delete),ep=qg(Of.has),UN=qg(Of.get),zN=qg(Of.set);Wue(Of,{delete:function(e){if(Zg(e)&&!Qg(e)){var n=Jg(this);return n.frozen||(n.frozen=new Rf),jN(this,e)||n.frozen.delete(e)}return jN(this,e)},has:function(n){if(Zg(n)&&!Qg(n)){var t=Jg(this);return t.frozen||(t.frozen=new Rf),ep(this,n)||t.frozen.has(n)}return ep(this,n)},get:function(n){if(Zg(n)&&!Qg(n)){var t=Jg(this);return t.frozen||(t.frozen=new Rf),ep(this,n)?UN(this,n):t.frozen.get(n)}return UN(this,n)},set:function(n,t){if(Zg(n)&&!Qg(n)){var r=Jg(this);r.frozen||(r.frozen=new Rf),ep(this,n)?zN(this,n,t):r.frozen.set(n,t)}else zN(this,n,t);return this}})}var ls=1,xr=2;function Kue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YN(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xue(e,n,t){return n&&YN(e.prototype,n),t&&YN(e,t),e}var Hl=new WeakMap,que=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.viewportSize,r=n.scrollOffset,i=n.totalItems,o=n.itemSizeFn,a=n.overrideFn,s=n.calculationType,l=n.stretchMode,u=n.stretchingItemWidthFn,c=u===void 0?function(f){return f}:u;Kue(this,e),Hl.set(this,{viewportWidth:t,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:a,calculationType:s,stretchingColumnWidthFn:c}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=l,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return Xue(e,[{key:"calculate",value:function(){for(var t=0,r=!0,i=[],o,a=Hl.get(this),s=a.calculationType,l=a.overrideFn,u=a.scrollOffset,c=a.totalColumns,f=a.viewportWidth,h=0;h<c;h++){o=this._getColumnWidth(h),t<=u&&s!==xr&&(this.startColumn=h);var d=u>0?f+1:f;if(t>=u&&t+(s===xr?o:0)<=u+d&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=h),this.endColumn=h),i.push(t),t+=o,s!==xr&&(this.endColumn=h),t>=u+f){r=!1;break}}if(this.endColumn===c-1&&r)for(this.startColumn=this.endColumn;this.startColumn>0;){var g=i[this.endColumn]+o-i[this.startColumn-1];if((g<=f||s!==xr)&&(this.startColumn-=1),g>f)break}s===ls&&this.startColumn!==null&&l&&l(this),this.startPosition=i[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),c<this.endColumn&&(this.endColumn=c-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if(this.stretch!=="none"){var r=t;this.totalTargetWidth=r;for(var i=Hl.get(this),o=i.totalColumns,a=0,s=0;s<o;s++){var l=this._getColumnWidth(s),u=i.stretchingColumnWidthFn(void 0,s);typeof u=="number"?r-=u:a+=l}var c=r-a;if(this.stretch==="all"&&c>0)this.stretchAllRatio=r/a,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(this.stretch==="last"&&r!==1/0){var f=this._getColumnWidth(o-1),h=c+f;this.stretchLastWidth=h>=0?h:f}}}},{key:"getStretchedColumnWidth",value:function(t,r){var i=null;return this.stretch==="all"&&this.stretchAllRatio!==0?i=this._getStretchedAllColumnWidth(t,r):this.stretch==="last"&&this.stretchLastWidth!==0&&(i=this._getStretchedLastColumnWidth(t)),i}},{key:"_getStretchedAllColumnWidth",value:function(t,r){var i=0,o=Hl.get(this),a=o.totalColumns;if(!this.stretchAllColumnsWidth[t]){var s=Math.round(r*this.stretchAllRatio),l=o.stretchingColumnWidthFn(s,t);l===void 0?this.stretchAllColumnsWidth[t]=s:this.stretchAllColumnsWidth[t]=isNaN(l)?this._getColumnWidth(t):l}if(this.stretchAllColumnsWidth.length===a&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var u=0;u<this.stretchAllColumnsWidth.length;u++)i+=this.stretchAllColumnsWidth[u];i!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-i)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){var r=Hl.get(this),i=r.totalColumns;return t===i-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var r=Hl.get(this).columnWidthFn(t);return isNaN(r)&&(r=e.DEFAULT_WIDTH),r}}],[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),e}(),LC=que;function Zue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GN(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Que(e,n,t){return n&&GN(e.prototype,n),t&&GN(e,t),e}var KN=new WeakMap,Jue=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.viewportSize,r=n.scrollOffset,i=n.totalItems,o=n.itemSizeFn,a=n.overrideFn,s=n.calculationType,l=n.scrollbarHeight;Zue(this,e),KN.set(this,{viewportHeight:t,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:a,calculationType:s,horizontalScrollbarHeight:l}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return Que(e,[{key:"calculate",value:function(){for(var t=0,r=!0,i=[],o=KN.get(this),a=o.calculationType,s=o.overrideFn,l=o.rowHeightFn,u=o.scrollOffset,c=o.totalRows,f=o.viewportHeight,h=o.horizontalScrollbarHeight||0,d,g=0;g<c;g++)if(d=l(g),isNaN(d)&&(d=e.DEFAULT_HEIGHT),t<=u&&a!==xr&&(this.startRow=g),t>=u&&t+(a===xr?d:0)<=u+f-h&&(this.startRow===null&&(this.startRow=g),this.endRow=g),i.push(t),t+=d,a!==xr&&(this.endRow=g),t>=u+f-h){r=!1;break}if(this.endRow===c-1&&r)for(this.startRow=this.endRow;this.startRow>0;){var p=i[this.endRow]+d-i[this.startRow-1];if((p<=f-h||a!==xr)&&(this.startRow-=1),p>=f-h)break}a===ls&&this.startRow!==null&&s&&s(this),this.startPosition=i[this.startRow],this.startPosition===void 0&&(this.startPosition=null),c<this.endRow&&(this.endRow=c-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}],[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),e}(),XN=Jue;function ece(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function qN(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tce(e,n,t){return n&&qN(e.prototype,n),t&&qN(e,t),e}var nce=function(){function e(n,t){ece(this,e),this.row=null,this.col=null,typeof n!="undefined"&&typeof t!="undefined"&&(this.row=n,this.col=t)}return tce(e,[{key:"isValid",value:function(t){return!(this.row<0||this.col<0||this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this?!0:this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&this.col>=t.col}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&this.col<=t.col}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&this.col<=t.col}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&this.col>=t.col}},{key:"normalize",value:function(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}},{key:"clone",value:function(){return new e(this.row,this.col)}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),e}(),ae=nce;function rce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZN(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ice(e,n,t){return n&&ZN(e.prototype,n),t&&ZN(e,t),e}var oce=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;rce(this,e),this.highlight=n.clone().normalize(),this.from=t.clone(),this.to=r.clone()}return ice(e,[{key:"setHighlight",value:function(t){return this.highlight=t.clone().normalize(),this}},{key:"setFrom",value:function(t){return this.from=t.clone(),this}},{key:"setTo",value:function(t){return this.to=t.clone(),this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}},{key:"getOuterHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getOuterWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"getHeight",value:function(){var t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"getWidth",value:function(){var t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}},{key:"includes",value:function(t){var r=t.row,i=t.col,o=this.getOuterTopLeftCorner(),a=this.getOuterBottomRightCorner();return o.row<=r&&a.row>=r&&o.col<=i&&a.col>=i}},{key:"includesRange",value:function(t){return this.includes(t.getOuterTopLeftCorner())&&this.includes(t.getOuterBottomRightCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getOuterTopRightCorner().col>=t.getOuterTopLeftCorner().col&&this.getOuterTopRightCorner().col<=t.getOuterTopRightCorner().col||this.getOuterTopLeftCorner().col<=t.getOuterTopRightCorner().col&&this.getOuterTopLeftCorner().col>=t.getOuterTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getOuterBottomRightCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomRightCorner().row<=t.getOuterBottomRightCorner().row||this.getOuterTopRightCorner().row<=t.getOuterBottomRightCorner().row&&this.getOuterTopRightCorner().row>=t.getOuterTopRightCorner().row}},{key:"expand",value:function(t){var r=this.getOuterTopLeftCorner(),i=this.getOuterBottomRightCorner();return t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col?(this.from=new ae(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=new ae(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0):!1}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var r=this.getOuterTopLeftCorner(),i=this.getOuterBottomRightCorner(),o=this.getDirection(),a=t.getOuterTopLeftCorner(),s=t.getOuterBottomRightCorner(),l=Math.min(r.row,a.row),u=Math.min(r.col,a.col),c=Math.max(i.row,s.row),f=Math.max(i.col,s.col),h=new ae(l,u),d=new ae(c,f);return this.from=h,this.to=d,this.setDirection(o),this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var r=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];this.from=r[0],this.to=r[1];break;case"NE-SW":var i=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];this.from=i[0],this.to=i[1];break;case"SE-NW":var o=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];this.from=o[0],this.to=o[1];break;case"SW-NE":var a=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];this.from=a[0],this.to=a[1];break}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){var t=this.getDirection();switch(t){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}},{key:"flipDirectionHorizontally",value:function(){var t=this.getDirection();switch(t){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}},{key:"getTopLeftCorner",value:function(){return new ae(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getBottomRightCorner",value:function(){return new ae(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getTopRightCorner",value:function(){return new ae(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}},{key:"getBottomLeftCorner",value:function(){return new ae(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}},{key:"getOuterTopLeftCorner",value:function(){return new ae(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getOuterBottomRightCorner",value:function(){return new ae(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterTopRightCorner",value:function(){return new ae(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getOuterBottomLeftCorner",value:function(){return new ae(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(t,r){return r&&r.includes(t)&&(this.getOuterTopLeftCorner().isEqual(new ae(r.from.row,r.from.col))||this.getOuterTopRightCorner().isEqual(new ae(r.from.row,r.to.col))||this.getOuterBottomLeftCorner().isEqual(new ae(r.to.row,r.from.col))||this.getOuterBottomRightCorner().isEqual(new ae(r.to.row,r.to.col)))?!0:t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,r){if(!(t instanceof ae))return!1;if(r&&r.includes(t)){if(this.getOuterTopLeftCorner().isEqual(new ae(r.from.row,r.from.col)))return this.getOuterBottomRightCorner();if(this.getOuterTopRightCorner().isEqual(new ae(r.from.row,r.to.col)))return this.getOuterBottomLeftCorner();if(this.getOuterBottomLeftCorner().isEqual(new ae(r.to.row,r.from.col)))return this.getOuterTopRightCorner();if(this.getOuterBottomRightCorner().isEqual(new ae(r.to.row,r.to.col)))return this.getOuterTopLeftCorner()}if(t.isEqual(this.getOuterBottomRightCorner()))return this.getOuterTopLeftCorner();if(t.isEqual(this.getOuterTopLeftCorner()))return this.getOuterBottomRightCorner();if(t.isEqual(this.getOuterTopRightCorner()))return this.getOuterBottomLeftCorner();if(t.isEqual(this.getOuterBottomLeftCorner()))return this.getOuterTopRightCorner()}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var r={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},i={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},o=[];return r.top===i.top&&o.push("top"),r.right===i.right&&o.push("right"),r.bottom===i.bottom&&o.push("bottom"),r.left===i.left&&o.push("left"),o}},{key:"getInner",value:function(){for(var t=this.getOuterTopLeftCorner(),r=this.getOuterBottomRightCorner(),i=[],o=t.row;o<=r.row;o++)for(var a=t.col;a<=r.col;a++)!(this.from.row===o&&this.from.col===a)&&!(this.to.row===o&&this.to.col===a)&&i.push(new ae(o,a));return i}},{key:"getAll",value:function(){for(var t=this.getOuterTopLeftCorner(),r=this.getOuterBottomRightCorner(),i=[],o=t.row;o<=r.row;o++)for(var a=t.col;a<=r.col;a++)t.row===o&&t.col===a?i.push(t):r.row===o&&r.col===a?i.push(r):i.push(new ae(o,a));return i}},{key:"forAll",value:function(t){for(var r=this.getOuterTopLeftCorner(),i=this.getOuterBottomRightCorner(),o=r.row;o<=i.row;o++)for(var a=r.col;a<=i.col;a++){var s=t(o,a);if(s===!1)return}}},{key:"clone",value:function(){return new e(this.highlight,this.from,this.to)}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}}]),e}(),fn=oce;function ace(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function QN(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sce(e,n,t){return n&&QN(e.prototype,n),t&&QN(e,t),e}var lce=function(){function e(n,t,r){ace(this,e),this.offset=n,this.total=t,this.countTH=r}return sce(e,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),e}(),uce=lce;function cce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function JN(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fce(e,n,t){return n&&JN(e.prototype,n),t&&JN(e,t),e}var hce=function(){function e(n,t,r){cce(this,e),this.offset=n,this.total=t,this.countTH=r}return fce(e,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),e}(),dce=hce,gce=et,pce=Fw;gce({target:"Object",stat:!0},{setPrototypeOf:pce});var vce=We,eL=Qe,mce=ll,yce=nn,bce=vn,tL=Mc,nL=vce.Function,wce=eL([].concat),_ce=eL([].join),HC={},Sce=function(e,n,t){if(!bce(HC,n)){for(var r=[],i=0;i<n;i++)r[i]="a["+i+"]";HC[n]=nL("C,a","return new C("+_ce(r,",")+")")}return HC[n](e,t)},Cce=nL.bind||function(n){var t=mce(this),r=t.prototype,i=tL(arguments,1),o=function(){var s=wce(i,tL(arguments));return this instanceof o?Sce(t,s.length,s):t.apply(n,s)};return yce(r)&&(o.prototype=r),o},Rce=et,Oce=Ho,FC=Ua,Ece=Cce,rL=XI,Tce=rn,iL=nn,kce=gl,oL=lt,BC=Oce("Reflect","construct"),Ace=Object.prototype,Mce=[].push,aL=oL(function(){function e(){}return!(BC(function(){},[],e)instanceof e)}),sL=!oL(function(){BC(function(){})}),lL=aL||sL;Rce({target:"Reflect",stat:!0,forced:lL,sham:lL},{construct:function(n,t){rL(n),Tce(t);var r=arguments.length<3?n:rL(arguments[2]);if(sL&&!aL)return BC(n,t,r);if(n==r){switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3])}var i=[null];return FC(Mce,i,t),new(FC(Ece,n,i))}var o=r.prototype,a=kce(iL(o)?o:Ace),s=FC(n,a,t);return iL(s)?s:a}});var xce=0,tp=1,np=2;function Pce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ice(e,n,t){return n&&uL(e.prototype,n),t&&uL(e,t),e}var cL=function(){function e(){Pce(this,e),this.currentSize=0,this.nextSize=0,this.currentOffset=0,this.nextOffset=0}return Ice(e,[{key:"setSize",value:function(t){this.currentSize=this.nextSize,this.nextSize=t}},{key:"setOffset",value:function(t){this.currentOffset=this.nextOffset,this.nextOffset=t}}]),e}();function $ce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dce(e,n,t){return n&&fL(e.prototype,n),t&&fL(e,t),e}var Nce=function(){function e(){$ce(this,e),this.size=new cL,this.workingSpace=xce,this.sharedSize=null}return Dce(e,[{key:"setSize",value:function(t){this.size.setSize(t)}},{key:"setOffset",value:function(t){this.size.setOffset(t)}},{key:"getViewSize",value:function(){return this.size}},{key:"isShared",value:function(){return this.sharedSize instanceof cL}},{key:"isPlaceOn",value:function(t){return this.workingSpace===t}},{key:"append",value:function(t){this.workingSpace=tp,t.workingSpace=np,this.sharedSize=t.getViewSize()}},{key:"prepend",value:function(t){this.workingSpace=np,t.workingSpace=tp,this.sharedSize=t.getViewSize()}}]),e}();function Lce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hce(e,n,t){return n&&hL(e.prototype,n),t&&hL(e,t),e}var dL=function(){function e(n,t,r){Lce(this,e),this.rootNode=n,this.nodesPool=t,this.sizeSet=new Nce,this.childNodeType=r.toUpperCase(),this.visualIndex=0,this.collectedNodes=[]}return Hce(e,[{key:"setSize",value:function(t){return this.sizeSet.setSize(t),this}},{key:"setOffset",value:function(t){return this.sizeSet.setOffset(t),this}},{key:"isSharedViewSet",value:function(){return this.sizeSet.isShared()}},{key:"getNode",value:function(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}},{key:"getCurrentNode",value:function(){var t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}},{key:"getRenderedChildCount",value:function(){var t=this.rootNode,r=this.sizeSet,i=0;if(this.isSharedViewSet())for(var o=t.firstElementChild;o;){if(o.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(tp))break;o=o.nextElementSibling}else i=t.childElementCount;return i}},{key:"start",value:function(){this.collectedNodes.length=0,this.visualIndex=0;for(var t=this.rootNode,r=this.sizeSet,i=this.isSharedViewSet(),o=r.getViewSize(),a=o.nextSize,s=this.getRenderedChildCount();s<a;){var l=this.nodesPool();!i||i&&r.isPlaceOn(np)?t.appendChild(l):t.insertBefore(l,t.firstChild),s+=1}for(var u=i&&r.isPlaceOn(tp);s>a;)t.removeChild(u?t.firstChild:t.lastChild),s-=1}},{key:"render",value:function(){var t=this.rootNode,r=this.sizeSet,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(np)&&(i+=r.sharedSize.nextSize);var o=t.childNodes[i];if(o.tagName!==this.childNodeType){var a=this.nodesPool();t.replaceChild(a,o),o=a}this.collectedNodes.push(o),this.visualIndex+=1}},{key:"end",value:function(){}}]),e}();function rp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rp=function(t){return typeof t}:rp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function Fce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bce(e,n,t){return n&&gL(e.prototype,n),t&&gL(e,t),e}function Vce(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&VC(e,n)}function VC(e,n){return VC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},VC(e,n)}function Wce(e){var n=zce();return function(){var r=ip(e),i;if(n){var o=ip(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return jce(this,i)}}function jce(e,n){if(n&&(rp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(e)}function Uce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ip(e)}var pL=function(e){Vce(t,e);var n=Wce(t);function t(){return Fce(this,t),n.apply(this,arguments)}return Bce(t,[{key:"prependView",value:function(i){return this.sizeSet.prepend(i.sizeSet),i.sizeSet.append(this.sizeSet),this}},{key:"appendView",value:function(i){return this.sizeSet.append(i.sizeSet),i.sizeSet.prepend(this.sizeSet),this}}]),t}(dL);function Yce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gce(e,n,t){return n&&vL(e.prototype,n),t&&vL(e,t),e}var Kce=function(){function e(n){Yce(this,e),this.nodeType=n.toUpperCase()}return Gce(e,[{key:"setRootDocument",value:function(t){this.rootDocument=t}},{key:"obtain",value:function(){return this.rootDocument.createElement(this.nodeType)}}]),e}();function Xce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qce(e,n,t){return n&&mL(e.prototype,n),t&&mL(e,t),e}var Ef=function(){function e(n,t){Xce(this,e),this.nodesPool=typeof n=="string"?new Kce(n):null,this.nodeType=n,this.rootNode=t,this.table=null,this.renderedNodes=0}return qce(e,[{key:"setTable",value:function(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}},{key:"adjust",value:function(){}},{key:"render",value:function(){}}]),e}();function op(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?op=function(t){return typeof t}:op=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Zce(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qce(e,n,t){return n&&yL(e.prototype,n),t&&yL(e,t),e}function Jce(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&WC(e,n)}function WC(e,n){return WC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},WC(e,n)}function efe(e){var n=rfe();return function(){var r=ap(e),i;if(n){var o=ap(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tfe(this,i)}}function tfe(e,n){if(n&&(op(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nfe(e)}function nfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rfe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ap(e)}var ife=function(e){Jce(t,e);var n=efe(t);function t(){var r;return Zce(this,t),r=n.call(this,"TH"),r.orderViews=new WeakMap,r.sourceRowIndex=0,r}return Qce(t,[{key:"obtainOrderView",value:function(i){var o=this,a;return this.orderViews.has(i)?a=this.orderViews.get(i):(a=new pL(i,function(s){return o.nodesPool.obtain(o.sourceRowIndex,s)},this.nodeType),this.orderViews.set(i,a)),a}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,a=i.rowHeaderFunctions,s=i.rowHeadersCount,l=i.rows,u=i.cells,c=0;c<o;c++){var f=this.table.renderedRowToSource(c),h=l.getRenderedNode(c);this.sourceRowIndex=f;var d=this.obtainOrderView(h),g=u.obtainOrderView(h);d.appendView(g).setSize(s).setOffset(this.table.renderedColumnToSource(0)).start();for(var p=0;p<s;p++){d.render();var v=d.getCurrentNode();v.className="",v.removeAttribute("style"),a[p](f,v,p)}d.end()}}}]),t}(Ef);function sp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sp=function(t){return typeof t}:sp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function ofe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function afe(e,n,t){return n&&bL(e.prototype,n),t&&bL(e,t),e}function sfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&jC(e,n)}function jC(e,n){return jC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jC(e,n)}function lfe(e){var n=ffe();return function(){var r=lp(e),i;if(n){var o=lp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ufe(this,i)}}function ufe(e,n){if(n&&(sp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cfe(e)}function cfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ffe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lp(e)}var hfe=function(e){sfe(t,e);var n=lfe(t);function t(r){return ofe(this,t),n.call(this,null,r)}return afe(t,[{key:"adjust",value:function(){var i=this.table,o=i.columnHeadersCount,a=i.rowHeadersCount,s=this.rootNode.firstChild;if(o){for(var l=this.table.columnsToRender,u=l+a,c=0,f=o;c<f;c++){for(s=this.rootNode.childNodes[c],s||(s=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(s)),this.renderedNodes=s.childNodes.length;this.renderedNodes<u;)s.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>u;)s.removeChild(s.lastChild),this.renderedNodes-=1}var h=this.rootNode.childNodes.length;if(h>o)for(var d=o;d<h;d++)this.rootNode.removeChild(this.rootNode.lastChild)}else s&&Mr(s)}},{key:"render",value:function(){for(var i=this.table.columnHeadersCount,o=0;o<i;o+=1)for(var a=this.table,s=a.columnHeaderFunctions,l=a.columnsToRender,u=a.rowHeadersCount,c=this.rootNode.childNodes[o],f=-1*u;f<l;f+=1){var h=this.table.renderedColumnToSource(f),d=c.childNodes[f+u];d.className="",d.removeAttribute("style"),s[o](h,d,o)}}}]),t}(Ef);function up(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?up=function(t){return typeof t}:up=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function dfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gfe(e,n,t){return n&&wL(e.prototype,n),t&&wL(e,t),e}function pfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&UC(e,n)}function UC(e,n){return UC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},UC(e,n)}function vfe(e){var n=bfe();return function(){var r=cp(e),i;if(n){var o=cp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mfe(this,i)}}function mfe(e,n){if(n&&(up(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yfe(e)}function yfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bfe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cp(e)}var wfe=function(e){pfe(t,e);var n=vfe(t);function t(r){return dfe(this,t),n.call(this,null,r)}return gfe(t,[{key:"adjust",value:function(){for(var i=this.table,o=i.columnsToRender,a=i.rowHeadersCount,s=o+a;this.renderedNodes<s;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>s;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}},{key:"render",value:function(){this.adjust();for(var i=this.table,o=i.columnsToRender,a=i.rowHeadersCount,s=0;s<a;s++){var l=this.table.renderedColumnToSource(s),u=this.table.columnUtils.getHeaderWidth(l);this.rootNode.childNodes[s].style.width="".concat(u,"px")}for(var c=0;c<o;c++){var f=this.table.renderedColumnToSource(c),h=this.table.columnUtils.getStretchedColumnWidth(f);this.rootNode.childNodes[c+a].style.width="".concat(h,"px")}var d=this.rootNode.firstChild;d&&ve(d,"rowHeader")}}]),t}(Ef);function Nt(){if(je(console)){var e;(e=console).warn.apply(e,arguments)}}function zC(){if(je(console)){var e;(e=console).error.apply(e,arguments)}}function fp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fp=function(t){return typeof t}:fp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}var _L;function _fe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Sfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function SL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cfe(e,n,t){return n&&SL(e.prototype,n),t&&SL(e,t),e}function Rfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&YC(e,n)}function YC(e,n){return YC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},YC(e,n)}function Ofe(e){var n=kfe();return function(){var r=hp(e),i;if(n){var o=hp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Efe(this,i)}}function Efe(e,n){if(n&&(fp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(e)}function Tfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kfe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(e)}var CL=!1,Afe=function(e){Rfe(t,e);var n=Ofe(t);function t(r){var i;return Sfe(this,t),i=n.call(this,"TR",r),i.orderView=new dL(r,function(o){return i.nodesPool.obtain(o)},i.nodeType),i}return Cfe(t,[{key:"getRenderedNode",value:function(i){return this.orderView.getNode(i)}},{key:"render",value:function(){var i=this.table.rowsToRender;!CL&&i>1e3&&(CL=!0,Nt(Mt(_L||(_L=_fe([`Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting 
        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.`],[`Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting\\x20
        the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.`]))))),this.orderView.setSize(i).setOffset(this.table.renderedRowToSource(0)).start();for(var o=0;o<i;o++)this.orderView.render();this.orderView.end()}}]),t}(Ef);function dp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dp=function(t){return typeof t}:dp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function Mfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function RL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xfe(e,n,t){return n&&RL(e.prototype,n),t&&RL(e,t),e}function Pfe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&GC(e,n)}function GC(e,n){return GC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},GC(e,n)}function Ife(e){var n=Nfe();return function(){var r=gp(e),i;if(n){var o=gp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return $fe(this,i)}}function $fe(e,n){if(n&&(dp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dfe(e)}function Dfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nfe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gp(e){return gp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gp(e)}var Lfe=function(e){Pfe(t,e);var n=Ife(t);function t(){var r;return Mfe(this,t),r=n.call(this,"TD"),r.orderViews=new WeakMap,r.sourceRowIndex=0,r}return xfe(t,[{key:"obtainOrderView",value:function(i){var o=this,a;return this.orderViews.has(i)?a=this.orderViews.get(i):(a=new pL(i,function(s){return o.nodesPool.obtain(o.sourceRowIndex,s)},this.nodeType),this.orderViews.set(i,a)),a}},{key:"render",value:function(){for(var i=this.table,o=i.rowsToRender,a=i.columnsToRender,s=i.rows,l=i.rowHeaders,u=0;u<o;u++){var c=this.table.renderedRowToSource(u),f=s.getRenderedNode(u);this.sourceRowIndex=c;var h=this.obtainOrderView(f),d=l.obtainOrderView(f);h.prependView(d).setSize(a).setOffset(this.table.renderedColumnToSource(0)).start();for(var g=0;g<a;g++){h.render();var p=h.getCurrentNode(),v=this.table.renderedColumnToSource(g);ze(p,"hide")||(p.className=""),p.removeAttribute("style"),this.table.cellRenderer(c,v,p)}h.end()}}}]),t}(Ef);function Hfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function OL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ffe(e,n,t){return n&&OL(e.prototype,n),t&&OL(e,t),e}var Bfe=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.cellRenderer;Hfe(this,e),this.rootNode=n,this.rootDocument=this.rootNode.ownerDocument,this.rowHeaders=null,this.columnHeaders=null,this.colGroup=null,this.rows=null,this.cells=null,this.rowFilter=null,this.columnFilter=null,this.rowUtils=null,this.columnUtils=null,this.rowsToRender=0,this.columnsToRender=0,this.rowHeaderFunctions=[],this.rowHeadersCount=0,this.columnHeaderFunctions=[],this.columnHeadersCount=0,this.cellRenderer=r}return Ffe(e,[{key:"setAxisUtils",value:function(t,r){this.rowUtils=t,this.columnUtils=r}},{key:"setViewportSize",value:function(t,r){this.rowsToRender=t,this.columnsToRender=r}},{key:"setFilters",value:function(t,r){this.rowFilter=t,this.columnFilter=r}},{key:"setHeaderContentRenderers",value:function(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}},{key:"setRenderers",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.rowHeaders,i=t.columnHeaders,o=t.colGroup,a=t.rows,s=t.cells;r.setTable(this),i.setTable(this),o.setTable(this),a.setTable(this),s.setTable(this),this.rowHeaders=r,this.columnHeaders=i,this.colGroup=o,this.rows=a,this.cells=s}},{key:"renderedRowToSource",value:function(t){return this.rowFilter.renderedToSource(t)}},{key:"renderedColumnToSource",value:function(t){return this.columnFilter.renderedToSource(t)}},{key:"render",value:function(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();for(var t=this.rowsToRender,r=this.rows,i=0;i<t;i++){var o=r.getRenderedNode(i);if(o.firstChild){var a=this.renderedRowToSource(i),s=this.rowUtils.getHeight(a);s?o.firstChild.style.height="".concat(s-1,"px"):o.firstChild.style.height=""}}}}]),e}();function Vfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function EL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wfe(e,n,t){return n&&EL(e.prototype,n),t&&EL(e,t),e}var jfe=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.TABLE,r=n.THEAD,i=n.COLGROUP,o=n.TBODY,a=n.rowUtils,s=n.columnUtils,l=n.cellRenderer;Vfe(this,e),this.renderer=new Bfe(t,{cellRenderer:l}),this.renderer.setRenderers({rowHeaders:new ife,columnHeaders:new hfe(r),colGroup:new wfe(i),rows:new Afe(o),cells:new Lfe}),this.renderer.setAxisUtils(a,s)}return Wfe(e,[{key:"setFilters",value:function(t,r){return this.renderer.setFilters(t,r),this}},{key:"setViewportSize",value:function(t,r){return this.renderer.setViewportSize(t,r),this}},{key:"setHeaderContentRenderers",value:function(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}},{key:"adjust",value:function(){this.renderer.adjust()}},{key:"render",value:function(){this.renderer.render()}}]),e}(),Ufe=cg,zfe=L$;Ufe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},zfe);function pp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pp=function(t){return typeof t}:pp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function Yfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function TL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gfe(e,n,t){return n&&TL(e.prototype,n),t&&TL(e,t),e}var Kfe=function(){function e(n){Yfe(this,e),this.wot=n,this.headerWidths=new Map}return Gfe(e,[{key:"getWidth",value:function(t){var r=this.wot.wtSettings.settings.columnWidth;return typeof r=="function"?r=r(t):pp(r)==="object"&&(r=r[t]),r||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(t){var r=this.getWidth(t),i=this.wot.wtViewport.columnsRenderCalculator,o=r!=null?r:this.wot.wtSettings.settings.defaultColumnWidth;if(i){var a=i.getStretchedColumnWidth(t,o);a&&(o=a)}return o}},{key:"getHeaderHeight",value:function(t){var r=this.wot.wtSettings.settings.defaultRowHeight,i=this.wot.wtViewport.oversizedColumnHeaders[t];return i!==void 0&&(r=r?Math.max(r,i):i),r}},{key:"getHeaderWidth",value:function(t){return this.headerWidths.get(this.wot.wtTable.columnFilter.sourceToRendered(t))}},{key:"calculateWidths",value:function(){var t=this.wot,r=t.wtTable,i=t.wtViewport,o=t.cloneSource,a=o?o.wtTable.holder:r.holder,s=a.offsetHeight<a.scrollHeight?wn():0,l=t.getSetting("rowHeaderWidth");if(i.columnsRenderCalculator.refreshStretching(i.getViewportWidth()-s),l=t.getSetting("onModifyRowHeaderWidth",l),l!=null)for(var u=t.getSetting("rowHeaders").length,c=t.getSetting("defaultColumnWidth"),f=0;f<u;f++){var h=Array.isArray(l)?l[f]:l;h=h==null?c:h,this.headerWidths.set(f,h)}}}]),e}();function Xfe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function kL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qfe(e,n,t){return n&&kL(e.prototype,n),t&&kL(e,t),e}var Zfe=function(){function e(n){Xfe(this,e),this.wot=n}return qfe(e,[{key:"getHeight",value:function(t){var r=this.wot.wtSettings.settings.rowHeight(t),i=this.wot.wtViewport.oversizedRows[t];return i!==void 0&&(r=r===void 0?i:Math.max(r,i)),r}}]),e}(),Fl="top",vi="bottom",Bl="left",Vl="top_left_corner",ia="bottom_left_corner",AL=[Fl,vi,Bl,Vl,ia],Tf={};function kf(e){var n=e.OVERLAY_NAME;if(AL.indexOf(n)===-1)throw new Error("Unsupported overlay (".concat(n,")."));KC(n)||(Tf[n]=e)}function Af(e,n){return new Tf[e](n)}function KC(e){return Tf[e]!==void 0}function Qfe(e,n){return!e||!Tf[n]?!1:e instanceof Tf[n]}function Jfe(e){return nhe(e)||the(e)||ML(e)||ehe()}function ehe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function the(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nhe(e){if(Array.isArray(e))return XC(e)}function rhe(e,n){return ahe(e)||ohe(e,n)||ML(e,n)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ML(e,n){if(!!e){if(typeof e=="string")return XC(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XC(e,n)}}function XC(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ohe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function ahe(e){if(Array.isArray(e))return e}function she(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function xL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lhe(e,n,t){return n&&xL(e.prototype,n),t&&xL(e,t),e}var uhe=function(){function e(n,t){var r=this;she(this,e),this.isMaster=!n.cloneOverlay,this.wot=n,this.instance=this.wot,this.TABLE=t,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,this.hasTableHeight=!0,this.hasTableWidth=!0,this.isTableVisible=!1,kC(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var i=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return r._modifyRowHeaderWidth(i)},this.rowUtils=new Zfe(this.wot),this.columnUtils=new Kfe(this.wot),this.tableRenderer=new jfe({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wot.wtSettings.settings.cellRenderer})}return lhe(e,[{key:"is",value:function(t){return Qfe(this.wot.cloneOverlay,t)}},{key:"fixTableDomTree",value:function(){var t=this.wot.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(t.createElement("TR"))}},{key:"createSpreader",value:function(t){var r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!ze(r,"wtHolder"))&&(i=this.wot.rootDocument.createElement("div"),i.className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",i}},{key:"createHider",value:function(t){var r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!ze(r,"wtHolder"))&&(i=this.wot.rootDocument.createElement("div"),i.className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),i}},{key:"createHolder",value:function(t){var r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!ze(r,"wtHolder"))&&(i=this.wot.rootDocument.createElement("div"),i.style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable"),i.appendChild(t)),i}},{key:"draw",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.wot,i=r.wtOverlays,o=r.wtViewport,a=r.getSetting("totalRows"),s=r.getSetting("totalColumns"),l=r.getSetting("rowHeaders"),u=l.length,c=r.getSetting("columnHeaders"),f=c.length,h=!1,d=t;if(this.isMaster&&(this.holderOffset=Wt(this.holder),d=o.createRenderCalculators(d),u&&!r.getSetting("fixedColumnsLeft"))){var g=i.leftOverlay.getScrollPosition(),p=this.correctHeaderWidth;this.correctHeaderWidth=g>0,p!==this.correctHeaderWidth&&(d=!1)}if(this.isMaster&&(h=i.prepareOverlays()),d)this.isMaster&&o.createVisibleCalculators(),i&&i.refresh(!0);else{this.isMaster?this.tableOffset=Wt(this.TABLE):this.tableOffset=this.wot.cloneSource.wtTable.tableOffset;var v=a>0?this.getFirstRenderedRow():0,m=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new dce(v,a,f),this.columnFilter=new uce(m,s,u);var w=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();var C={};this.wot.getSetting("beforeDraw",!0,C),w=C.skipRender!==!0}if(w){this.tableRenderer.setHeaderContentRenderers(l,c),(this.is(vi)||this.is(ia))&&this.tableRenderer.setHeaderContentRenderers(l,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();var E;if(this.isMaster&&(E=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(vi))&&this.markOversizedRows(),this.isMaster){this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var k=jt(this.hider),$=jt(this.TABLE);k!==0&&$!==k&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),E!==this.wot.wtViewport.getWorkspaceWidth()&&(this.wot.wtViewport.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wot.getSetting("onDraw",!0)}else this.is(vi)&&this.wot.cloneSource.wtOverlays.adjustElementsSize()}}if(this.isMaster){var D=i.topOverlay.resetFixedPosition();i.bottomOverlay.clone&&(D=i.bottomOverlay.resetFixedPosition()||D),D=i.leftOverlay.resetFixedPosition()||D,i.topLeftCornerOverlay&&i.topLeftCornerOverlay.resetFixedPosition(),i.bottomLeftCornerOverlay&&i.bottomLeftCornerOverlay.clone&&i.bottomLeftCornerOverlay.resetFixedPosition(),D&&(i.refreshAll(),i.adjustElementsSize())}return this.refreshSelections(d),h&&i.syncScrollWithMaster(),r.drawn=!0,this}},{key:"markIfOversizedColumnHeader",value:function(t){for(var r=this.wot.wtTable.columnFilter.renderedToSource(t),i=this.wot.getSetting("columnHeaders").length,o=this.wot.wtSettings.settings.defaultRowHeight,a,s,l,u=this.wot.getSetting("columnHeaderHeight")||[];i;)i-=1,a=this.wot.wtTable.getColumnHeaderHeight(i),s=this.wot.wtTable.getColumnHeader(r,i),!!s&&(l=Qi(s),(!a&&o<l||a<l)&&(this.wot.wtViewport.oversizedColumnHeaders[i]=l),Array.isArray(u)?u[i]!==null&&u[i]!==void 0&&(this.wot.wtViewport.oversizedColumnHeaders[i]=u[i]):isNaN(u)||(this.wot.wtViewport.oversizedColumnHeaders[i]=u),this.wot.wtViewport.oversizedColumnHeaders[i]<(u[i]||u)&&(this.wot.wtViewport.oversizedColumnHeaders[i]=u[i]||u))}},{key:"adjustColumnHeaderHeights",value:function(){for(var t=this.wot,r=t.wtTable.THEAD.childNodes,i=t.wtViewport.oversizedColumnHeaders,o=t.getSetting("columnHeaders"),a=0,s=o.length;a<s;a++)if(i[a]){if(!r[a]||r[a].childNodes.length===0)return;r[a].childNodes[0].style.height="".concat(i[a],"px")}}},{key:"resetOversizedRows",value:function(){var t=this.wot;if(!(!this.isMaster&&!this.is(vi))&&!t.getSetting("externalRowCalculator"))for(var r=this.getRenderedRowsCount(),i=0;i<r;i++){var o=this.rowFilter.renderedToSource(i);t.wtViewport.oversizedRows&&t.wtViewport.oversizedRows[o]&&(t.wtViewport.oversizedRows[o]=void 0)}}},{key:"removeClassFromCells",value:function(t){for(var r=this.TABLE.querySelectorAll(".".concat(t)),i=0,o=r.length;i<o;i++)Je(r[i],t)}},{key:"refreshSelections",value:function(t){var r=this.wot;if(!!r.selections){var i=Array.from(r.selections),o=i.length;if(t){for(var a=[],s=0;s<o;s++){for(var l=i[s].settings,u=l.highlightHeaderClassName,c=l.highlightRowClassName,f=l.highlightColumnClassName,h=i[s].classNames,d=h.length,g=0;g<d;g++)a.includes(h[g])||a.push(h[g]);u&&!a.includes(u)&&a.push(u),c&&!a.includes(c)&&a.push(c),f&&!a.includes(f)&&a.push(f)}var p=r.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(p))for(var v=0;v<p.length;v++)a.push(p[v]);for(var m=a.length,w=0;w<m;w++)this.removeClassFromCells(a[w])}for(var C=0;C<o;C++)i[C].draw(r,t)}}},{key:"getCell",value:function(t){var r=t.row,i=t.col,o=this.wot.getSetting("onModifyGetCellCoords",r,i);if(o&&Array.isArray(o)){var a=rhe(o,2);r=a[0],i=a[1]}if(this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;var s;if(r<0?s=this.THEAD.childNodes[this.rowFilter.sourceRowToVisibleColHeadedRow(r)]:s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(r)],!s&&r>=0)throw new Error("TR was expected to be rendered but is not");var l=s.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!l&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return l}},{key:"getColumnHeader",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.THEAD.childNodes[r];return i==null?void 0:i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getColumnHeaders",value:function(t){var r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(function(o){var a=o.childNodes[i];a&&r.push(a)}),r}},{key:"getRowHeader",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)!==0){var i=this.wot.getSetting("rowHeaders").length;if(!(r>=i)){var o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return o==null?void 0:o.childNodes[r]}}}},{key:"getRowHeaders",value:function(t){if(this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)===0)return[];for(var r=[],i=this.wot.getSetting("rowHeaders").length,o=0;o<i;o++){var a=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],s=a==null?void 0:a.childNodes[o];s&&r.push(s)}return r}},{key:"getCoords",value:function(t){var r=t;if(r.nodeName!=="TD"&&r.nodeName!=="TH"&&(r=Zi(r,["TD","TH"])),r===null)return null;var i=r.parentNode,o=i.parentNode,a=RN(i),s=r.cellIndex;if(ea(Vl,r,this.wtRootElement)||ea(Fl,r,this.wtRootElement))o.nodeName==="THEAD"&&(a-=o.childNodes.length);else if(ea(ia,r,this.wtRootElement)||ea(vi,r,this.wtRootElement)){var l=this.wot.getSetting("totalRows");a=l-o.childNodes.length+a}else o===this.THEAD?a=this.rowFilter.visibleColHeadedRowToSourceRow(a):a=this.rowFilter.renderedToSource(a);return ea(Vl,r,this.wtRootElement)||ea(Bl,r,this.wtRootElement)||ea(ia,r,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),new ae(a,s)}},{key:"markOversizedRows",value:function(){if(!this.wot.getSetting("externalRowCalculator")){var t=this.TBODY.childNodes.length,r=t*this.wot.wtSettings.settings.defaultRowHeight,i=Qi(this.TBODY)-1,o,a,s,l,u;if(!(r===i&&!this.wot.getSetting("fixedRowsBottom")))for(;t;)t-=1,s=this.rowFilter.renderedToSource(t),o=this.getRowHeight(s),l=this.getTrForRow(s),u=l.querySelector("th"),u?a=Qi(u):a=Qi(l)-1,(!o&&this.wot.wtSettings.settings.defaultRowHeight<a||o<a)&&(a+=1,this.wot.wtViewport.oversizedRows[s]=a)}}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"isColumnHeaderRendered",value:function(t){if(t>=0)return!1;var r=this.wot.getSetting("rowHeaders"),i=r.length;return Math.abs(t)<=i}},{key:"isRowHeaderRendered",value:function(t){if(t>=0)return!1;var r=this.wot.getSetting("columnHeaders"),i=r.length;return Math.abs(t)<=i}},{key:"isRowBeforeRenderedRows",value:function(t){var r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}},{key:"isRowAfterRenderedRows",value:function(t){return t>this.getLastRenderedRow()}},{key:"isColumnBeforeRenderedColumns",value:function(t){var r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}},{key:"isColumnAfterRenderedColumns",value:function(t){return this.columnFilter&&t>this.getLastRenderedColumn()}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&t>this.getLastVisibleColumn()}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&t>this.getLastVisibleRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getRowHeight",value:function(t){return this.rowUtils.getHeight(t)}},{key:"getColumnHeaderHeight",value:function(t){return this.columnUtils.getHeaderHeight(t)}},{key:"getColumnWidth",value:function(t){return this.columnUtils.getWidth(t)}},{key:"getStretchedColumnWidth",value:function(t){return this.columnUtils.getStretchedColumnWidth(t)}},{key:"hasDefinedSize",value:function(){return this.hasTableHeight&&this.hasTableWidth}},{key:"isVisible",value:function(){return Dl(this.TABLE)}},{key:"_modifyRowHeaderWidth",value:function(t){var r=xt(t)?t():null;return Array.isArray(r)?(r=Jfe(r),r[r.length-1]=this._correctRowHeaderWidth(r[r.length-1])):r=this._correctRowHeaderWidth(r),r}},{key:"_correctRowHeaderWidth",value:function(t){var r=t;return typeof t!="number"&&(r=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}}]),e}(),Wl=uhe,che="calculatedRows",PL={getFirstRenderedRow:function(){var n=this.wot.wtViewport.rowsRenderCalculator.startRow;return n===null?-1:n},getFirstVisibleRow:function(){var n=this.wot.wtViewport.rowsVisibleCalculator.startRow;return n===null?-1:n},getLastRenderedRow:function(){var n=this.wot.wtViewport.rowsRenderCalculator.endRow;return n===null?-1:n},getLastVisibleRow:function(){var n=this.wot.wtViewport.rowsVisibleCalculator.endRow;return n===null?-1:n},getRenderedRowsCount:function(){return this.wot.wtViewport.rowsRenderCalculator.count},getVisibleRowsCount:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}};li(PL,"MIXIN_NAME",che,{writable:!1,enumerable:!1});var IL=PL,fhe="calculatedColumns",$L={getFirstRenderedColumn:function(){var n=this.wot.wtViewport.columnsRenderCalculator.startColumn;return n===null?-1:n},getFirstVisibleColumn:function(){var n=this.wot.wtViewport.columnsVisibleCalculator.startColumn;return n===null?-1:n},getLastRenderedColumn:function(){var n=this.wot.wtViewport.columnsRenderCalculator.endColumn;return n===null?-1:n},getLastVisibleColumn:function(){var n=this.wot.wtViewport.columnsVisibleCalculator.endColumn;return n===null?-1:n},getRenderedColumnsCount:function(){return this.wot.wtViewport.columnsRenderCalculator.count},getVisibleColumnsCount:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}};li($L,"MIXIN_NAME",fhe,{writable:!1,enumerable:!1});var qC=$L;function vp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vp=function(t){return typeof t}:vp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function hhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function DL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dhe(e,n,t){return n&&DL(e.prototype,n),t&&DL(e,t),e}function ghe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ZC(e,n)}function ZC(e,n){return ZC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ZC(e,n)}function phe(e){var n=yhe();return function(){var r=mp(e),i;if(n){var o=mp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vhe(this,i)}}function vhe(e,n){if(n&&(vp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(e)}function mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yhe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mp(e)}var QC=function(e){ghe(t,e);var n=phe(t);function t(){return hhe(this,t),n.apply(this,arguments)}return dhe(t,[{key:"alignOverlaysWithTrimmingContainer",value:function(){var i=Nl(this.wtRootElement),o=this.wot.rootWindow;if(i===o){var a=this.wot.getSetting("preventOverflow");a||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else{var s=i.parentElement,l=zg(i,"height",o),u=zg(i,"overflow",o),c=this.holder.style,f=i.scrollWidth,h=i.scrollHeight,d=i.getBoundingClientRect(),g=d.width,p=d.height,v=["auto","hidden","scroll"];if(s&&v.includes(u)){var m=i.cloneNode(!1);m.style.overflow="auto",i.nextElementSibling?s.insertBefore(m,i.nextElementSibling):s.appendChild(m);var w=parseInt(as(m,o).height,10);s.removeChild(m),w===0&&(p=0)}p=Math.min(p,h),c.height=l==="auto"?"auto":"".concat(p,"px"),g=Math.min(g,f),c.width="".concat(g,"px"),c.overflow="",this.hasTableHeight=c.height==="auto"?!0:p>0,this.hasTableWidth=g>0}this.isTableVisible=Dl(this.TABLE)}},{key:"markOversizedColumnHeaders",value:function(){var i=this.wot,o=i.getOverlayName(),a=i.getSetting("columnHeaders"),s=a.length;if(s&&!i.wtViewport.hasOversizedColumnHeadersMarked[o]){for(var l=i.getSetting("rowHeaders"),u=l.length,c=this.getRenderedColumnsCount(),f=0;f<s;f++)for(var h=-1*u;h<c;h++)this.markIfOversizedColumnHeader(h);i.wtViewport.hasOversizedColumnHeadersMarked[o]=!0}}}]),t}(Wl);Ot(QC,IL);Ot(QC,qC);var bhe=QC,whe="stickyRowsBottom",NL={getFirstRenderedRow:function(){var n=this.wot.getSetting("totalRows"),t=this.wot.getSetting("fixedRowsBottom"),r=n-t;return n===0||t===0?-1:r<0?0:r},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.wot.getSetting("totalRows")-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var n=this.wot.getSetting("totalRows");return Math.min(this.wot.getSetting("fixedRowsBottom"),n)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};li(NL,"MIXIN_NAME",whe,{writable:!1,enumerable:!1});var LL=NL,_he="stickyColumnsLeft",HL={getFirstRenderedColumn:function(){var n=this.wot.getSetting("totalColumns");return n===0?-1:0},getFirstVisibleColumn:function(){return this.getFirstRenderedColumn()},getLastRenderedColumn:function(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn:function(){return this.getLastRenderedColumn()},getRenderedColumnsCount:function(){var n=this.wot.getSetting("totalColumns");return Math.min(this.wot.getSetting("fixedColumnsLeft"),n)},getVisibleColumnsCount:function(){return this.getRenderedColumnsCount()}};li(HL,"MIXIN_NAME",_he,{writable:!1,enumerable:!1});var JC=HL;function yp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yp=function(t){return typeof t}:yp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function She(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Che(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&e0(e,n)}function e0(e,n){return e0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},e0(e,n)}function Rhe(e){var n=The();return function(){var r=bp(e),i;if(n){var o=bp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ohe(this,i)}}function Ohe(e,n){if(n&&(yp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ehe(e)}function Ehe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function The(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bp(e)}var t0=function(e){Che(t,e);var n=Rhe(t);function t(){return She(this,t),n.apply(this,arguments)}return t}(Wl);Ot(t0,LL);Ot(t0,JC);var khe=t0;function Lt(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function Xr(e){return e.isImmediatePropagationEnabled===!1}function oa(e){return e.button===2}function wp(e){return e.button===0}var Ahe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",stopImmediatePropagation:Lt,isImmediatePropagationStopped:Xr,isRightClick:oa,isLeftClick:wp});function Mhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function FL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xhe(e,n,t){return n&&FL(e.prototype,n),t&&FL(e,t),e}var n0=0,Phe=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Mhe(this,e),this.context=n||this,this.context.eventListeners||(this.context.eventListeners=[])}return xhe(e,[{key:"addEventListener",value:function(t,r,i){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function s(l){i.call(this,Ihe(l))}return typeof a!="boolean"&&!C$()&&(a=!1),this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:s,options:a,eventManager:this}),t.addEventListener(r,s,a),n0+=1,function(){o.removeEventListener(t,r,i)}}},{key:"removeEventListener",value:function(t,r,i){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=this.context.eventListeners.length,s;a;)if(a-=1,s=this.context.eventListeners[a],s.event===r&&s.element===t){if(i&&i!==s.callback||o&&s.eventManager!==this)continue;this.context.eventListeners.splice(a,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options),n0-=1}}},{key:"clearEvents",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!!this.context)for(var r=this.context.eventListeners.length;r;){r-=1;var i=this.context.eventListeners[r];i&&this.removeEventListener(i.element,i.event,i.callback,t)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"destroyWithOwnEventsOnly",value:function(){this.clearEvents(!0),this.context=null}},{key:"fireEvent",value:function(t,r){var i=t.document,o=t;i||(i=t.ownerDocument?t.ownerDocument:t,o=i.defaultView);var a={bubbles:!0,cancelable:r!=="mousemove",view:o,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},s;i.createEvent?(s=i.createEvent("MouseEvents"),s.initMouseEvent(r,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,i.body.parentNode)):s=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(s):t.fireEvent("on".concat(r),s)}}]),e}();function Ihe(e){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.apply(this),Lt(this)},e}var Rt=Phe;function $he(){return n0}function Dhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function BL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nhe(e,n,t){return n&&BL(e.prototype,n),t&&BL(e,t),e}var Mf=function(){function e(n){Dhe(this,e),li(this,"wot",n,{writable:!1});var t=this.wot.wtTable,r=t.TABLE,i=t.hider,o=t.spreader,a=t.holder,s=t.wtRootElement;this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=r,this.hider=i,this.spreader=o,this.holder=a,this.wtRootElement=s,this.trimmingContainer=Nl(this.hider.parentNode.parentNode),this.updateStateOfRendering()}return Nhe(e,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var r=t!==this.needFullRender;return r&&!this.needFullRender&&this.reset(),r}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=Nl(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var t=this.wot,r=t.wtTable,i=t.rootWindow;i.getComputedStyle(r.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=wf(r.TABLE)}},{key:"getRelativeCellPosition",value:function(t,r,i){if(this.clone.wtTable.holder.contains(t)===!1){Nt("The provided element is not a child of the ".concat(this.type," overlay"));return}var o=this.mainTableScrollableElement===this.wot.rootWindow,a=i<this.wot.getSetting("fixedColumnsLeft"),s=r<this.wot.getSetting("fixedRowsTop"),l=r>=this.wot.getSetting("totalRows")-this.wot.getSetting("fixedRowsBottom"),u={left:this.clone.wtTable.spreader.offsetLeft,top:this.clone.wtTable.spreader.offsetTop},c={left:t.offsetLeft,top:t.offsetTop},f=null;return o?f=this.getRelativeCellPositionWithinWindow(s,a,c,u):f=this.getRelativeCellPositionWithinHolder(s,l,a,c,u),f}},{key:"getRelativeCellPositionWithinWindow",value:function(t,r,i,o){var a=this.wot.wtTable.wtRootElement.getBoundingClientRect(),s=0,l=0;if(r?s=a.left<=0?-1*a.left:0:s=o.left,t){var u=this.clone.wtTable.TABLE.getBoundingClientRect();l=u.top-a.top}else l=o.top;return{left:i.left+s,top:i.top+l}}},{key:"getRelativeCellPositionWithinHolder",value:function(t,r,i,o,a){var s={horizontal:this.clone.cloneSource.wtOverlays.leftOverlay.getScrollPosition(),vertical:this.clone.cloneSource.wtOverlays.topOverlay.getScrollPosition()},l=0,u=0;if(i||(l=s.horizontal-a.left),r){var c=this.wot.wtTable.wtRootElement.getBoundingClientRect(),f=this.clone.wtTable.TABLE.getBoundingClientRect();u=f.top*-1+c.top}else t||(u=s.vertical-a.top);return{left:o.left-l,top:o.top-u}}},{key:"makeClone",value:function(t){if(AL.indexOf(t)===-1)throw new Error('Clone type "'.concat(t,'" is not supported.'));var r=this.wot,i=r.wtTable,o=r.rootDocument,a=r.rootWindow,s=o.createElement("DIV"),l=o.createElement("TABLE"),u=i.wtRootElement.parentNode;s.className="ht_clone_".concat(t," handsontable"),s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.overflow="visible",l.className=i.TABLE.className,s.appendChild(l),this.type=t,u.appendChild(s);var c=this.wot.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===Fl||c==="vertical"&&this.type===Bl?this.mainTableScrollableElement=a:a.getComputedStyle(u).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=i.holder:this.mainTableScrollableElement=wf(i.TABLE),new this.wot.constructor({cloneSource:this.wot,cloneOverlay:this,table:l})}},{key:"refresh",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.shouldBeRendered();this.clone&&(this.needFullRender||r)&&this.clone.draw(t),this.needFullRender=r}},{key:"reset",value:function(){if(!!this.clone){var t=this.clone.wtTable.holder,r=this.clone.wtTable.hider,i=t.style,o=r.style,a=t.parentNode.style;B([i,o,a],function(s){s.width="",s.height=""})}}},{key:"destroy",value:function(){new Rt(this.clone).destroy()}}]),e}();function _p(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_p=function(t){return typeof t}:_p=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function Sp(e,n,t){return WL()?Sp=Reflect.construct:Sp=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Cp(u,a.prototype),u},Sp.apply(null,arguments)}function Lhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function VL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hhe(e,n,t){return n&&VL(e.prototype,n),t&&VL(e,t),e}function Fhe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Cp(e,n)}function Cp(e,n){return Cp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Cp(e,n)}function Bhe(e){var n=WL();return function(){var r=Rp(e),i;if(n){var o=Rp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vhe(this,i)}}function Vhe(e,n){if(n&&(_p(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Whe(e)}function Whe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rp(e)}var jhe=function(e){Fhe(t,e);var n=Bhe(t);function t(r){var i;return Lhe(this,t),i=n.call(this,r),i.clone=i.makeClone(ia),i}return Hhe(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Sp(khe,o)}},{key:"shouldBeRendered",value:function(){var i=this.wot;return i.getSetting("shouldRenderBottomOverlay")&&i.getSetting("shouldRenderLeftOverlay")}},{key:"resetFixedPosition",value:function(){var i=this.wot;if(this.updateTrimmingContainer(),!!i.wtTable.holder.parentNode){var o=this.clone.wtTable.holder.parentNode;if(o.style.top="",this.trimmingContainer===i.rootWindow){var a=this.wot,s=a.rootDocument,l=a.wtTable,u=l.hider.getBoundingClientRect(),c=Math.ceil(u.bottom),f=Math.ceil(u.left),h=s.documentElement.clientHeight,d,g;f<0?d=-f:d=0,c>h?g=c-h:g=0,g+="px",d+="px",o.style.left=d,o.style.bottom=g}else ss(o),this.repositionOverlay();var p=Jt(this.clone.wtTable.TABLE),v=jt(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(p=0),o.style.height="".concat(p,"px"),o.style.width="".concat(v,"px"),!1}}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,a=i.rootDocument,s=this.clone.wtTable.holder.parentNode,l=wn(a);o.holder.clientHeight===o.holder.offsetHeight&&(l=0),s.style.bottom="".concat(l,"px")}}],[{key:"OVERLAY_NAME",get:function(){return ia}}]),t}(Mf);function Op(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Op=function(t){return typeof t}:Op=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function Uhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zhe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r0(e,n)}function r0(e,n){return r0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},r0(e,n)}function Yhe(e){var n=Xhe();return function(){var r=Ep(e),i;if(n){var o=Ep(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ghe(this,i)}}function Ghe(e,n){if(n&&(Op(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Khe(e)}function Khe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xhe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ep(e)}var i0=function(e){zhe(t,e);var n=Yhe(t);function t(){return Uhe(this,t),n.apply(this,arguments)}return t}(Wl);Ot(i0,LL);Ot(i0,qC);var qhe=i0;function Tp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tp=function(t){return typeof t}:Tp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function kp(e,n,t){return zL()?kp=Reflect.construct:kp=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Ap(u,a.prototype),u},kp.apply(null,arguments)}function Zhe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qhe(e,n,t){return n&&jL(e.prototype,n),t&&jL(e,t),e}function Jhe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ap(e,n)}function Ap(e,n){return Ap=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ap(e,n)}function ede(e){var n=zL();return function(){var r=Mp(e),i;if(n){var o=Mp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tde(this,i)}}function tde(e,n){if(n&&(Tp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UL(e)}function UL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mp(e)}function nde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var rde=function(e){Jhe(t,e);var n=ede(t);function t(r){var i;return Zhe(this,t),i=n.call(this,r),nde(UL(i),"cachedFixedRowsBottom",-1),i.clone=i.makeClone(vi),i.cachedFixedRowsBottom=i.wot.getSetting("fixedRowsBottom"),i}return Qhe(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return kp(qhe,o)}},{key:"shouldBeRendered",value:function(){return this.wot.getSetting("shouldRenderBottomOverlay")}},{key:"resetFixedPosition",value:function(){if(!(!this.needFullRender||!this.wot.wtTable.holder.parentNode)){var i=this.clone.wtTable.holder.parentNode;i.style.top="";var o=0,a=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===this.wot.rootWindow&&(!a||a!=="vertical")){var s=this.wot,l=s.rootDocument,u=s.wtTable,c=u.hider.getBoundingClientRect(),f=Math.ceil(c.bottom),h=l.documentElement.clientHeight,d,g;d=u.hider.style.left,d=d===""?0:d,f>h?g=f-h:g=0,o=g,g+="px",i.style.left=d,i.style.bottom=g}else o=this.getScrollPosition(),this.repositionOverlay();var p=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),p}}},{key:"repositionOverlay",value:function(){var i=this.wot,o=i.wtTable,a=i.rootDocument,s=this.clone.wtTable.holder.parentNode,l=wn(a);o.holder.clientHeight===o.holder.offsetHeight&&(l=0),s.style.bottom="".concat(l,"px")}},{key:"setScrollPosition",value:function(i){var o=this.wot.rootWindow,a=!1;return this.mainTableScrollableElement===o?(o.scrollTo(ra(o),i),a=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,a=!0),a}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var a=this.wot,s=a.wtTable,l=a.wtSettings,u=l.settings.defaultRowHeight,c=i,f=0;c<o;){var h=s.getRowHeight(c);f+=h===void 0?u:h,c+=1}return f}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,a=i.wtViewport,s=i.rootWindow,l=wn(this.wot.rootDocument),u=this.clone.wtTable.holder.parentNode,c=u.style,f=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==s||f==="horizontal"){var h=a.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(h-=l),h=Math.min(h,o.wtRootElement.scrollWidth),c.width="".concat(h,"px")}else c.width="";this.clone.wtTable.holder.style.width=c.width;var d=Jt(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(d=0),c.height="".concat(d,"px")}},{key:"adjustRootChildrenSize",value:function(){var i=this.clone.wtTable.holder;this.clone.wtTable.hider.style.width=this.hider.style.width,i.style.width=i.parentNode.style.width,i.style.height=i.parentNode.style.height}},{key:"applyToDOM",value:function(){var i=this.wot.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else if(i===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.left="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(i,o){var a=this.getTableParentOffset(),s=this.wot.cloneSource?this.wot.cloneSource:this.wot,l=s.wtTable.holder,u=0;o&&l.offsetHeight!==l.clientHeight&&(u=wn(this.wot.rootDocument)),o?(a+=this.sumCellSizes(0,i+1),a-=this.wot.wtViewport.getViewportHeight(),a+=1):a+=this.sumCellSizes(this.wot.getSetting("fixedRowsBottom"),i),a+=u,this.setScrollPosition(a)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.wot.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return bf(this.mainTableScrollableElement,this.wot.rootWindow)}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wot.getSetting("fixedRowsBottom"),a=this.cachedFixedRowsBottom!==o,s=this.wot.getSetting("columnHeaders"),l=!1;if((a||o===0)&&s.length>0){var u=this.wot.wtTable.holder.parentNode,c=ze(u,"innerBorderBottom");this.cachedFixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),i||this.wot.getSetting("totalRows")===0?(ve(u,"innerBorderBottom"),l=!c):(Je(u,"innerBorderBottom"),l=c)}return l}}],[{key:"OVERLAY_NAME",get:function(){return vi}}]),t}(Mf);function xp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xp=function(t){return typeof t}:xp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function ide(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ode(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&o0(e,n)}function o0(e,n){return o0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},o0(e,n)}function ade(e){var n=ude();return function(){var r=Pp(e),i;if(n){var o=Pp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sde(this,i)}}function sde(e,n){if(n&&(xp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lde(e)}function lde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ude(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(e)}var a0=function(e){ode(t,e);var n=ade(t);function t(){return ide(this,t),n.apply(this,arguments)}return t}(Wl);Ot(a0,IL);Ot(a0,JC);var cde=a0;function Ip(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ip=function(t){return typeof t}:Ip=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function $p(e,n,t){return GL()?$p=Reflect.construct:$p=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Dp(u,a.prototype),u},$p.apply(null,arguments)}function fde(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hde(e,n,t){return n&&YL(e.prototype,n),t&&YL(e,t),e}function dde(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dp(e,n)}function Dp(e,n){return Dp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Dp(e,n)}function gde(e){var n=GL();return function(){var r=Np(e),i;if(n){var o=Np(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pde(this,i)}}function pde(e,n){if(n&&(Ip(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vde(e)}function vde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Np(e)}var mde=function(e){dde(t,e);var n=gde(t);function t(r){var i;return fde(this,t),i=n.call(this,r),i.clone=i.makeClone(Bl),i}return hde(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return $p(cde,o)}},{key:"shouldBeRendered",value:function(){return this.wot.getSetting("shouldRenderLeftOverlay")}},{key:"resetFixedPosition",value:function(){var i=this.wot.wtTable;if(!(!this.needFullRender||!i.holder.parentNode)){var o=this.clone.wtTable.holder.parentNode,a=0,s=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===this.wot.rootWindow&&(!s||s!=="horizontal")){var l=i.hider.getBoundingClientRect(),u=Math.ceil(l.left),c=Math.ceil(l.right),f,h;h=i.hider.style.top,h=h===""?0:h,u<0&&c-o.offsetWidth>0?f=-u:f=0,a=f,f+="px",Yg(o,f,h)}else a=this.getScrollPosition(),ss(o);var d=this.adjustHeaderBordersPosition(a);return this.adjustElementsSize(),d}}},{key:"setScrollPosition",value:function(i){var o=this.wot.rootWindow,a=!1;return this.mainTableScrollableElement===o&&o.scrollX!==i?(o.scrollTo(i,os(o)),a=!0):this.mainTableScrollableElement.scrollLeft!==i&&(this.mainTableScrollableElement.scrollLeft=i,a=!0),a}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(i,o){for(var a=this.wot.wtSettings.defaultColumnWidth,s=i,l=0;s<o;)l+=this.wot.wtTable.getStretchedColumnWidth(s)||a,s+=1;return l}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,a=i.rootDocument,s=i.rootWindow,l=wn(a),u=this.clone.wtTable.holder.parentNode,c=u.style,f=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==s||f==="vertical"){var h=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(h-=l),h=Math.min(h,o.wtRootElement.scrollHeight),c.height="".concat(h,"px")}else c.height="";this.clone.wtTable.holder.style.height=c.height;var d=jt(this.clone.wtTable.TABLE);c.width="".concat(d,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,a=this.wot.selections,s=Math.abs((i=a==null?void 0:a.getCell().getBorder(this.wot).cornerCenterPointOffset)!==null&&i!==void 0?i:0);this.clone.wtTable.hider.style.height=this.hider.style.height,o.style.height=o.parentNode.style.height,o.style.width="".concat(parseInt(o.parentNode.style.width,10)+s,"px")}},{key:"applyToDOM",value:function(){var i=this.wot.getSetting("totalColumns");if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style.left="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else if(i===0)this.spreader.style.left="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(i,o){var a=this.getTableParentOffset(),s=this.wot.cloneSource?this.wot.cloneSource:this.wot,l=s.wtTable.holder,u=0;return o&&l.offsetWidth!==l.clientWidth&&(u=wn(this.wot.rootDocument)),o?(a+=this.sumCellSizes(0,i+1),a-=this.wot.wtViewport.getViewportWidth()):a+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),i),a+=u,this.setScrollPosition(a)}},{key:"getTableParentOffset",value:function(){var i=this.wot.getSetting("preventOverflow"),o=0;return!i&&this.trimmingContainer===this.wot.rootWindow&&(o=this.wot.wtTable.holderOffset.left),o}},{key:"getScrollPosition",value:function(){return Ug(this.mainTableScrollableElement,this.wot.rootWindow)}},{key:"adjustHeaderBordersPosition",value:function(i){var o=this.wot.wtTable.holder.parentNode,a=this.wot.getSetting("rowHeaders"),s=this.wot.getSetting("fixedColumnsLeft"),l=this.wot.getSetting("totalRows");l?Je(o,"emptyRows"):ve(o,"emptyRows");var u=!1;if(s&&!a.length)ve(o,"innerBorderLeft");else if(!s&&a.length){var c=ze(o,"innerBorderLeft");i?(ve(o,"innerBorderLeft"),u=!c):(Je(o,"innerBorderLeft"),u=c)}return u}}],[{key:"OVERLAY_NAME",get:function(){return Bl}}]),t}(Mf),yde="stickyRowsTop",KL={getFirstRenderedRow:function(){var n=this.wot.getSetting("totalRows");return n===0?-1:0},getFirstVisibleRow:function(){return this.getFirstRenderedRow()},getLastRenderedRow:function(){return this.getRenderedRowsCount()-1},getLastVisibleRow:function(){return this.getLastRenderedRow()},getRenderedRowsCount:function(){var n=this.wot.getSetting("totalRows");return Math.min(this.wot.getSetting("fixedRowsTop"),n)},getVisibleRowsCount:function(){return this.getRenderedRowsCount()}};li(KL,"MIXIN_NAME",yde,{writable:!1,enumerable:!1});var XL=KL;function Lp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lp=function(t){return typeof t}:Lp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function bde(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wde(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&s0(e,n)}function s0(e,n){return s0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},s0(e,n)}function _de(e){var n=Rde();return function(){var r=Hp(e),i;if(n){var o=Hp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Sde(this,i)}}function Sde(e,n){if(n&&(Lp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cde(e)}function Cde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rde(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hp(e)}var l0=function(e){wde(t,e);var n=_de(t);function t(){return bde(this,t),n.apply(this,arguments)}return t}(Wl);Ot(l0,XL);Ot(l0,JC);var Ode=l0;function Fp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fp=function(t){return typeof t}:Fp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function Bp(e,n,t){return ZL()?Bp=Reflect.construct:Bp=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Vp(u,a.prototype),u},Bp.apply(null,arguments)}function Ede(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function qL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tde(e,n,t){return n&&qL(e.prototype,n),t&&qL(e,t),e}function kde(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Vp(e,n)}function Vp(e,n){return Vp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Vp(e,n)}function Ade(e){var n=ZL();return function(){var r=Wp(e),i;if(n){var o=Wp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Mde(this,i)}}function Mde(e,n){if(n&&(Fp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(e)}function xde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wp(e)}var Pde=function(e){kde(t,e);var n=Ade(t);function t(r){var i;return Ede(this,t),i=n.call(this,r),i.clone=i.makeClone(Vl),i}return Tde(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Bp(Ode,o)}},{key:"shouldBeRendered",value:function(){var i=this.wot;return i.getSetting("shouldRenderTopOverlay")&&i.getSetting("shouldRenderLeftOverlay")}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),!!this.wot.wtTable.holder.parentNode){var i=this.clone.wtTable.holder.parentNode,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===this.wot.rootWindow){var a=this.wot.wtTable,s=a.hider.getBoundingClientRect(),l=Math.ceil(s.top),u=Math.ceil(s.left),c=Math.ceil(s.bottom),f=Math.ceil(s.right),h="0",d="0";(!o||o==="vertical")&&u<0&&f-i.offsetWidth>0&&(h="".concat(-u,"px")),(!o||o==="horizontal")&&l<0&&c-i.offsetHeight>0&&(d="".concat(-l,"px")),Yg(i,h,d)}else ss(i);var g=Jt(this.clone.wtTable.TABLE),p=jt(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(g=0),i.style.height="".concat(g,"px"),i.style.width="".concat(p,"px"),!1}}}],[{key:"OVERLAY_NAME",get:function(){return Vl}}]),t}(Mf);function jp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jp=function(t){return typeof t}:jp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function Ide(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $de(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u0(e,n)}function u0(e,n){return u0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},u0(e,n)}function Dde(e){var n=Hde();return function(){var r=Up(e),i;if(n){var o=Up(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Nde(this,i)}}function Nde(e,n){if(n&&(jp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(e)}function Lde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hde(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Up(e)}var c0=function(e){$de(t,e);var n=Dde(t);function t(){return Ide(this,t),n.apply(this,arguments)}return t}(Wl);Ot(c0,XL);Ot(c0,qC);var Fde=c0;function zp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zp=function(t){return typeof t}:zp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function Yp(e,n,t){return eH()?Yp=Reflect.construct:Yp=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Gp(u,a.prototype),u},Yp.apply(null,arguments)}function Bde(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function QL(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vde(e,n,t){return n&&QL(e.prototype,n),t&&QL(e,t),e}function Wde(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Gp(e,n)}function Gp(e,n){return Gp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Gp(e,n)}function jde(e){var n=eH();return function(){var r=Kp(e),i;if(n){var o=Kp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ude(this,i)}}function Ude(e,n){if(n&&(zp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JL(e)}function JL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kp(e)}function zde(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Yde=function(e){Wde(t,e);var n=jde(t);function t(r){var i;return Bde(this,t),i=n.call(this,r),zde(JL(i),"cachedFixedRowsTop",-1),i.clone=i.makeClone(Fl),i.cachedFixedRowsTop=i.wot.getSetting("fixedRowsTop"),i}return Vde(t,[{key:"createTable",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return Yp(Fde,o)}},{key:"shouldBeRendered",value:function(){return this.wot.getSetting("shouldRenderTopOverlay")}},{key:"resetFixedPosition",value:function(){if(!(!this.needFullRender||!this.wot.wtTable.holder.parentNode)){var i=this.clone.wtTable.holder.parentNode,o=this.wot.getSetting("preventOverflow"),a=0,s=!1;if(this.trimmingContainer===this.wot.rootWindow&&(!o||o!=="vertical")){var l=this.wot.wtTable,u=l.hider.getBoundingClientRect(),c=Math.ceil(u.top),f=Math.ceil(u.bottom),h=i.offsetHeight;s=f===h;var d,g;d=l.hider.style.left,d=d===""?0:d,c<0&&f-h>0?g=-c:g=0,a=g,g+="px",Yg(i,d,g)}else a=this.getScrollPosition(),ss(i);var p=this.adjustHeaderBordersPosition(a,s);return this.adjustElementsSize(),p}}},{key:"setScrollPosition",value:function(i){var o=this.wot.rootWindow,a=!1;return this.mainTableScrollableElement===o&&o.scrollY!==i?(o.scrollTo(ra(o),i),a=!0):this.mainTableScrollableElement.scrollTop!==i&&(this.mainTableScrollableElement.scrollTop=i,a=!0),a}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(i,o){for(var a=this.wot.wtSettings.settings.defaultRowHeight,s=i,l=0;s<o;){var u=this.wot.wtTable.getRowHeight(s);l+=u===void 0?a:u,s+=1}return l}},{key:"adjustElementsSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateTrimmingContainer(),(this.needFullRender||i)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}},{key:"adjustRootElementSize",value:function(){var i=this.wot,o=i.wtTable,a=i.rootDocument,s=i.rootWindow,l=wn(a),u=this.clone.wtTable.holder.parentNode,c=u.style,f=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==s||f==="horizontal"){var h=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(h-=l),h=Math.min(h,o.wtRootElement.scrollWidth),c.width="".concat(h,"px")}else c.width="";this.clone.wtTable.holder.style.width=c.width;var d=Jt(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(d=0),c.height="".concat(d,"px")}},{key:"adjustRootChildrenSize",value:function(){var i,o=this.clone.wtTable.holder,a=this.wot.selections,s=Math.abs((i=a==null?void 0:a.getCell().getBorder(this.wot).cornerCenterPointOffset)!==null&&i!==void 0?i:0);this.clone.wtTable.hider.style.width=this.hider.style.width,o.style.width=o.parentNode.style.width,o.style.height="".concat(parseInt(o.parentNode.style.height,10)+s,"px")}},{key:"applyToDOM",value:function(){var i=this.wot.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else if(i===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.left="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(i,o){var a=this.wot,s=a.cloneSource?a.cloneSource:a,l=s.wtTable.holder,u=this.getTableParentOffset(),c=0;if(o&&l.offsetHeight!==l.clientHeight&&(c=wn(a.rootDocument)),o){var f=a.getSetting("fixedRowsBottom"),h=a.getSetting("totalRows");u+=this.sumCellSizes(0,i+1),u-=a.wtViewport.getViewportHeight()-this.sumCellSizes(h-f,h),u+=1}else u+=this.sumCellSizes(a.getSetting("fixedRowsTop"),i);return u+=c,this.setScrollPosition(u)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.wot.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return bf(this.mainTableScrollableElement,this.wot.rootWindow)}},{key:"adjustHeaderBordersPosition",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.wot.wtTable.holder.parentNode,s=this.wot.getSetting("totalColumns");s?Je(a,"emptyColumns"):ve(a,"emptyColumns");var l=!1;if(!o){var u=this.wot.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==u,f=this.wot.getSetting("columnHeaders");if((c||u===0)&&f.length>0){var h=ze(a,"innerBorderTop");this.cachedFixedRowsTop=this.wot.getSetting("fixedRowsTop"),i||this.wot.getSetting("totalRows")===0?(ve(a,"innerBorderTop"),l=!h):(Je(a,"innerBorderTop"),l=h)}}if(this.wot.getSetting("rowHeaders").length===0){var d=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(d)for(var g=0;g<d.length;g++)d[g].style["border-left-width"]=0}return l}}],[{key:"OVERLAY_NAME",get:function(){return Fl}}]),t}(Mf);function f0(e,n){return qde(e)||Xde(e,n)||Kde(e,n)||Gde()}function Gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(e,n){if(!!e){if(typeof e=="string")return tH(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tH(e,n)}}function tH(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Xde(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function qde(e){if(Array.isArray(e))return e}function Zde(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function nH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qde(e,n,t){return n&&nH(e.prototype,n),t&&nH(e,t),e}var Jde=function(){function e(n,t){Zde(this,e),!!t&&(this.eventManager=new Rt(n),this.instance=n,this.wot=n,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}return Qde(e,[{key:"registerListeners",value:function(){var t=this,r=this.wot.rootDocument.body;this.eventManager.addEventListener(r,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(r,"mouseup",function(){return t.onMouseUp()});for(var i=function(l,u){var c=t.main.childNodes[l];t.eventManager.addEventListener(c,"mouseenter",function(f){return t.onMouseEnter(f,t.main.childNodes[l])})},o=0,a=this.main.childNodes.length;o<a;o++)i(o)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,r){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;t.preventDefault(),Lt(t);var i=this,o=this.wot.rootDocument.body,a=r.getBoundingClientRect();r.style.display="none";function s(u){if(u.clientY<Math.floor(a.top)||u.clientY>Math.ceil(a.top+a.height)||u.clientX<Math.floor(a.left)||u.clientX>Math.ceil(a.left+a.width))return!0}function l(u){s(u)&&(i.eventManager.removeEventListener(o,"mousemove",l),r.style.display="block")}this.eventManager.addEventListener(o,"mousemove",l)}},{key:"createBorders",value:function(t){var r=this.wot.rootDocument;this.main=r.createElement("div");var i=["top","left","bottom","right","corner"],o=this.main.style;o.position="absolute",o.top=0,o.left=0;for(var a=0;a<5;a++){var s=i[a],l=r.createElement("div");l.className="wtBorder ".concat(this.settings.className||""),this.settings[s]&&this.settings[s].hide&&(l.className+=" hidden"),o=l.style,o.backgroundColor=this.settings[s]&&this.settings[s].color?this.settings[s].color:t.border.color,o.height=this.settings[s]&&this.settings[s].width?"".concat(this.settings[s].width,"px"):"".concat(t.border.width,"px"),o.width=this.settings[s]&&this.settings[s].width?"".concat(this.settings[s].width,"px"):"".concat(t.border.width,"px"),this.main.appendChild(l)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Wr()&&this.createMultipleSelectorHandles(),this.disappear();var u=this.wot.wtTable,c=u.bordersHolder;c||(c=r.createElement("div"),c.className="htBorders",u.bordersHolder=c,u.spreader.appendChild(c)),c.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this,r=this.wot.rootDocument;this.selectionHandles={topLeft:r.createElement("DIV"),topLeftHitArea:r.createElement("DIV"),bottomRight:r.createElement("DIV"),bottomRightHitArea:r.createElement("DIV")};var i=10,o=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var a={position:"absolute",height:"".concat(o,"px"),width:"".concat(o,"px"),"border-radius":"".concat(parseInt(o/1.5,10),"px")};st(a,function(l,u){t.selectionHandles.styles.bottomRightHitArea[u]=l,t.selectionHandles.styles.topLeftHitArea[u]=l});var s={position:"absolute",height:"".concat(i,"px"),width:"".concat(i,"px"),"border-radius":"".concat(parseInt(i/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"};st(s,function(l,u){t.selectionHandles.styles.bottomRight[u]=l,t.selectionHandles.styles.topLeft[u]=l}),this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(t,r){var i=this.wot.selections.createOrGetArea();return!!(i.cellRange&&(t!==i.cellRange.to.row||r!==i.cellRange.to.col))}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,r,i,o,a,s){var l=parseInt(this.selectionHandles.styles.topLeft.width,10),u=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top="".concat(parseInt(i-l,10),"px"),this.selectionHandles.styles.topLeft.left="".concat(parseInt(o-l,10),"px"),this.selectionHandles.styles.topLeftHitArea.top="".concat(parseInt(i-u/4*3,10),"px"),this.selectionHandles.styles.topLeftHitArea.left="".concat(parseInt(o-u/4*3,10),"px"),this.selectionHandles.styles.bottomRight.top="".concat(parseInt(i+s,10),"px"),this.selectionHandles.styles.bottomRight.left="".concat(parseInt(o+a,10),"px"),this.selectionHandles.styles.bottomRightHitArea.top="".concat(parseInt(i+s-u/4,10),"px"),this.selectionHandles.styles.bottomRightHitArea.left="".concat(parseInt(o+a-u/4,10),"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,r)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){for(var r=this.wot,i=r.wtTable,o=r.rootDocument,a=r.rootWindow,s,l,u,c,f,h,d=i.getRenderedRowsCount(),g=0;g<d;g+=1){var p=i.rowFilter.renderedToSource(g);if(p>=t[0]&&p<=t[2]){s=p,f=t[0];break}}for(var v=d-1;v>=0;v-=1){var m=i.rowFilter.renderedToSource(v);if(m>=t[0]&&m<=t[2]){l=m;break}}for(var w=i.getRenderedColumnsCount(),C=0;C<w;C+=1){var E=i.columnFilter.renderedToSource(C);if(E>=t[1]&&E<=t[3]){u=E,h=t[1];break}}for(var k=w-1;k>=0;k-=1){var $=i.columnFilter.renderedToSource(k);if($>=t[1]&&$<=t[3]){c=$;break}}if(s===void 0||u===void 0){this.disappear();return}var D=i.getCell(new ae(s,u)),Y=s!==l||u!==c,L=Y?i.getCell(new ae(l,c)):D,X=Wt(D),te=Y?Wt(L):X,oe=Wt(i.TABLE),ie=X.top,de=X.left,y=de-oe.left-1,S=te.left+jt(L)-de;if(this.isEntireColumnSelected(s,l)){var b=this.getDimensionsFromHeader("columns",u,c,f,oe),_=null;if(b){var A=f0(b,3);_=A[0],y=A[1],S=A[2]}_&&(D=_)}var N=ie-oe.top-1,I=te.top+Jt(L)-ie;if(this.isEntireRowSelected(u,c)){var R=this.getDimensionsFromHeader("rows",s,l,h,oe),P=null;if(R){var H=f0(R,3);P=H[0],N=H[1],I=H[2]}P&&(D=P)}var V=as(D,a);parseInt(V.borderTopWidth,10)>0&&(N+=1,I=I>0?I-1:0),parseInt(V.borderLeftWidth,10)>0&&(y+=1,S=S>0?S-1:0),this.topStyle.top="".concat(N,"px"),this.topStyle.left="".concat(y,"px"),this.topStyle.width="".concat(S,"px"),this.topStyle.display="block",this.leftStyle.top="".concat(N,"px"),this.leftStyle.left="".concat(y,"px"),this.leftStyle.height="".concat(I,"px"),this.leftStyle.display="block";var q=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(N+I-q,"px"),this.bottomStyle.left="".concat(y,"px"),this.bottomStyle.width="".concat(S,"px"),this.bottomStyle.display="block",this.rightStyle.top="".concat(N,"px"),this.rightStyle.left="".concat(y+S-q,"px"),this.rightStyle.height="".concat(I+1,"px"),this.rightStyle.display="block";var K=this.settings.border.cornerVisible;K=typeof K=="function"?K(this.settings.layerLevel):K;var ce=this.wot.getSetting("onModifyGetCellCoords",l,c),ue=l,ge=c;if(ce&&Array.isArray(ce)){var fe=f0(ce,4);ue=fe[2],ge=fe[3]}if(Wr()||!K||this.isPartRange(ue,ge))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(N+I+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.left="".concat(y+S+this.cornerCenterPointOffset-1,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var be=Nl(i.TABLE),Ee=be===a;if(Ee&&(be=o.documentElement),c===this.wot.getSetting("totalColumns")-1){var re=Ee?L.getBoundingClientRect().left:L.offsetLeft,He=re+jt(L)+parseInt(this.cornerDefaultStyle.width,10)/2,Te=He>=Ll(be);Te&&(this.cornerStyle.left="".concat(Math.floor(y+S+this.cornerCenterPointOffset-parseInt(this.cornerDefaultStyle.width,10)/2),"px"),this.cornerStyle.borderRightWidth=0)}if(l===this.wot.getSetting("totalRows")-1){var Ue=Ee?L.getBoundingClientRect().top:L.offsetTop,Ge=Ue+Jt(L)+parseInt(this.cornerDefaultStyle.height,10)/2,Me=Ge>=Qi(be);Me&&(this.cornerStyle.top="".concat(Math.floor(N+I+this.cornerCenterPointOffset-parseInt(this.cornerDefaultStyle.height,10)/2),"px"),this.cornerStyle.borderBottomWidth=0)}this.cornerStyle.display="block"}Wr()&&this.updateMultipleSelectionHandlesPosition(l,c,N,y,S,I)}}},{key:"isEntireColumnSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,r,i,o,a){var s=this.wot.wtTable,l=s.wtRootElement.parentNode,u=null,c=null,f=null,h=null,d=null,g=null,p=null,v=null;switch(t){case"rows":u=function(){return s.getRowHeader.apply(s,arguments)},c=function(){return Jt.apply(void 0,arguments)},f="ht__selection--rows",g="top";break;case"columns":u=function(){return s.getColumnHeader.apply(s,arguments)},c=function(){return jt.apply(void 0,arguments)},f="ht__selection--columns",g="left";break}if(l.classList.contains(f)){var m=this.wot.getSetting("columnHeaders").length;if(p=u(r,m-o),v=u(i,m-o),!p||!v)return!1;var w=Wt(p),C=Wt(v);return p&&v&&(h=w[g]-a[g]-1,d=C[g]+c(v)-w[g]),[p,h,d]}return!1}},{key:"changeBorderStyle",value:function(t,r){var i=this[t].style,o=r[t];!o||o.hide?ve(this[t],"hidden"):(ze(this[t],"hidden")&&Je(this[t],"hidden"),i.backgroundColor=o.color,(t==="top"||t==="bottom")&&(i.height="".concat(o.width,"px")),(t==="right"||t==="left")&&(i.width="".concat(o.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(t){var r={width:1,color:"#000"},i=this[t].style;i.backgroundColor=r.color,i.width="".concat(r.width,"px"),i.height="".concat(r.width,"px")}},{key:"toggleHiddenClass",value:function(t,r){this.changeBorderToDefaultStyle(t),r?ve(this[t],"hidden"):Je(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",Wr()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}},{key:"destroy",value:function(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}]),e}(),ege=Jde;function tge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nge(e,n,t){return n&&rH(e.prototype,n),t&&rH(e,t),e}var jl=new WeakMap,rge=function(){function e(n){tge(this,e),this.instance=n,this.eventManager=new Rt(n),jl.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}return nge(e,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.instance.wtTable.holder,"contextmenu",function(o){return t.onContextMenu(o)}),this.eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseover",function(o){return t.onMouseOver(o)}),this.eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseout",function(o){return t.onMouseOut(o)});var r=function(){t.eventManager.addEventListener(t.instance.wtTable.holder,"touchstart",function(a){return t.onTouchStart(a)}),t.eventManager.addEventListener(t.instance.wtTable.holder,"touchend",function(a){return t.onTouchEnd(a)}),t.instance.momentumScrolling||(t.instance.momentumScrolling={}),t.eventManager.addEventListener(t.instance.wtTable.holder,"scroll",function(){clearTimeout(t.instance.momentumScrolling._timeout),t.instance.momentumScrolling.ongoing||t.instance.getSetting("onBeforeTouchScroll"),t.instance.momentumScrolling.ongoing=!0,t.instance.momentumScrolling._timeout=setTimeout(function(){t.instance.touchApplied||(t.instance.momentumScrolling.ongoing=!1,t.instance.getSetting("onAfterMomentumScroll"))},200)})},i=function(){t.eventManager.addEventListener(t.instance.wtTable.holder,"mouseup",function(a){return t.onMouseUp(a)}),t.eventManager.addEventListener(t.instance.wtTable.holder,"mousedown",function(a){return t.onMouseDown(a)})};Wr()?r():(vS()&&r(),i())}},{key:"selectedCellWasTouched",value:function(t){var r=jl.get(this),i=this.parentCell(t),o=i.coords;if(r.selectedCellBeforeTouchEnd&&o){var a=[o.row,r.selectedCellBeforeTouchEnd.from.row],s=a[0],l=a[1],u=[o.col,r.selectedCellBeforeTouchEnd.from.col],c=u[0],f=u[1];return s===l&&c===f}return!1}},{key:"parentCell",value:function(t){var r={},i=this.instance.wtTable.TABLE,o=yf(t,["TD","TH"],i);return o?(r.coords=this.instance.wtTable.getCoords(o),r.TD=o):ze(t,"wtBorder")&&ze(t,"current")?(r.coords=this.instance.selections.getCell().cellRange.highlight,r.TD=this.instance.wtTable.getCell(r.coords)):ze(t,"wtBorder")&&ze(t,"area")&&this.instance.selections.createOrGetArea().cellRange&&(r.coords=this.instance.selections.createOrGetArea().cellRange.to,r.TD=this.instance.wtTable.getCell(r.coords)),r}},{key:"onMouseDown",value:function(t){var r=jl.get(this),i=this.instance.rootDocument.activeElement,o=Cf(SN,t.target),a=t.target;if(!(a===i||o(0)===i||o(1)===i)){var s=this.parentCell(a);ze(a,"corner")?this.instance.getSetting("onCellCornerMouseDown",t,a):s.TD&&this.instance.hasSetting("onCellMouseDown")&&this.instance.getSetting("onCellMouseDown",t,s.coords,s.TD,this.instance),(t.button===0||this.instance.touchApplied)&&s.TD&&(r.dblClickOrigin[0]=s.TD,clearTimeout(r.dblClickTimeout[0]),r.dblClickTimeout[0]=setTimeout(function(){r.dblClickOrigin[0]=null},1e3))}}},{key:"onContextMenu",value:function(t){if(this.instance.hasSetting("onCellContextMenu")){var r=this.parentCell(t.target);r.TD&&this.instance.getSetting("onCellContextMenu",t,r.coords,r.TD,this.instance)}}},{key:"onMouseOver",value:function(t){if(!!this.instance.hasSetting("onCellMouseOver")){var r=this.instance.wtTable.TABLE,i=yf(t.target,["TD","TH"],r),o=this.instance.cloneSource||this.instance;i&&i!==o.lastMouseOver&&Jo(i,r)&&(o.lastMouseOver=i,this.instance.getSetting("onCellMouseOver",t,this.instance.wtTable.getCoords(i),i,this.instance))}}},{key:"onMouseOut",value:function(t){if(!!this.instance.hasSetting("onCellMouseOut")){var r=this.instance.wtTable.TABLE,i=yf(t.target,["TD","TH"],r),o=yf(t.relatedTarget,["TD","TH"],r);i&&i!==o&&Jo(i,r)&&this.instance.getSetting("onCellMouseOut",t,this.instance.wtTable.getCoords(i),i,this.instance)}}},{key:"onMouseUp",value:function(t){var r=jl.get(this),i=this.parentCell(t.target);i.TD&&this.instance.hasSetting("onCellMouseUp")&&this.instance.getSetting("onCellMouseUp",t,i.coords,i.TD,this.instance),!(t.button!==0&&!this.instance.touchApplied)&&(i.TD===r.dblClickOrigin[0]&&i.TD===r.dblClickOrigin[1]?(ze(t.target,"corner")?this.instance.getSetting("onCellCornerDblClick",t,i.coords,i.TD,this.instance):this.instance.getSetting("onCellDblClick",t,i.coords,i.TD,this.instance),r.dblClickOrigin[0]=null,r.dblClickOrigin[1]=null):i.TD===r.dblClickOrigin[0]&&(r.dblClickOrigin[1]=i.TD,clearTimeout(r.dblClickTimeout[1]),r.dblClickTimeout[1]=setTimeout(function(){r.dblClickOrigin[1]=null},500)))}},{key:"onTouchStart",value:function(t){var r=jl.get(this);r.selectedCellBeforeTouchEnd=this.instance.selections.getCell().cellRange,this.instance.touchApplied=!0,this.onMouseDown(t)}},{key:"onTouchEnd",value:function(t){var r,i=t.target,o=(r=this.parentCell(i))===null||r===void 0?void 0:r.coords,a=je(o)&&o.row>=0&&o.col>=0,s=t.cancelable&&a&&this.instance.getSetting("isDataViewInstance");if(s){var l=["A","BUTTON","INPUT"];IS()&&(Y$()||G$())&&this.selectedCellWasTouched(i)&&!l.includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()}this.onMouseUp(t),this.instance.touchApplied=!1}},{key:"destroy",value:function(){var t=jl.get(this);clearTimeout(t.dblClickTimeout[0]),clearTimeout(t.dblClickTimeout[1]),this.eventManager.destroy()}}]),e}(),iH=rge,me={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:dg()?182:174,AUDIO_MUTE:dg()?181:173,AUDIO_UP:dg()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},ige=[me.ALT,me.ARROW_DOWN,me.ARROW_LEFT,me.ARROW_RIGHT,me.ARROW_UP,me.AUDIO_DOWN,me.AUDIO_MUTE,me.AUDIO_UP,me.BACKSPACE,me.CAPS_LOCK,me.DELETE,me.END,me.ENTER,me.ESCAPE,me.F1,me.F2,me.F3,me.F4,me.F5,me.F6,me.F7,me.F8,me.F9,me.F10,me.F11,me.F12,me.F13,me.F14,me.F15,me.F16,me.F17,me.F18,me.F19,me.HOME,me.INSERT,me.MEDIA_NEXT,me.MEDIA_PLAY_PAUSE,me.MEDIA_PREV,me.MEDIA_STOP,me.NULL,me.NUM_LOCK,me.PAGE_DOWN,me.PAGE_UP,me.PAUSE,me.SCROLL_LOCK,me.SHIFT,me.TAB];function oH(e){return e===32||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90}function h0(e){return ige.includes(e)}function oge(e){var n=[];return Q$()?n.push(me.COMMAND_LEFT,me.COMMAND_RIGHT,me.COMMAND_FIREFOX):n.push(me.CONTROL),n.includes(e)}function d0(e){return[me.CONTROL,me.COMMAND_LEFT,me.COMMAND_RIGHT,me.COMMAND_FIREFOX].includes(e)}function aa(e,n){var t=n.split("|"),r=!1;return B(t,function(i){if(e===me[i])return r=!0,!1}),r}var age=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",KEY_CODES:me,isPrintableChar:oH,isFunctionKey:h0,isCtrlKey:oge,isCtrlMetaKey:d0,isKey:aa});function sge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function aH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lge(e,n,t){return n&&aH(e.prototype,n),t&&aH(e,t),e}kf(jhe);kf(rde);kf(mde);kf(Pde);kf(Yde);var uge=function(){function e(n){sge(this,e),this.wot=n;var t=this.wot,r=t.rootDocument,i=t.rootWindow,o=t.wtTable,a=parseInt(i.getComputedStyle(r.body).lineHeight,10),s=parseInt(i.getComputedStyle(r.body).fontSize,10)*1.2;this.instance=this.wot,this.eventManager=new Rt(this.wot),this.scrollbarSize=wn(r),this.wot.update("scrollbarWidth",this.scrollbarSize),this.wot.update("scrollbarHeight",this.scrollbarSize);var l=i.getComputedStyle(o.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=l?o.holder:wf(o.TABLE),this.topOverlay=void 0,this.bottomOverlay=void 0,this.leftOverlay=void 0,this.topLeftCornerOverlay=void 0,this.bottomLeftCornerOverlay=void 0,this.prepareOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.browserLineHeight=a||s,this.registerListeners(),this.lastScrollX=i.scrollX,this.lastScrollY=i.scrollY}return lge(e,[{key:"prepareOverlays",value:function(){var t=!1;return this.topOverlay?t=this.topOverlay.updateStateOfRendering()||t:this.topOverlay=Af(Fl,this.wot),KC(vi)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),KC(ia)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?t=this.bottomOverlay.updateStateOfRendering()||t:this.bottomOverlay=Af(vi,this.wot),this.leftOverlay?t=this.leftOverlay.updateStateOfRendering()||t:this.leftOverlay=Af(Bl,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?t=this.topLeftCornerOverlay.updateStateOfRendering()||t:this.topLeftCornerOverlay=Af(Vl,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?t=this.bottomLeftCornerOverlay.updateStateOfRendering()||t:this.bottomLeftCornerOverlay=Af(ia,this.wot)),t}},{key:"refreshAll",value:function(){if(!!this.wot.drawn){if(!this.wot.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}},{key:"registerListeners",value:function(){var t=this,r=this.wot,i=r.rootDocument,o=r.rootWindow,a=this.topOverlay.mainTableScrollableElement,s=this.leftOverlay.mainTableScrollableElement;this.eventManager.addEventListener(i.documentElement,"keydown",function(g){return t.onKeyDown(g)}),this.eventManager.addEventListener(i.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(i,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(a,"scroll",function(g){return t.onTableScroll(g)},{passive:!0}),a!==s&&this.eventManager.addEventListener(s,"scroll",function(g){return t.onTableScroll(g)},{passive:!0});var l=o.devicePixelRatio&&o.devicePixelRatio>1,u=this.scrollableElement===o,c=this.wot.wtSettings.getSetting("preventWheel"),f={passive:u};(c||l||!z$())&&this.eventManager.addEventListener(this.wot.wtTable.wtRootElement,"wheel",function(g){return t.onCloneWheel(g,c)},f);var h=[this.topOverlay,this.bottomOverlay,this.leftOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay];h.forEach(function(g){if(g&&g.needFullRender){var p=g.clone.wtTable.holder;t.eventManager.addEventListener(p,"wheel",function(v){return t.onCloneWheel(v,c)},f)}});var d;this.eventManager.addEventListener(o,"resize",function(){clearTimeout(d),d=setTimeout(function(){t.wot.getSetting("onWindowResize")},200)})}},{key:"deregisterListeners",value:function(){this.eventManager.clearEvents(!0)}},{key:"onTableScroll",value:function(t){var r=this.wot.rootWindow,i=this.leftOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,a=t.target;this.keyPressed&&(o!==r&&a!==r&&!t.target.contains(o)||i!==r&&a!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t,r){var i=this.wot.rootWindow,o=this.leftOverlay.mainTableScrollableElement,a=this.topOverlay.mainTableScrollableElement,s=t.target,l=a!==i&&s!==i&&!s.contains(a),u=o!==i&&s!==i&&!s.contains(o);if(!(this.keyPressed&&(l||u))){var c=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&c)&&t.preventDefault()}}},{key:"onKeyDown",value:function(t){this.keyPressed=aa(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var r=this.browserLineHeight,i=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,o=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;t.deltaMode===1&&(o+=o*r,i+=i*r);var a=this.scrollVertically(i),s=this.scrollHorizontally(o);return a||s}},{key:"scrollVertically",value:function(t){var r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}},{key:"scrollHorizontally",value:function(t){var r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var t=this.wot.rootWindow,r=this.topOverlay.clone.wtTable.holder,i=this.leftOverlay.clone.wtTable.holder,o=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],a=o[0],s=o[1];if(this.horizontalScrolling=r.scrollLeft!==a||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==s||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=a;var l=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;l&&(l.scrollLeft=a)}this.verticalScrolling&&(i.scrollTop=s),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,r=t.scrollLeft,i=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=i)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var t=this.wot,r=t.rootWindow,i=t.wtTable;r.getComputedStyle(i.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=i.holder:this.scrollableElement=wf(i.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.wot.wtTable.spreader,i=r.clientWidth,o=r.clientHeight;(i!==this.spreaderLastSize.width||o!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=i,this.spreaderLastSize.height=o,this.adjustElementsSize()),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.wot,i=r.wtViewport,o=r.wtTable,a=this.wot.getSetting("totalColumns"),s=this.wot.getSetting("totalRows"),l=i.getRowHeaderWidth(),u=i.getColumnHeaderHeight(),c=o.hider.style;if(c.width="".concat(l+this.leftOverlay.sumCellSizes(0,a),"px"),c.height="".concat(u+this.topOverlay.sumCellSizes(0,s)+1,"px"),this.scrollbarSize>0){var f=o.wtRootElement,h=f.scrollHeight,d=f.scrollWidth,g=o.holder,p=g.scrollHeight,v=g.scrollWidth;this.hasScrollbarRight=h<p,this.hasScrollbarBottom=d<v,this.hasScrollbarRight&&o.hider.scrollWidth+this.scrollbarSize>d?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&o.hider.scrollHeight+this.scrollbarSize>h&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){var t=this.wot.wtTable;!t.isVisible()||(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM())}},{key:"getParentOverlay",value:function(t){if(!t)return null;var r=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],i=null;return B(r,function(o){!o||o.clone&&o.clone.wtTable.TABLE.contains(t)&&(i=o.clone)}),i}},{key:"syncOverlayTableClassNames",value:function(){var t=this.instance.wtTable.TABLE,r=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay];B(r,function(i){!i||(i.clone.wtTable.TABLE.className=t.className)})}}]),e}(),cge=uge;function fge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function sH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hge(e,n,t){return n&&sH(e.prototype,n),t&&sH(e,t),e}var dge=function(){function e(n){fge(this,e),this.wot=n}return hge(e,[{key:"scrollViewport",value:function(t,r,i,o,a){if(t.col<0||t.row<0)return!1;var s=this.scrollViewportHorizontally(t.col,i,a),l=this.scrollViewportVertically(t.row,r,o);return s||l}},{key:"scrollViewportHorizontally",value:function(t,r,i){if(!this.wot.drawn)return!1;var o=this._getVariables(),a=o.fixedColumnsLeft,s=o.leftOverlay,l=o.totalColumns,u=!1;if(t>=0&&t<=Math.max(l-1,0)){var c=this.getFirstVisibleColumn(),f=this.getLastVisibleColumn();t>=a&&c>-1&&(t<c||i)?u=s.scrollTo(t):(f===-1||f>-1&&(t>f||r))&&(u=s.scrollTo(t,!0))}return u}},{key:"scrollViewportVertically",value:function(t,r,i){if(!this.wot.drawn)return!1;var o=this._getVariables(),a=o.fixedRowsBottom,s=o.fixedRowsTop,l=o.topOverlay,u=o.totalRows,c=!1;if(t>=0&&t<=Math.max(u-1,0)){var f=this.getFirstVisibleRow(),h=this.getLastVisibleRow();t>=s&&f>-1&&(t<f||r)?c=l.scrollTo(t):(h===-1||h>-1&&(t>h&&t<u-a||i))&&(c=l.scrollTo(t,!0))}return c}},{key:"getFirstVisibleRow",value:function(){var t=this._getVariables(),r=t.topOverlay,i=t.wtTable,o=t.wtViewport,a=t.totalRows,s=t.fixedRowsTop,l=this.wot.rootWindow,u=i.getFirstVisibleRow();if(r.mainTableScrollableElement===l){var c=Wt(i.wtRootElement),f=Qi(i.hider),h=Qi(l),d=bf(l,l);if(c.top+f-h<=d){var g=o.getColumnHeaderHeight();g+=r.sumCellSizes(0,s);for(var p=a;p>0;p--)if(g+=r.sumCellSizes(p-1,p),c.top+f-g<=d){u=p;break}}}return u}},{key:"getLastVisibleRow",value:function(){var t=this._getVariables(),r=t.topOverlay,i=t.wtTable,o=t.wtViewport,a=t.totalRows,s=this.wot.rootWindow,l=i.getLastVisibleRow();if(r.mainTableScrollableElement===s){var u=Wt(i.wtRootElement),c=bf(s,s);if(u.top>c){for(var f=Qi(s),h=o.getColumnHeaderHeight(),d=1;d<=a;d++)if(h+=r.sumCellSizes(d-1,d),u.top+h-c>=f){l=d-2;break}}}return l}},{key:"getFirstVisibleColumn",value:function(){var t=this._getVariables(),r=t.leftOverlay,i=t.wtTable,o=t.wtViewport,a=t.totalColumns,s=this.wot.rootWindow,l=i.getFirstVisibleColumn();if(r.mainTableScrollableElement===s){var u=Wt(i.wtRootElement),c=Ll(i.hider),f=Ll(s),h=Ug(s,s);if(u.left+c-f<=h){for(var d=o.getRowHeaderWidth(),g=a;g>0;g--)if(d+=r.sumCellSizes(g-1,g),u.left+c-d<=h){l=g;break}}}return l}},{key:"getLastVisibleColumn",value:function(){var t=this._getVariables(),r=t.leftOverlay,i=t.wtTable,o=t.wtViewport,a=t.totalColumns,s=this.wot.rootWindow,l=i.getLastVisibleColumn();if(r.mainTableScrollableElement===s){var u=Wt(i.wtRootElement),c=Ug(s,s);if(u.left>c){for(var f=Ll(s),h=o.getRowHeaderWidth(),d=1;d<=a;d++)if(h+=r.sumCellSizes(d-1,d),u.left+h-c>=f){l=d-2;break}}}return l}},{key:"_getVariables",value:function(){var t=this.wot,r=t.wtOverlays.topOverlay,i=t.wtOverlays.leftOverlay,o=t.wtTable,a=t.wtViewport,s=t.getSetting("totalRows"),l=t.getSetting("totalColumns"),u=t.getSetting("fixedRowsTop"),c=t.getSetting("fixedRowsBottom"),f=t.getSetting("fixedColumnsLeft");return{topOverlay:r,leftOverlay:i,wtTable:o,wtViewport:a,totalRows:s,totalColumns:l,fixedRowsTop:u,fixedRowsBottom:c,fixedColumnsLeft:f}}}]),e}(),lH=dge;function gge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pge(e,n,t){return n&&uH(e.prototype,n),t&&uH(e,t),e}var vge=function(){function e(n,t){var r=this;gge(this,e),this.wot=n,this.instance=n,this.defaults={table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderLeftOverlay:function(){return r.getSetting("fixedColumnsLeft")>0||r.getSetting("rowHeaders").length>0},shouldRenderTopOverlay:function(){return r.getSetting("fixedRowsTop")>0||r.getSetting("columnHeaders").length>0},shouldRenderBottomOverlay:function(){return r.getSetting("fixedRowsBottom")>0},minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(o,a,s){var l=r.getSetting("data",o,a);na(s,l==null?"":l)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(o){return o},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:function(o){return o},onBeforeHighlightingColumnHeader:function(o){return o},onWindowResize:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},st(this.defaults,function(i,o){if(t[o]!==void 0)r.settings[o]=t[o];else{if(i===void 0)throw new Error('A required setting "'.concat(o,'" was not provided'));r.settings[o]=i}})}return pge(e,[{key:"update",value:function(t,r){var i=this;return r===void 0?st(t,function(o,a){i.settings[a]=o}):this.settings[t]=r,this.wot}},{key:"getSetting",value:function(t,r,i,o,a){return typeof this.settings[t]=="function"?this.settings[t](r,i,o,a):r!==void 0&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),e}(),mge=vge;function yge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bge(e,n,t){return n&&cH(e.prototype,n),t&&cH(e,t),e}var wge=function(){function e(n){var t=this;yge(this,e),this.wot=n,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new Rt(this.wot),this.eventManager.addEventListener(this.wot.rootWindow,"resize",function(){t.clientHeight=t.getWorkspaceHeight()})}return bge(e,[{key:"getWorkspaceHeight",value:function(){var t=this.wot.rootDocument,r=this.instance.wtOverlays.topOverlay.trimmingContainer,i=0;if(r===this.wot.rootWindow)i=t.documentElement.clientHeight;else{var o=Jt(r);i=o>0&&r.clientHeight>0?r.clientHeight:1/0}return i}},{key:"getWorkspaceWidth",value:function(){var t=this.wot,r=t.rootDocument,i=t.rootWindow,o=this.instance.wtOverlays.leftOverlay.trimmingContainer,a=r.documentElement.offsetWidth,s=t.getSetting("totalColumns"),l=t.getSetting("preventOverflow"),u,c;if(l)return jt(this.instance.wtTable.wtRootElement);if(t.getSetting("freezeOverlays")?u=Math.min(a-this.getWorkspaceOffset().left,a):u=Math.min(this.getContainerFillWidth(),a-this.getWorkspaceOffset().left,a),o===i&&s>0&&this.sumColumnWidths(0,s-1)>u)return r.documentElement.clientWidth;if(o!==i&&(c=zg(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow",i),c==="scroll"||c==="hidden"||c==="auto"))return Math.max(u,o.clientWidth);var f=t.getSetting("stretchH");return f==="none"||!f?Math.max(u,jt(this.instance.wtTable.TABLE)):u}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,r){for(var i=this.wot.wtTable,o=0,a=t;a<r;)o+=i.getColumnWidth(a),a+=1;return o}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.instance.wtTable.holder,r=this.wot.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);var i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}},{key:"getWorkspaceOffset",value:function(){return Wt(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return Jt(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){var t=this.wot.wtTable;return jt(t.TABLE)||jt(t.TBODY)||jt(t.THEAD)}},{key:"getColumnHeaderHeight",value:function(){var t=this.instance.getSetting("columnHeaders");return t.length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Jt(this.wot.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}},{key:"getRowHeaderWidth",value:function(){var t=this.instance.getSetting("rowHeaderWidth"),r=this.instance.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var i=0,o=r.length;i<o;i++)this.rowHeaderWidth+=t[i]||t}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(r.length){var a=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var s=0,l=r.length;s<l;s++)a?(this.rowHeaderWidth+=jt(a),a=a.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===1/0)return t;var r=this.getRowHeaderWidth();return r>0?t-r:t}},{key:"createRowsCalculator",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ls,r=this.wot,i=r.wtSettings,o=r.wtOverlays,a=r.wtTable,s=r.rootDocument,l,u,c;this.rowHeaderWidth=NaN,i.settings.renderAllRows&&t===ls?l=1/0:l=this.getViewportHeight();var f=o.topOverlay.getScrollPosition()-o.topOverlay.getTableParentOffset();f<0&&(f=0);var h=r.getSetting("fixedRowsTop"),d=r.getSetting("fixedRowsBottom"),g=r.getSetting("totalRows");return h&&(c=o.topOverlay.sumCellSizes(0,h),f+=c,l-=c),d&&o.bottomOverlay.clone&&(c=o.bottomOverlay.sumCellSizes(g-d,g),l-=c),a.holder.clientHeight===a.holder.offsetHeight?u=0:u=wn(s),new XN({viewportSize:l,scrollOffset:f,totalItems:r.getSetting("totalRows"),itemSizeFn:function(v){return a.getRowHeight(v)},overrideFn:i.settings.viewportRowCalculatorOverride,calculationType:t,scrollbarHeight:u})}},{key:"createColumnsCalculator",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ls,r=this.wot,i=r.wtSettings,o=r.wtOverlays,a=r.wtTable,s=r.rootDocument,l=this.getViewportWidth(),u=o.leftOverlay.getScrollPosition()-o.leftOverlay.getTableParentOffset();this.columnHeaderHeight=NaN,u<0&&(u=0);var c=r.getSetting("fixedColumnsLeft");if(c){var f=o.leftOverlay.sumCellSizes(0,c);u+=f,l-=f}return a.holder.clientWidth!==a.holder.offsetWidth&&(l-=wn(s)),new LC({viewportSize:l,scrollOffset:u,totalItems:r.getSetting("totalColumns"),itemSizeFn:function(d){return r.wtTable.getColumnWidth(d)},overrideFn:i.settings.viewportColumnCalculatorOverride,calculationType:t,stretchMode:r.getSetting("stretchH"),stretchingItemWidthFn:function(d,g){return r.getSetting("onBeforeStretchingColumnWidth",d,g)}})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=t;if(r){var i=this.createRowsCalculator(xr),o=this.createColumnsCalculator(xr);this.areAllProposedVisibleRowsAlreadyRendered(i)&&this.areAllProposedVisibleColumnsAlreadyRendered(o)||(r=!1)}return r||(this.rowsRenderCalculator=this.createRowsCalculator(ls),this.columnsRenderCalculator=this.createColumnsCalculator(ls)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,r}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(xr),this.columnsVisibleCalculator=this.createColumnsCalculator(xr)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){if(!this.rowsVisibleCalculator)return!1;var r=t.startRow,i=t.endRow,o=this.rowsRenderCalculator,a=o.startRow,s=o.endRow;return r<a||r===a&&r>0?!1:!(i>s||i===s&&i<this.wot.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){if(!this.columnsVisibleCalculator)return!1;var r=t.startColumn,i=t.endColumn,o=this.columnsRenderCalculator,a=o.startColumn,s=o.endColumn;return r<a||r===a&&r>0?!1:!(i>s||i===s&&i<this.wot.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){st(this.hasOversizedColumnHeadersMarked,function(t,r,i){i[r]=void 0})}}]),e}(),_ge=wge;function Sge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cge(e,n,t){return n&&fH(e.prototype,n),t&&fH(e,t),e}var Rge=function(){function e(n){Sge(this,e);var t=[];if(this.guid="wt_".concat(bC()),this.rootDocument=n.table.ownerDocument,this.rootWindow=this.rootDocument.defaultView,n.cloneSource?(this.cloneSource=n.cloneSource,this.cloneOverlay=n.cloneOverlay,this.wtSettings=n.cloneSource.wtSettings,this.wtTable=this.cloneOverlay.createTable(this,n.table),this.wtScroll=new lH(this),this.wtViewport=n.cloneSource.wtViewport,this.wtEvent=new iH(this),this.selections=this.cloneSource.selections):(this.wtSettings=new mge(this,n),this.wtTable=new bhe(this,n.table),this.wtScroll=new lH(this),this.wtViewport=new _ge(this),this.wtEvent=new iH(this),this.selections=this.getSetting("selections"),this.wtOverlays=new cge(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(o,a){na(a,t[o])}])}this.drawn=!1,this.drawInterrupted=!1}return Cge(e,[{key:"draw",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,!t&&!this.wtTable.isVisible()?this.drawInterrupted=!0:this.wtTable.draw(t),this}},{key:"getCell",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)return this.wtTable.getCell(t);var i=this.wtSettings.getSetting("totalRows"),o=this.wtSettings.getSetting("fixedRowsTop"),a=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsLeft");if(t.row<o&&t.col<s)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t);if(t.row<o)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<s&&t.row>=i-a){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<s)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-a&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"update",value:function(t,r){return this.wtSettings.update(t,r)}},{key:"scrollViewport",value:function(t,r,i,o,a){return t.col<0||t.row<0?!1:this.wtScroll.scrollViewport(t,r,i,o,a)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return t<0?!1:this.wtScroll.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return t<0?!1:this.wtScroll.scrollViewportVertically(t,r,i)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"exportSettingsAsClassNames",value:function(){var t=this,r={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},i=[],o=[];st(r,function(a,s){t.getSetting(s).length&&o.push(a),i.push(a)}),Je(this.wtTable.wtRootElement.parentNode,i),ve(this.wtTable.wtRootElement.parentNode,o)}},{key:"getSetting",value:function(t,r,i,o,a){return this.wtSettings.getSetting(t,r,i,o,a)}},{key:"hasSetting",value:function(t){return this.wtSettings.has(t)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}]),e}(),Oge=Rge,Ege=pn,hH=Qe,Tge=xc,kge=ar,Age=mc.f,Mge=hH(Age),xge=hH([].push),dH=function(e){return function(n){for(var t=kge(n),r=Tge(t),i=r.length,o=0,a=[],s;i>o;)s=r[o++],(!Ege||Mge(t,s))&&xge(a,e?[s,t[s]]:t[s]);return a}},Pge={entries:dH(!0),values:dH(!1)},Ige=et,$ge=Pge.values;Ige({target:"Object",stat:!0},{values:function(n){return $ge(n)}});function Dge(e,n){return Fge(e)||Hge(e,n)||Lge(e,n)||Nge()}function Nge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(e,n){if(!!e){if(typeof e=="string")return gH(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gH(e,n)}}function gH(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Hge(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Fge(e){if(Array.isArray(e))return e}function Xp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xp=function(t){return typeof t}:Xp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function Bge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vge(e,n,t){return n&&pH(e.prototype,n),t&&pH(e,t),e}var Wge=function(){function e(n,t){Bge(this,e),this.settings=n,this.cellRange=t||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return Vge(e,[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new ege(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return this.cellRange===null}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=new fn(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getOuterTopLeftCorner(),r=this.cellRange.getOuterBottomRightCorner();return[t.row,t.col,r.row,r.col]}},{key:"addClassAtCoords",value:function(t,r,i,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=t.wtTable.getCell(new ae(r,i));if(Xp(s)==="object"){var l=o;a&&(l=this.classNameGenerator(s),this.classNames.includes(l)||this.classNames.push(l)),ve(s,l)}return this}},{key:"linearClassNameGenerator",value:function(t,r){return function i(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(r===0||a===0)return t;var s=a>=0?a:r,l=t;s-=1;var u=s===0?t:"".concat(t,"-").concat(s);if(ze(o,u)){var c=s+1;l="".concat(t,"-").concat(c)}else l=i(o,s);return l}}},{key:"draw",value:function(t){if(this.isEmpty()){this.settings.border&&this.getBorder(t).disappear();return}var r=t.wtTable.getRenderedRowsCount(),i=t.wtTable.getRenderedColumnsCount(),o=this.getCorners(),a=Dge(o,4),s=a[0],l=a[1],u=a[2],c=a[3],f=this.settings,h=f.highlightHeaderClassName,d=f.highlightColumnClassName,g=f.highlightRowClassName,p=f.highlightOnlyClosestHeader,v=f.selectionType,m=v===void 0||["active-header","header"].includes(v);if(m&&l!==null&&c!==null)for(var w=0,C=0;C<i;C+=1){var E=t.wtTable.columnFilter.renderedToSource(C);if(E>=l&&E<=c){var k=t.wtTable.getColumnHeaders(E),$=k.length-1;p&&k.length>1&&(k=[k[$]]);for(var D=0;D<k.length;D+=1){var Y=[],L=k[D];h&&Y.push(h),d&&Y.push(d),D=p?$:D;var X=t.getSetting("onBeforeHighlightingColumnHeader",E,D,{selectionType:v,columnCursor:w,selectionWidth:c-l+1,classNames:Y});X!==E&&(L=t.wtTable.getColumnHeader(X,D)),ve(L,Y)}w+=1}}if(s!==null&&u!==null)for(var te=0,oe=0;oe<r;oe+=1){var ie=t.wtTable.rowFilter.renderedToSource(oe);if(m&&ie>=s&&ie<=u){var de=t.wtTable.getRowHeaders(ie),y=de.length-1;p&&de.length>1&&(de=[de[y]]);for(var S=0;S<de.length;S+=1){var b=[],_=de[S];h&&b.push(h),g&&b.push(g),S=p?y:S;var A=t.getSetting("onBeforeHighlightingRowHeader",ie,S,{selectionType:v,rowCursor:te,selectionHeight:u-s+1,classNames:b});A!==ie&&(_=t.wtTable.getRowHeader(A,S)),ve(_,b)}te+=1}if(l!==null&&c!==null)for(var N=0;N<i;N+=1){var I=t.wtTable.columnFilter.renderedToSource(N);ie>=s&&ie<=u&&I>=l&&I<=c?this.settings.className&&this.addClassAtCoords(t,ie,I,this.settings.className,this.settings.markIntersections):ie>=s&&ie<=u?g&&this.addClassAtCoords(t,ie,I,g):I>=l&&I<=c&&d&&this.addClassAtCoords(t,ie,I,d);var R=t.getSetting("onAfterDrawSelection",ie,I,this.settings.layerLevel);typeof R=="string"&&this.addClassAtCoords(t,ie,I,R)}}t.getSetting("onBeforeDrawBorders",o,this.settings.className),this.settings.border&&this.getBorder(t).appear(o)}},{key:"destroy",value:function(){Object.values(this.instanceBorders).forEach(function(t){return t.destroy()})}}]),e}(),jge=Wge,vH;function Uge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zge(e,n,t){return n&&mH(e.prototype,n),t&&mH(e,t),e}function Yge(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var Ul=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeSetCellMeta","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],Gge=Mt(vH||(vH=Yge([`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion]. 
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to 
  learn about the migration path.`],[`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\\x20
  learn about the migration path.`]))),g0=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),p0=new Map([["beforeAutofillInsidePopulate",'The plugin hook "beforeAutofillInsidePopulate" is deprecated and will be removed in the next major release.']]),yH=function(){function e(){Uge(this,e),this.globalBucket=this.createEmptyBucket()}return zge(e,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return B(Ul,function(r){return t[r]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(Array.isArray(r))B(r,function(l){return i.add(t,l,o)});else{g0.has(t)&&Nt(_C(Gge,{hookName:t,removedInVersion:g0.get(t)})),p0.has(t)&&Nt(p0.get(t));var a=this.getBucket(o);if(typeof a[t]=="undefined"&&(this.register(t),a[t]=[]),r.skip=!1,a[t].indexOf(r)===-1){var s=!1;r.initialHook&&B(a[t],function(l,u){if(l.initialHook)return a[t][u]=r,s=!0,!1}),s||a[t].push(r)}}return this}},{key:"once",value:function(t,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Array.isArray(r)?B(r,function(a){return i.once(t,a,o)}):(r.runOnce=!0,this.add(t,r,o))}},{key:"remove",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=this.getBucket(i);return typeof o[t]!="undefined"&&o[t].indexOf(r)>=0?(r.skip=!0,!0):!1}},{key:"has",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.getBucket(r);return!!(i[t]!==void 0&&i[t].length)}},{key:"run",value:function(t,r,i,o,a,s,l,u){{var c=this.globalBucket[r],f=c?c.length:0,h=0;if(f)for(;h<f;){if(!c[h]||c[h].skip){h+=1;continue}var d=Gg(c[h],t,i,o,a,s,l,u);d!==void 0&&(i=d),c[h]&&c[h].runOnce&&this.remove(r,c[h]),h+=1}}{var g=this.getBucket(t)[r],p=g?g.length:0,v=0;if(p)for(;v<p;){if(!g[v]||g[v].skip){v+=1;continue}var m=Gg(g[v],t,i,o,a,s,l,u);m!==void 0&&(i=m),g[v]&&g[v].runOnce&&this.remove(r,g[v],t),v+=1}}return i}},{key:"destroy",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;st(this.getBucket(t),function(r,i,o){return o[i].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||Ul.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&Ul.splice(Ul.indexOf(t),1)}},{key:"isDeprecated",value:function(t){return p0.has(t)||g0.has(t)}},{key:"isRegistered",value:function(t){return Ul.indexOf(t)>=0}},{key:"getRegistered",value:function(){return Ul}}],[{key:"getSingleton",value:function(){return Xge()}}]),e}(),Kge=new yH;function Xge(){return Kge}var De=yH;function bH(e){return Jge(e)||Qge(e)||Zge(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(e,n){if(!!e){if(typeof e=="string")return v0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v0(e,n)}}function Qge(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jge(e){if(Array.isArray(e))return v0(e)}function v0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var m0=new Map;function Pr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";m0.has(e)||m0.set(e,new Map);var n=m0.get(e);function t(s,l){n.set(s,l)}function r(s){return n.get(s)}function i(s){return n.has(s)}function o(){return bH(n.keys())}function a(){return bH(n.values())}return{register:t,getItem:r,hasItem:i,getNames:o,getValues:a}}var y0=new WeakMap,xf=Pr("editors"),epe=xf.register,wH=xf.getItem,_H=xf.hasItem,tpe=xf.getNames;xf.getValues;function npe(e){var n={},t=e;this.getConstructor=function(){return e},this.getInstance=function(r){return r.guid in n||(n[r.guid]=new t(r)),n[r.guid]},De.getSingleton().add("afterDestroy",function(){n[this.guid]=null})}function SH(e,n){var t;if(typeof e=="function")y0.get(e)||hr(null,e),t=y0.get(e);else if(typeof e=="string")t=wH(e);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!t)throw Error('No editor registered under name "'.concat(e,'"'));return t.getInstance(n)}function CH(e){if(!_H(e))throw Error('No registered editor found under "'.concat(e,'" name'));return wH(e).getConstructor()}function hr(e,n){e&&typeof e!="string"&&(n=e,e=n.EDITOR_TYPE);var t=new npe(n);typeof e=="string"&&epe(e,t),y0.set(n,t)}var rpe="hooksRefRegisterer",RH={_hooksStorage:Object.create(null),addHook:function(n,t){return this._hooksStorage[n]||(this._hooksStorage[n]=[]),this.hot.addHook(n,t),this._hooksStorage[n].push(t),this},removeHooksByKey:function(n){var t=this;B(this._hooksStorage[n]||[],function(r){t.hot.removeHook(n,r)})},clearHooks:function(){var n=this;st(this._hooksStorage,function(t,r){return n.removeHooksByKey(r)}),this._hooksStorage={}}};li(RH,"MIXIN_NAME",rpe,{writable:!1,enumerable:!1});var ipe=RH;function qp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qp=function(t){return typeof t}:qp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function ope(e,n){return upe(e)||lpe(e,n)||spe(e,n)||ape()}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(e,n){if(!!e){if(typeof e=="string")return OH(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OH(e,n)}}function OH(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function lpe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function upe(e){if(Array.isArray(e))return e}function cpe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&b0(e,n)}function b0(e,n){return b0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},b0(e,n)}function fpe(e){var n=gpe();return function(){var r=Zp(e),i;if(n){var o=Zp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hpe(this,i)}}function hpe(e,n){if(n&&(qp(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(e)}function dpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gpe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zp(e)}function EH(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function TH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ppe(e,n,t){return n&&TH(e.prototype,n),t&&TH(e,t),e}var vpe="base",_n=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),zl=function(){function e(n){EH(this,e),this.hot=n,this.instance=n,this.state=_n.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}return ppe(e,[{key:"_fireCallbacks",value:function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(t,r,i,o,a,s){this.TD=o,this.row=t,this.col=r,this.prop=i,this.originalValue=a,this.cellProperties=s,this.state=_n.VIRGIN}},{key:"extend",value:function(){return function(t){cpe(i,t);var r=fpe(i);function i(){return EH(this,i),r.apply(this,arguments)}return i}(this.constructor)}},{key:"saveValue",value:function(t,r){var i,o,a,s;if(r){var l=this.hot.getSelectedLast();i=Math.max(Math.min(l[0],l[2]),0),o=Math.max(Math.min(l[1],l[3]),0),a=Math.max(l[0],l[2]),s=Math.max(l[1],l[3])}else{var u=[this.row,this.col,null,null];i=u[0],o=u[1],a=u[2],s=u[3]}var c=this.hot.runHooks("modifyGetCellCoords",i,o);if(Array.isArray(c)){var f=ope(c,2);i=f[0],o=f[1]}this.hot.populateFromArray(i,o,t,a,s,"edit")}},{key:"beginEditing",value:function(t,r){if(this.state===_n.VIRGIN){var i=this.hot,o=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),a=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(new ae(o,a)),this.state=_n.EDITING,this.isInFullEditMode()){var s=typeof t=="string"?t:zt(this.originalValue);this.setValue(s)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(t,r,i){var o=this,a;if(i){var s=this._closeCallback;this._closeCallback=function(u){s&&s(u),i(u),o.hot.view.render()}}if(!this.isWaiting()){if(this.state===_n.VIRGIN){this.hot._registerTimeout(function(){o._fireCallbacks(!0)});return}if(this.state===_n.EDITING){if(t){this.cancelChanges(),this.hot.view.render();return}var l=this.getValue();this.hot.getSettings().trimWhitespace?a=[[typeof l=="string"?String.prototype.trim.call(l||""):l]]:a=[[l]],this.state=_n.WAITING,this.saveValue(a,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",function(u){o.state=_n.FINISHED,o.discardEditor(u)}):(this.state=_n.FINISHED,this.discardEditor(!0))}}}},{key:"cancelChanges",value:function(){this.state=_n.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(t){this.state===_n.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=_n.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=_n.VIRGIN,this._fireCallbacks(!0)))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===_n.WAITING}},{key:"getEditedCellsLayerClass",value:function(){var t=this.checkEditorSection();switch(t){case"right":return"ht_clone_right";case"left":return"ht_clone_left";case"bottom":return"ht_clone_bottom";case"bottom-right-corner":return"ht_clone_bottom_right_corner";case"bottom-left-corner":return"ht_clone_bottom_left_corner";case"top":return"ht_clone_top";case"top-right-corner":return"ht_clone_top_right_corner";case"top-left-corner":return"ht_clone_top_left_corner";default:return"ht_clone_master"}}},{key:"getEditedCell",value:function(){return this.hot.getCell(this.row,this.col,!0)}},{key:"checkEditorSection",value:function(){var t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsLeft?r="top-left-corner":r="top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsLeft?r="bottom-left-corner":r="bottom":this.col<this.hot.getSettings().fixedColumnsLeft&&(r="left"),r}}],[{key:"EDITOR_TYPE",get:function(){return vpe}}]),e}();Ot(zl,ipe);function mpe(e,n){return _pe(e)||wpe(e,n)||bpe(e,n)||ype()}function ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(e,n){if(!!e){if(typeof e=="string")return kH(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kH(e,n)}}function kH(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function wpe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function _pe(e){if(Array.isArray(e))return e}function Spe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function AH(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cpe(e,n,t){return n&&AH(e.prototype,n),t&&AH(e,t),e}var w0=function(){function e(n,t,r){var i=this;Spe(this,e),this.instance=n,this.tableMeta=t,this.selection=r,this.eventManager=new Rt(n),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.cellProperties=void 0,this.lastKeyCode=void 0,this.instance.addHook("afterDocumentKeyDown",function(a){return i.onAfterDocumentKeyDown(a)});for(var o=this.instance.rootWindow;o;)this.eventManager.addEventListener(o.document.documentElement,"keydown",function(a){i.destroyed||i.instance.runHooks("afterDocumentKeyDown",a)}),o=Wg(o);this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",function(a){!i.destroyed&&i.activeEditor&&!i.activeEditor.isOpened()&&i.instance.isListening()&&i.openEditor("",a)}),this.instance.view.wt.update("onCellDblClick",function(a,s,l){return i.onCellDblClick(a,s,l)})}return Cpe(e,[{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(t){this.lock||this.closeEditor(t)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var t=this;if(!this.lock){if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,function(p){p&&t.prepareEditor()});return}var r=this.instance.selection.selectedRange.current().highlight,i=r.row,o=r.col,a=this.instance.runHooks("modifyGetCellCoords",i,o),s=i,l=o;if(Array.isArray(a)){var u=mpe(a,2);s=u[0],l=u[1]}this.cellProperties=this.instance.getCellMeta(s,l);var c=this.instance.rootDocument.activeElement;if(c&&c.blur(),this.cellProperties.readOnly){this.clearActiveEditor();return}var f=this.instance.getCellEditor(this.cellProperties),h=this.instance.getCell(i,o,!0);if(f&&h){var d=this.instance.colToProp(l),g=this.instance.getSourceDataAtCell(this.instance.toPhysicalRow(s),l);this.activeEditor=SH(f,this.instance),this.activeEditor.prepare(i,o,d,h,g,this.cellProperties)}else this.clearActiveEditor()}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(t,r){!this.activeEditor||this.activeEditor.beginEditing(t,r)}},{key:"closeEditor",value:function(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}},{key:"closeEditorAndSaveChanges",value:function(t){this.closeEditor(!1,t)}},{key:"closeEditorAndRestoreOriginalValue",value:function(t){this.closeEditor(!0,t)}},{key:"clearActiveEditor",value:function(){this.activeEditor=void 0}},{key:"moveSelectionAfterEnter",value:function(t){var r=typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(event):this.tableMeta.enterMoves;t?this.selection.transformStart(-r.row,-r.col):this.selection.transformStart(r.row,r.col,!0)}},{key:"moveSelectionUp",value:function(t){t?this.selection.transformEnd(-1,0):this.selection.transformStart(-1,0)}},{key:"moveSelectionDown",value:function(t){t?this.selection.transformEnd(1,0):this.selection.transformStart(1,0)}},{key:"moveSelectionRight",value:function(t){t?this.selection.transformEnd(0,this.instance.getDirectionFactor()):this.selection.transformStart(0,this.instance.getDirectionFactor())}},{key:"moveSelectionLeft",value:function(t){t?this.selection.transformEnd(0,-1*this.instance.getDirectionFactor()):this.selection.transformStart(0,-1*this.instance.getDirectionFactor())}},{key:"onAfterDocumentKeyDown",value:function(t){if(!!this.instance.isListening()){this.instance.runHooks("beforeKeyDown",t);var r=t.keyCode;if(!(this.destroyed||r===229)&&!Xr(t)&&(this.lastKeyCode=r,!!this.selection.isSelected())){var i=(t.ctrlKey||t.metaKey)&&!t.altKey;if(this.activeEditor&&!this.activeEditor.isWaiting()&&!h0(r)&&!d0(r)&&!i&&!this.isEditorOpened()){this.openEditor("",t);return}var o=t.shiftKey,a=o?this.selection.setRangeEnd:this.selection.setRangeStart,s;switch(r){case me.A:!this.isEditorOpened()&&i&&(this.instance.selectAll(),t.preventDefault(),t.stopPropagation());break;case me.ARROW_UP:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(i),this.moveSelectionUp(o),t.preventDefault(),t.stopPropagation();break;case me.ARROW_DOWN:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(i),this.moveSelectionDown(o),t.preventDefault(),t.stopPropagation();break;case me.ARROW_RIGHT:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(i),this.moveSelectionRight(o),t.preventDefault(),t.stopPropagation();break;case me.ARROW_LEFT:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(i),this.moveSelectionLeft(o),t.preventDefault(),t.stopPropagation();break;case me.TAB:s=typeof this.tableMeta.tabMoves=="function"?this.tableMeta.tabMoves(t):this.tableMeta.tabMoves,o?this.selection.transformStart(-s.row,-s.col):this.selection.transformStart(s.row,s.col,!0),t.preventDefault(),t.stopPropagation();break;case me.BACKSPACE:case me.DELETE:this.instance.emptySelectedCells(),this.prepareEditor(),t.preventDefault();break;case me.F2:this.activeEditor&&this.activeEditor.enableFullEditMode(),this.openEditor(null,t),t.preventDefault();break;case me.ENTER:this.isEditorOpened()?(this.activeEditor&&this.activeEditor.state!==_n.WAITING&&this.closeEditorAndSaveChanges(i),this.moveSelectionAfterEnter(o)):this.instance.getSettings().enterBeginsEditing?this.cellProperties.readOnly?this.moveSelectionAfterEnter():this.activeEditor&&(this.activeEditor.enableFullEditMode(),this.openEditor(null,t)):this.moveSelectionAfterEnter(o),t.preventDefault(),Lt(t);break;case me.ESCAPE:this.isEditorOpened()&&(this.closeEditorAndRestoreOriginalValue(i),this.activeEditor.focus()),t.preventDefault();break;case me.HOME:t.ctrlKey||t.metaKey?a.call(this.selection,new ae(this.instance.rowIndexMapper.getFirstNotHiddenIndex(0,1),this.selection.selectedRange.current().from.col)):a.call(this.selection,new ae(this.selection.selectedRange.current().from.row,this.instance.columnIndexMapper.getFirstNotHiddenIndex(0,1))),t.preventDefault(),t.stopPropagation();break;case me.END:t.ctrlKey||t.metaKey?a.call(this.selection,new ae(this.instance.rowIndexMapper.getFirstNotHiddenIndex(this.instance.countRows()-1,-1),this.selection.selectedRange.current().from.col)):a.call(this.selection,new ae(this.selection.selectedRange.current().from.row,this.instance.columnIndexMapper.getFirstNotHiddenIndex(this.instance.countCols()-1,-1))),t.preventDefault(),t.stopPropagation();break;case me.PAGE_UP:this.selection.transformStart(-this.instance.countVisibleRows(),0),t.preventDefault(),t.stopPropagation();break;case me.PAGE_DOWN:this.selection.transformStart(this.instance.countVisibleRows(),0),t.preventDefault(),t.stopPropagation();break}}}}},{key:"onCellDblClick",value:function(t,r,i){i.nodeName==="TD"&&(this.activeEditor&&this.activeEditor.enableFullEditMode(),this.openEditor(null,t))}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}]),e}(),MH=new WeakMap;w0.getInstance=function(e,n,t){var r=MH.get(e);return r||(r=new w0(e,n,t),MH.set(e,r)),r};var Rpe=w0,Ope=et,Epe=Qn,xH=xc,Tpe=lt,kpe=Tpe(function(){xH(1)});Ope({target:"Object",stat:!0,forced:kpe},{keys:function(n){return xH(Epe(n))}});var Ape=En,Mpe=zd,xpe=rn,Ppe=Wa,_0=mn,Ipe=Zn,$pe=Ha,Dpe=h_,PH=Yd;Mpe("match",function(e,n,t){return[function(i){var o=Ipe(this),a=i==null?void 0:$pe(i,e);return a?Ape(a,i,o):new RegExp(i)[e](_0(o))},function(r){var i=xpe(this),o=_0(r),a=t(n,i,o);if(a.done)return a.value;if(!i.global)return PH(i,o);var s=i.unicode;i.lastIndex=0;for(var l=[],u=0,c;(c=PH(i,o))!==null;){var f=_0(c[0]);l[u]=f,f===""&&(i.lastIndex=Dpe(o,Ppe(i.lastIndex),s)),u++}return u===0?null:l}]});var Npe=Ua,Lpe=ar,Hpe=Vo,Fpe=Or,Bpe=hl,Vpe=Math.min,S0=[].lastIndexOf,IH=!!S0&&1/[1].lastIndexOf(1,-0)<0,Wpe=Bpe("lastIndexOf"),jpe=IH||!Wpe,Upe=jpe?function(n){if(IH)return Npe(S0,this,arguments)||0;var t=Lpe(this),r=Fpe(t),i=r-1;for(arguments.length>1&&(i=Vpe(i,Hpe(arguments[1]))),i<0&&(i=r+i);i>=0;i--)if(i in t&&t[i]===n)return i||0;return-1}:S0,zpe=et,$H=Upe;zpe({target:"Array",proto:!0,forced:$H!==[].lastIndexOf},{lastIndexOf:$H});var Ype=We,Gpe=ll,Kpe=Qn,Xpe=bc,qpe=Or,Zpe=Ype.TypeError,DH=function(e){return function(n,t,r,i){Gpe(t);var o=Kpe(n),a=Xpe(o),s=qpe(o),l=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=u;break}if(l+=u,e?l<0:s<=l)throw Zpe("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=u)l in a&&(i=t(i,a[l],l,o));return i}},Qpe={left:DH(!1),right:DH(!0)},Jpe=et,eve=Qpe.left,tve=hl,NH=wc,nve=iI,rve=tve("reduce"),ive=!nve&&NH>79&&NH<83;Jpe({target:"Array",proto:!0,forced:!rve||ive},{reduce:function(n){var t=arguments.length;return eve(this,n,t,t>1?arguments[1]:void 0)}});var ove=et,ave=ja.findIndex,sve=Pc,C0="findIndex",LH=!0;C0 in[]&&Array(1)[C0](function(){LH=!1});ove({target:"Array",proto:!0,forced:LH},{findIndex:function(n){return ave(this,n,arguments.length>1?arguments[1]:void 0)}});sve(C0);function R0(e){return fve(e)||cve(e)||uve(e)||lve()}function lve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(e,n){if(!!e){if(typeof e=="string")return O0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O0(e,n)}}function cve(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fve(e){if(Array.isArray(e))return O0(e)}function O0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var HH={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},hve=new RegExp(Object.keys(HH).map(function(e){return"(".concat(e,")")}).join("|"),"gi");function dve(e){return(e&&e.nodeName||"")==="TABLE"}function E0(e){for(var n=e.hasColHeaders(),t=e.hasRowHeaders(),r=[n?-1:0,t?-1:0,e.countRows()-1,e.countCols()-1],i=e.getData.apply(e,r),o=i.length,a=o>0?i[0].length:0,s=["<table>","</table>"],l=n?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=t?1:0,f=n?1:0,h=0;h<o;h+=1){for(var d=n&&h===0,g=[],p=0;p<a;p+=1){var v=!d&&t&&p===0,m="";if(d)m="<th>".concat(e.getColHeader(p-c),"</th>");else if(v)m="<th>".concat(e.getRowHeader(h-f),"</th>");else{var w=i[h][p],C=e.getCellMeta(h-f,p-c),E=C.hidden,k=C.rowspan,$=C.colspan;if(!E){var D=[];if(k&&D.push('rowspan="'.concat(k,'"')),$&&D.push('colspan="'.concat($,'"')),cn(w))m="<td ".concat(D.join(" "),"></td>");else{var Y=w.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");m="<td ".concat(D.join(" "),">").concat(Y,"</td>")}}}g.push(m)}var L=["<tr>"].concat(g,["</tr>"]).join("");d?l.splice(1,0,L):u.splice(-1,0,L)}return s.splice(1,0,l.join(""),u.join("")),s.join("")}function T0(e){for(var n=e.length,t=["<table>"],r=0;r<n;r+=1){var i=e[r],o=i.length,a=[];r===0&&t.push("<tbody>");for(var s=0;s<o;s+=1){var l=i[s],u=cn(l)?"":l.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");a.push("<td>".concat(u,"</td>"))}t.push.apply(t,["<tr>"].concat(a,["</tr>"])),r+1===n&&t.push("</tbody>")}return t.push("</table>"),t.join("")}function FH(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,t={},r=n.createDocumentFragment(),i=n.createElement("div");r.appendChild(i);var o=e;if(typeof o=="string"){var a=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,function(R){var P=R.match(/<td\b[^>]*?>/g)[0],H=R.substring(P.length,R.lastIndexOf("<")).replace(/(<(?!br)([^>]+)>)/gi,""),V="</td>";return"".concat(P).concat(H).concat(V)});i.insertAdjacentHTML("afterbegin","".concat(a)),o=i.querySelector("table")}if(!(!o||!dve(o))){var s=i.querySelector('meta[name$="enerator"]'),l=o.querySelector("tbody th")!==null,u=o.querySelector("tr"),c=u?Array.from(u.cells).reduce(function(R,P){return R+P.colSpan},0)-(l?1:0):0,f=o.tFoot&&Array.from(o.tFoot.rows)||[],h=[],d=!1,g=0,p=0;if(o.tHead){var v=Array.from(o.tHead.rows).filter(function(R){var P=R.querySelector("td")!==null;return P&&h.push(R),!P});g=v.length,d=g>0,g>1?t.nestedHeaders=Array.from(v).reduce(function(R,P){var H=Array.from(P.cells).reduce(function(V,q,K){if(l&&K===0)return V;var ce=q.colSpan,ue=q.innerHTML,ge=ce>1?{label:ue,colspan:ce}:ue;return V.push(ge),V},[]);return R.push(H),R},[]):d&&(t.colHeaders=Array.from(v[0].children).reduce(function(R,P,H){return l&&H===0||R.push(P.innerHTML),R},[]))}h.length&&(t.fixedRowsTop=h.length),f.length&&(t.fixedRowsBottom=f.length);var m=[].concat(h,R0(Array.from(o.tBodies).reduce(function(R,P){return R.push.apply(R,R0(Array.from(P.rows))),R},[])),R0(f));p=m.length;for(var w=new Array(p),C=0;C<p;C++)w[C]=new Array(c);for(var E=[],k=[],$=0;$<p;$++)for(var D=m[$],Y=Array.from(D.cells),L=Y.length,X=0;X<L;X++){var te=Y[X],oe=te.nodeName,ie=te.innerHTML,de=te.rowSpan,y=te.colSpan,S=w[$].findIndex(function(R){return R===void 0});if(oe==="TD"){if(de>1||y>1){for(var b=$;b<$+de;b++)if(b<p)for(var _=S;_<S+y;_++)w[b][_]=null;var A=te.getAttribute("style"),N=A&&A.includes("mso-ignore:colspan");N||E.push({col:S,row:$,rowspan:de,colspan:y})}var I="";s&&/excel/gi.test(s.content)?I=ie.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):I=ie.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),w[$][S]=I.replace(hve,function(R){return HH[R]})}else k.push(ie)}return E.length&&(t.mergeCells=E),k.length&&(t.rowHeaders=k),w.length&&(t.data=w),t}}var gve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",instanceToHTML:E0,_dataToHTML:T0,htmlToGridSettings:FH});function pve(e){return bve(e)||yve(e)||mve(e)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mve(e,n){if(!!e){if(typeof e=="string")return k0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k0(e,n)}}function yve(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bve(e){if(Array.isArray(e))return k0(e)}function k0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Qp(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qp=function(t){return typeof t}:Qp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function dr(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=Qp(e);if(t==="number")return!isNaN(e)&&isFinite(e);if(t==="string"){if(e.length===0)return!1;if(e.length===1)return/\d/.test(e);var r=Array.from(new Set(["."].concat(pve(n)))).map(function(i){return"\\".concat(i)}).join("|");return new RegExp("^[+-]?\\s*(((".concat(r,")?\\d+((").concat(r,")\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$"),"i").test(e.trim())}else if(t==="object")return!!e&&typeof e.valueOf()=="number"&&!(e instanceof Date);return!1}function BH(e){return dr(e,[","])}function Le(e,n,t){var r=-1;for(typeof n=="function"?(t=n,n=e):r=e-1;++r<=n&&t(r)!==!1;);}function Jp(e,n,t){var r=e+1;for(typeof n=="function"&&(t=n,n=0);--r>=n&&t(r)!==!1;);}function A0(e,n){return n=parseInt(n.tostring().replace("%",""),10),n=parseInt(e*n/100,10),n}var wve=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isNumeric:dr,isNumericLike:BH,rangeEach:Le,rangeEachReverse:Jp,valueAccordingPercent:A0});function _ve(e){return Rve(e)||Cve(e)||VH(e)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cve(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rve(e){if(Array.isArray(e))return M0(e)}function Ove(e,n){return kve(e)||Tve(e,n)||VH(e,n)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VH(e,n){if(!!e){if(typeof e=="string")return M0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M0(e,n)}}function M0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Tve(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function kve(e){if(Array.isArray(e))return e}var x0="asc",Ave="desc",WH=new Map([[x0,[-1,1]],[Ave,[1,-1]]]),Mve=function(n){return"The priority '".concat(n,"' is already declared in a map.")},xve=function(n){return"The priority '".concat(n,"' is not a number.")};function Pve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.errorPriorityExists,t=e.errorPriorityNaN,r=new Map;n=xt(n)?n:Mve,t=xt(t)?t:xve;function i(a,s){if(!dr(a))throw new Error(t(a));if(r.has(a))throw new Error(n(a));r.set(a,s)}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x0,s=WH.get(a)||WH.get(x0),l=Ove(s,2),u=l[0],c=l[1];return _ve(r).sort(function(f,h){return f[0]<h[0]?u:c}).map(function(f){return f[1]})}return{addItem:i,getItems:o}}var Ive=et,$ve=ja.find,Dve=Pc,P0="find",jH=!0;P0 in[]&&Array(1)[P0](function(){jH=!1});Ive({target:"Array",proto:!0,forced:jH},{find:function(n){return $ve(this,n,arguments.length>1?arguments[1]:void 0)}});Dve(P0);function Nve(e){return Fve(e)||Hve(e)||zH(e)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fve(e){if(Array.isArray(e))return I0(e)}function UH(e,n){return Wve(e)||Vve(e,n)||zH(e,n)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zH(e,n){if(!!e){if(typeof e=="string")return I0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I0(e,n)}}function I0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Vve(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Wve(e){if(Array.isArray(e))return e}var jve=function(n){return"The id '".concat(n,"' is already declared in a map.")};function YH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.errorIdExists,t=new Map;n=xt(n)?n:jve;function r(u,c){if(l(u))throw new Error(n(u));t.set(u,c)}function i(){t.clear()}function o(u){var c=s().find(function(d){var g=UH(d,2),p=g[0],v=g[1];return u===v?p:!1})||[null],f=UH(c,1),h=f[0];return h}function a(u){return t.get(u)}function s(){return Nve(t)}function l(u){return t.has(u)}return{addItem:r,clear:i,getId:o,getItem:a,getItems:s,hasItem:l}}function Uve(e){return Kve(e)||Gve(e)||Yve(e)||zve()}function zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(e,n){if(!!e){if(typeof e=="string")return $0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $0(e,n)}}function Gve(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kve(e){if(Array.isArray(e))return $0(e)}function $0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Xve=function(n){return"'".concat(n,"' value is already declared in a unique set.")};function qve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.errorItemExists,t=new Set;n=xt(n)?n:Xve;function r(o){if(t.has(o))throw new Error(n(o));t.add(o)}function i(){return Uve(t)}return{addItem:r,getItems:i}}function Zve(e,n){return eme(e)||Jve(e,n)||KH(e,n)||Qve()}function Qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jve(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function eme(e){if(Array.isArray(e))return e}function GH(e){return rme(e)||nme(e)||KH(e)||tme()}function tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(e,n){if(!!e){if(typeof e=="string")return D0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D0(e,n)}}function nme(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rme(e){if(Array.isArray(e))return D0(e)}function D0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var N0=function(n){return'There is already registered "'.concat(n,'" plugin.')},ime=function(n){return'There is already registered plugin on priority "'.concat(n,'".')},ome=function(n){return'The priority "'.concat(n,'" is not a number.')},XH=Pve({errorPriorityExists:ime,errorPriorityNaN:ome}),qH=qve({errorItemExists:N0}),L0=YH({errorIdExists:N0});function H0(){return[].concat(GH(XH.getItems()),GH(qH.getItems()))}function Pf(e){var n=Gr(e);return L0.getItem(n)}function ame(e){return!!Pf(e)}function mt(e,n,t){var r=lme(e,n,t),i=Zve(r,3);e=i[0],n=i[1],t=i[2],Pf(e)===void 0&&sme(e,n,t)}function sme(e,n,t){var r=Gr(e);if(L0.hasItem(r))throw new Error(N0(r));t===void 0?qH.addItem(r):XH.addItem(t,r),L0.addItem(r,n)}function lme(e,n,t){return typeof e=="function"&&(n=e,e=n.PLUGIN_KEY,t=n.PLUGIN_PRIORITY),[e,n,t]}var If=Pr("renderers"),ume=If.register,cme=If.getItem,ZH=If.hasItem,fme=If.getNames;If.getValues;function F0(e){if(typeof e=="function")return e;if(!ZH(e))throw Error('No registered renderer found under "'.concat(e,'" name'));return cme(e)}function Ji(e,n){typeof e!="string"&&(n=e,e=n.RENDERER_TYPE),ume(e,n)}var $f=Pr("validators"),hme=$f.register,dme=$f.getItem,QH=$f.hasItem,gme=$f.getNames;$f.getValues;function B0(e){if(typeof e=="function")return e;if(!QH(e))throw Error('No registered validator found under "'.concat(e,'" name'));return dme(e)}function Yl(e,n){typeof e!="string"&&(n=e,e=n.VALIDATOR_TYPE),hme(e,n)}function JH(e){var n=e.isShiftKey,t=e.isLeftClick,r=e.isRightClick,i=e.coords,o=e.selection,a=e.controller,s=o.isSelected()?o.getSelectedRange().current():null,l=o.isSelectedByCorner(),u=o.isSelectedByRowHeader();if(n&&s)i.row>=0&&i.col>=0&&!a.cell?o.setRangeEnd(i):(l||u)&&i.row>=0&&i.col>=0&&!a.cell?o.setRangeEnd(new ae(i.row,i.col)):l&&i.row<0&&!a.column?o.setRangeEnd(new ae(s.to.row,i.col)):u&&i.col<0&&!a.row?o.setRangeEnd(new ae(i.row,s.to.col)):(!l&&!u&&i.col<0||l&&i.col<0)&&!a.row?o.selectRows(Math.max(s.from.row,0),i.row,i.col):(!l&&!u&&i.row<0||u&&i.row<0)&&!a.column&&o.selectColumns(Math.max(s.from.col,0),i.col,i.row);else{var c=!o.inInSelection(i),f=t||r&&c;i.row<0&&i.col>=0&&!a.column?f&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!a.row?f&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!a.cell?f&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0)}}function pme(e){var n=e.isLeftClick,t=e.coords,r=e.selection,i=e.controller;if(!!n){var o=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),s=r.tableProps.countCols(),l=r.tableProps.countRows();a&&!i.column?r.setRangeEnd(new ae(l-1,t.col)):o&&!i.row?r.setRangeEnd(new ae(t.row,s-1)):i.cell||r.setRangeEnd(t)}}var vme=new Map([["mousedown",JH],["mouseover",pme],["touchstart",JH]]);function eF(e,n){var t=n.coords,r=n.selection,i=n.controller;vme.get(e.type)({coords:t,selection:r,controller:i,isShiftKey:e.shiftKey,isLeftClick:wp(e)||e.type==="touchstart",isRightClick:oa(e)})}var tF=new WeakMap,V0=Symbol("rootInstance");function mme(e){tF.set(e,!0)}function yme(e){return e===V0}function W0(e){return tF.has(e)}function Df(e,n){return _me(e)||wme(e,n)||rF(e,n)||bme()}function bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wme(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function _me(e){if(Array.isArray(e))return e}function ev(e,n,t){return Sme()?ev=Reflect.construct:ev=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&j0(u,a.prototype),u},ev.apply(null,arguments)}function Sme(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j0(e,n){return j0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},j0(e,n)}function nF(e){return Ome(e)||Rme(e)||rF(e)||Cme()}function Cme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(e,n){if(!!e){if(typeof e=="string")return U0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U0(e,n)}}function Rme(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ome(e){if(Array.isArray(e))return U0(e)}function U0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Eme(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function iF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tme(e,n,t){return n&&iF(e.prototype,n),t&&iF(e,t),e}var us=new WeakMap,kme=function(){function e(n){Eme(this,e),this.instance=n,this.eventManager=new Rt(n),this.settings=n.getSettings(),this.THEAD=void 0,this.TBODY=void 0,this.wt=void 0,this.activeWt=void 0,this.postponedAdjustElementsSize=!1,us.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}return Tme(e,[{key:"render",value:function(){this.instance.isRenderSuspended()||(this.instance.runHooks("beforeRender",this.instance.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this.wt.draw(!this.instance.forceFullRender),this.instance.runHooks("afterRender",this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.instance.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this.wt.wtOverlays.adjustElementsSize(t)}},{key:"getCellAtCoords",value:function(t,r){var i=this.wt.getCell(t,r);return i<0?null:i}},{key:"scrollViewport",value:function(t,r,i,o,a){return this.wt.scrollViewport(t,r,i,o,a)}},{key:"scrollViewportHorizontally",value:function(t,r,i){return this.wt.scrollViewportHorizontally(t,r,i)}},{key:"scrollViewportVertically",value:function(t,r,i){return this.wt.scrollViewportVertically(t,r,i)}},{key:"createElements",value:function(){var t=us.get(this),r=this.instance,i=r.rootElement,o=r.rootDocument,a=i.getAttribute("style");a&&i.setAttribute("data-originalstyle",a),ve(i,"handsontable"),t.table=o.createElement("TABLE"),ve(t.table,"htCore"),this.instance.getSettings().tableClassName&&ve(t.table,this.instance.getSettings().tableClassName),this.THEAD=o.createElement("THEAD"),t.table.appendChild(this.THEAD),this.TBODY=o.createElement("TBODY"),t.table.appendChild(this.TBODY),this.instance.table=t.table,this.instance.container.insertBefore(t.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var t=this,r=us.get(this),i=this.instance,o=i.rootElement,a=i.rootDocument,s=i.selection,l=a.documentElement;this.eventManager.addEventListener(o,"mousedown",function(u){if(r.selectionMouseDown=!0,!t.isTextSelectionAllowed(u.target)){var c=t.instance.rootWindow;MC(c),u.preventDefault(),c.focus()}}),this.eventManager.addEventListener(o,"mouseup",function(){r.selectionMouseDown=!1}),this.eventManager.addEventListener(o,"mousemove",function(u){r.selectionMouseDown&&!t.isTextSelectionAllowed(u.target)&&(t.settings.fragmentSelection&&MC(t.instance.rootWindow),u.preventDefault())}),this.eventManager.addEventListener(l,"keyup",function(u){s.isInProgress()&&!u.shiftKey&&s.finish()}),this.eventManager.addEventListener(l,"mouseup",function(u){s.isInProgress()&&wp(u)&&s.finish(),r.mouseDown=!1,(PC(a.activeElement)||!s.isSelected()&&!s.isSelectedByAnyHeader()&&!o.contains(u.target)&&!oa(u))&&t.instance.unlisten()}),this.eventManager.addEventListener(l,"contextmenu",function(u){s.isInProgress()&&oa(u)&&(s.finish(),r.mouseDown=!1)}),this.eventManager.addEventListener(l,"touchend",function(){s.isInProgress()&&s.finish(),r.mouseDown=!1}),this.eventManager.addEventListener(l,"mousedown",function(u){var c=u.target,f=u.x||u.clientX,h=u.y||u.clientY,d=u.target;if(!(r.mouseDown||!o||!t.instance.view)){var g=t.instance.view.wt.wtTable.holder;if(d===g){var p=wn(a);if(a.elementFromPoint(f+p,h)!==g||a.elementFromPoint(f,h+p)!==g)return}else for(;d!==l;){if(d===null){if(u.isTargetWebComponent)break;return}if(d===o)return;d=d.parentNode}var v=typeof t.settings.outsideClickDeselects=="function"?t.settings.outsideClickDeselects(c):t.settings.outsideClickDeselects;v?t.instance.deselectCell():t.instance.destroyEditor(!1,!1)}}),this.eventManager.addEventListener(r.table,"selectstart",function(u){t.settings.fragmentSelection||Sf(u.target)||u.preventDefault()})}},{key:"translateFromRenderableToVisualCoords",value:function(t){var r=t.row,i=t.col;return ev(ae,nF(this.translateFromRenderableToVisualIndex(r,i)))}},{key:"translateFromRenderableToVisualIndex",value:function(t,r){var i=t>=0?this.instance.rowIndexMapper.getVisualFromRenderableIndex(t):t,o=r>=0?this.instance.columnIndexMapper.getVisualFromRenderableIndex(r):r;return i===null&&(i=t),o===null&&(o=r),[i,o]}},{key:"countRenderableIndexes",value:function(t,r){var i=Math.min(t.getNotTrimmedIndexesLength(),r),o=t.getFirstNotHiddenIndex(i-1,-1);return o===null?0:t.getRenderableFromVisualIndex(o)+1}},{key:"countRenderableColumns",value:function(){return this.countRenderableIndexes(this.instance.columnIndexMapper,this.settings.maxCols)}},{key:"countRenderableRows",value:function(){return this.countRenderableIndexes(this.instance.rowIndexMapper,this.settings.maxRows)}},{key:"countNotHiddenRowIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.rowIndexMapper,this.countRenderableRows())}},{key:"countNotHiddenColumnIndexes",value:function(t,r){return this.countNotHiddenIndexes(t,r,this.instance.columnIndexMapper,this.countRenderableColumns())}},{key:"countNotHiddenIndexes",value:function(t,r,i,o){if(isNaN(t)||t<0)return 0;var a=i.getFirstNotHiddenIndex(t,r),s=i.getRenderableFromVisualIndex(a);if(!Number.isInteger(s))return 0;var l=0;return r<0?l=s+1:r>0&&(l=o-s),l}},{key:"initializeWalkontable",value:function(){var t=this,r=us.get(this),i={externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r.table,isDataViewInstance:function(){return W0(t.instance)},preventOverflow:function(){return t.settings.preventOverflow},preventWheel:function(){return t.settings.preventWheel},stretchH:function(){return t.settings.stretchH},data:function(c,f){var h;return(h=t.instance).getDataAtCell.apply(h,nF(t.translateFromRenderableToVisualIndex(c,f)))},totalRows:function(){return t.countRenderableRows()},totalColumns:function(){return t.countRenderableColumns()},fixedColumnsLeft:function(){var c=t.instance.countCols(),f=Math.min(parseInt(t.settings.fixedColumnsLeft,10),c)-1;return t.countNotHiddenColumnIndexes(f,-1)},fixedRowsTop:function(){var c=t.instance.countRows(),f=Math.min(parseInt(t.settings.fixedRowsTop,10),c)-1;return t.countNotHiddenRowIndexes(f,-1)},fixedRowsBottom:function(){var c=t.instance.countRows(),f=Math.max(c-parseInt(t.settings.fixedRowsBottom,10),0);return t.countNotHiddenRowIndexes(f,1)},shouldRenderLeftOverlay:function(){return t.settings.fixedColumnsLeft>0||i.rowHeaders().length>0},shouldRenderTopOverlay:function(){return t.settings.fixedRowsTop>0||i.columnHeaders().length>0},shouldRenderBottomOverlay:function(){return t.settings.fixedRowsBottom>0},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var c=[];return t.instance.hasRowHeaders()&&c.push(function(f,h){var d=f>=0?t.instance.rowIndexMapper.getVisualFromRenderableIndex(f):f;t.appendRowHeader(d,h)}),t.instance.runHooks("afterGetRowHeaderRenderers",c),c},columnHeaders:function(){var c=[];return t.instance.hasColHeaders()&&c.push(function(f,h){var d=f>=0?t.instance.columnIndexMapper.getVisualFromRenderableIndex(f):f;t.appendColHeader(d,h)}),t.instance.runHooks("afterGetColumnHeaderRenderers",c),c},columnWidth:function(c){var f=t.instance.columnIndexMapper.getVisualFromRenderableIndex(c);return t.instance.getColWidth(f===null?c:f)},rowHeight:function(c){var f=t.instance.rowIndexMapper.getVisualFromRenderableIndex(c);return t.instance.getRowHeight(f===null?c:f)},cellRenderer:function(c,f,h){var d=t.translateFromRenderableToVisualIndex(c,f),g=Df(d,2),p=g[0],v=g[1],m=t.instance.runHooks("modifyGetCellCoords",p,v),w=p,C=v;if(Array.isArray(m)){var E=Df(m,2);w=E[0],C=E[1]}var k=t.instance.getCellMeta(w,C),$=t.instance.colToProp(C),D=t.instance.getDataAtRowProp(w,$);t.instance.hasHook("beforeValueRender")&&(D=t.instance.runHooks("beforeValueRender",D,k)),t.instance.runHooks("beforeRenderer",h,p,v,$,D,k),t.instance.getCellRenderer(k)(t.instance,h,p,v,$,D,k),t.instance.runHooks("afterRenderer",h,p,v,$,D,k)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onWindowResize:function(){!t.instance||t.instance.isDestroyed||t.instance.refreshDimensions()},onCellMouseDown:function(c,f,h,d){var g=t.translateFromRenderableToVisualCoords(f),p={row:!1,column:!1,cell:!1};t.instance.listen(),t.activeWt=d,r.mouseDown=!0,t.instance.runHooks("beforeOnCellMouseDown",c,g,h,p),!Xr(c)&&(eF(c,{coords:g,selection:t.instance.selection,controller:p}),t.instance.runHooks("afterOnCellMouseDown",c,g,h),t.activeWt=t.wt)},onCellContextMenu:function(c,f,h,d){var g=t.translateFromRenderableToVisualCoords(f);t.activeWt=d,r.mouseDown=!1,t.instance.selection.isInProgress()&&t.instance.selection.finish(),t.instance.runHooks("beforeOnCellContextMenu",c,g,h),!Xr(c)&&(t.instance.runHooks("afterOnCellContextMenu",c,g,h),t.activeWt=t.wt)},onCellMouseOut:function(c,f,h,d){var g=t.translateFromRenderableToVisualCoords(f);t.activeWt=d,t.instance.runHooks("beforeOnCellMouseOut",c,g,h),!Xr(c)&&(t.instance.runHooks("afterOnCellMouseOut",c,g,h),t.activeWt=t.wt)},onCellMouseOver:function(c,f,h,d){var g=t.translateFromRenderableToVisualCoords(f),p={row:!1,column:!1,cell:!1};t.activeWt=d,t.instance.runHooks("beforeOnCellMouseOver",c,g,h,p),!Xr(c)&&(r.mouseDown&&eF(c,{coords:g,selection:t.instance.selection,controller:p}),t.instance.runHooks("afterOnCellMouseOver",c,g,h),t.activeWt=t.wt)},onCellMouseUp:function(c,f,h,d){var g=t.translateFromRenderableToVisualCoords(f);t.activeWt=d,t.instance.runHooks("beforeOnCellMouseUp",c,g,h),!(Xr(c)||t.instance.isDestroyed)&&(t.instance.runHooks("afterOnCellMouseUp",c,g,h),t.activeWt=t.wt)},onCellCornerMouseDown:function(c){c.preventDefault(),t.instance.runHooks("afterOnCellCornerMouseDown",c)},onCellCornerDblClick:function(c){c.preventDefault(),t.instance.runHooks("afterOnCellCornerDblClick",c)},beforeDraw:function(c,f){return t.beforeRender(c,f)},onDraw:function(c){return t.afterRender(c)},onScrollVertically:function(){return t.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return t.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return t.instance.runHooks("beforeRemoveCellClassNames")},onBeforeHighlightingRowHeader:function(c,f,h){var d=t.instance.rowIndexMapper,g=d.getVisualFromRenderableIndex(c),p=t.instance.runHooks("beforeHighlightingRowHeader",g,f,h);return d.getRenderableFromVisualIndex(d.getFirstNotHiddenIndex(p,1))},onBeforeHighlightingColumnHeader:function(c,f,h){var d=t.instance.columnIndexMapper,g=d.getVisualFromRenderableIndex(c),p=t.instance.runHooks("beforeHighlightingColumnHeader",g,f,h);return d.getRenderableFromVisualIndex(d.getFirstNotHiddenIndex(p,1))},onAfterDrawSelection:function(c,f,h){var d,g=t.translateFromRenderableToVisualIndex(c,f),p=Df(g,2),v=p[0],m=p[1],w=t.instance.selection.getSelectedRange(),C=w.size();if(C>0){var E=(h!=null?h:0)+1-C,k=w.peekByIndex(E);d=[k.from.row,k.from.col,k.to.row,k.to.col]}return t.instance.runHooks("afterDrawSelection",v,m,d,h)},onBeforeDrawBorders:function(c,f){var h=Df(c,4),d=h[0],g=h[1],p=h[2],v=h[3],m=[t.instance.rowIndexMapper.getVisualFromRenderableIndex(d),t.instance.columnIndexMapper.getVisualFromRenderableIndex(g),t.instance.rowIndexMapper.getVisualFromRenderableIndex(p),t.instance.columnIndexMapper.getVisualFromRenderableIndex(v)];return t.instance.runHooks("beforeDrawBorders",m,f)},onBeforeTouchScroll:function(){return t.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return t.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(c,f){var h=t.instance.columnIndexMapper.getVisualFromRenderableIndex(f);return t.instance.runHooks("beforeStretchingColumnWidth",c,h)},onModifyRowHeaderWidth:function(c){return t.instance.runHooks("modifyRowHeaderWidth",c)},onModifyGetCellCoords:function(c,f,h){var d=t.instance.rowIndexMapper,g=t.instance.columnIndexMapper,p=f>=0?g.getVisualFromRenderableIndex(f):f,v=c>=0?d.getVisualFromRenderableIndex(c):c,m=t.instance.runHooks("modifyGetCellCoords",v,p,h);if(Array.isArray(m)){var w=Df(m,4),C=w[0],E=w[1],k=w[2],$=w[3];return[C>=0?d.getRenderableFromVisualIndex(d.getFirstNotHiddenIndex(C,1)):C,E>=0?g.getRenderableFromVisualIndex(g.getFirstNotHiddenIndex(E,1)):E,k>=0?d.getRenderableFromVisualIndex(d.getFirstNotHiddenIndex(k,-1)):k,$>=0?g.getRenderableFromVisualIndex(g.getFirstNotHiddenIndex($,-1)):$]}},viewportRowCalculatorOverride:function(c){var f=t.settings.viewportRowRenderingOffset;if(f==="auto"&&t.settings.fixedRowsTop&&(f=10),f>0||f==="auto"){var h=t.countRenderableRows(),d=c.startRow,g=c.endRow;if(typeof f=="number")c.startRow=Math.max(d-f,0),c.endRow=Math.min(g+f,h-1);else if(f==="auto"){var p=Math.ceil(g/h*12);c.startRow=Math.max(d-p,0),c.endRow=Math.min(g+p,h-1)}}t.instance.runHooks("afterViewportRowCalculatorOverride",c)},viewportColumnCalculatorOverride:function(c){var f=t.settings.viewportColumnRenderingOffset;if(f==="auto"&&t.settings.fixedColumnsLeft&&(f=10),f>0||f==="auto"){var h=t.countRenderableColumns(),d=c.startColumn,g=c.endColumn;if(typeof f=="number"&&(c.startColumn=Math.max(d-f,0),c.endColumn=Math.min(g+f,h-1)),f==="auto"){var p=Math.ceil(g/h*6);c.startColumn=Math.max(d-p,0),c.endColumn=Math.min(g+p,h-1)}}t.instance.runHooks("afterViewportColumnCalculatorOverride",c)},rowHeaderWidth:function(){return t.settings.rowHeaderWidth},columnHeaderHeight:function(){var c=t.instance.runHooks("modifyColumnHeaderHeight");return t.settings.columnHeaderHeight||c}};this.instance.runHooks("beforeInitWalkontable",i),this.wt=new Oge(i),this.activeWt=this.wt;var o=this.wt.wtTable.spreader,a=this.instance.rootElement.getBoundingClientRect(),s=a.width,l=a.height;this.setLastSize(s,l),this.eventManager.addEventListener(o,"mousedown",function(u){u.target===o&&u.which===3&&u.stopPropagation()}),this.eventManager.addEventListener(o,"contextmenu",function(u){u.target===o&&u.which===3&&u.stopPropagation()}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",function(){t.settings.observeDOMVisibility&&t.wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}},{key:"isTextSelectionAllowed",value:function(t){if(Sf(t))return!0;var r=Jo(t,this.instance.view.wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&r||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}},{key:"isMouseDown",value:function(){return us.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var t,r;return(t=(r=this.instance.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())!==null&&t!==void 0?t:!1}},{key:"isCellEdited",value:function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()}},{key:"beforeRender",value:function(t,r){t&&this.instance.runHooks("beforeViewRender",this.instance.forceFullRender,r)}},{key:"afterRender",value:function(t){t&&this.instance.runHooks("afterViewRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;if(!ze(i,"relative")){Mr(r),this.appendRowHeader(t,r);return}this.updateCellHeader(i.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=this.instance,a=o.rootDocument,s=o.getRowHeader,l=a.createElement("div"),u=a.createElement("span");l.className="relative",u.className="rowHeader",this.updateCellHeader(u,t,s),l.appendChild(u),r.appendChild(l)}this.instance.runHooks("afterGetRowHeader",t,r)}},{key:"appendColHeader",value:function(t,r){if(r.firstChild){var i=r.firstChild;ze(i,"relative")?this.updateCellHeader(i.querySelector(".colHeader"),t,this.instance.getColHeader):(Mr(r),this.appendColHeader(t,r))}else{var o=this.instance.rootDocument,a=o.createElement("div"),s=o.createElement("span");a.className="relative",s.className="colHeader",this.updateCellHeader(s,t,this.instance.getColHeader),a.appendChild(s),r.appendChild(a)}this.instance.runHooks("afterGetColHeader",t,r)}},{key:"updateCellHeader",value:function(t,r,i){var o=r,a=this.wt.wtOverlays.getParentOverlay(t)||this.wt;t.parentNode&&(ze(t,"colHeader")?o=a.wtTable.columnFilter.sourceToRendered(r):ze(t,"rowHeader")&&(o=a.wtTable.rowFilter.sourceToRendered(r))),o>-1?ta(t,i(r)):(na(t,String.fromCharCode(160)),ve(t,"cornerHeader"))}},{key:"maximumVisibleElementWidth",value:function(t){var r=this.wt.wtViewport.getWorkspaceWidth(),i=r-t;return i>0?i:0}},{key:"maximumVisibleElementHeight",value:function(t){var r=this.wt.wtViewport.getWorkspaceHeight(),i=r-t;return i>0?i:0}},{key:"setLastSize",value:function(t,r){var i=us.get(this),o=[t,r];i.lastWidth=o[0],i.lastHeight=o[1]}},{key:"getLastSize",value:function(){var t=us.get(this);return{width:t.lastWidth,height:t.lastHeight}}},{key:"mainViewIsActive",value:function(){return this.wt===this.activeWt}},{key:"destroy",value:function(){this.wt.destroy(),this.eventManager.destroy()}}]),e}(),Ame=kme,Nf=Pr("cellTypes"),Mme=Nf.register,xme=Nf.getItem,oF=Nf.hasItem,Pme=Nf.getNames;Nf.getValues;function tv(e){if(!oF(e))throw Error('You declared cell type "'.concat(e,`" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`));return xme(e)}function qr(e,n){typeof e!="string"&&(n=e,e=n.CELL_TYPE);var t=n,r=t.editor,i=t.renderer,o=t.validator;r&&hr(e,r),i&&Ji(e,i),o&&Yl(e,o),Mme(e,n)}function nv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nv=function(t){return typeof t}:nv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var aF="ABCDEFGHIJKLMNOPQRSTUVWXYZ",z0=aF.length;function rv(e){for(var n=e+1,t="",r;n>0;)r=(n-1)%z0,t=String.fromCharCode(65+r)+t,n=parseInt((n-r)/z0,10);return t}function Ime(e){var n=0;if(e)for(var t=0,r=e.length-1;t<e.length;t+=1,r-=1)n+=Math.pow(z0,r)*(aF.indexOf(e[t])+1);return n-=1,n}function $me(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,t=[],r,i;for(r=0;r<e;r++){var o=[];for(i=0;i<n;i++)o.push(rv(i)+(r+1));t.push(o)}return t}function Dme(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,t=[],r,i;for(r=0;r<e;r++){var o={};for(i=0;i<n;i++)o["prop".concat(i)]=rv(i)+(r+1);t.push(o)}return t}function Nme(e,n){for(var t=[],r,i=0;i<e;i++){r=[];for(var o=0;o<n;o++)r.push("");t.push(r)}return t}function Lf(e,n){var t=typeof n=="undefined"?!0:n;return function(i,o){return function a(s){if(!!s){if(kt(s,e)&&s[e]!==void 0)return s[e];if(kt(s,"type")&&s.type){if(typeof s.type!="string")throw new Error('Cell "type" must be a string');var l=tv(s.type);if(kt(l,e))return l[e];if(t)return}return a(Object.getPrototypeOf(s))}}(typeof i=="number"?this.getCellMeta(i,o):i)}}function Y0(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=e,r=[];return(!Array.isArray(e)||!Array.isArray(e[0]))&&(t=[e]),t.forEach(function(i,o){Array.isArray(i)?i.forEach(function(a,s){r.push([o+n,s,a])}):Object.keys(i).forEach(function(a){r.push([o+n,a,i[a]])})}),r}function G0(e){var n=0;return Array.isArray(e)&&(e[0]&&Array.isArray(e[0])?n=e[0].length:e[0]&&rt(e[0])&&(n=hg(e[0]))),n}function sF(e){return!!(Array.isArray(e)&&e.length&&e.every(function(n){return Array.isArray(n)}))}function lF(e){return!!(Array.isArray(e)&&e.length&&e.every(function(n){return nv(n)==="object"&&!Array.isArray(n)&&n!==null}))}var Lme=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",spreadsheetColumnLabel:rv,spreadsheetColumnIndex:Ime,createSpreadsheetData:$me,createSpreadsheetObjectData:Dme,createEmptySpreadsheetData:Nme,cellMethodLookupFactory:Lf,dataRowToChangesArray:Y0,countFirstRowKeys:G0,isArrayOfArrays:sF,isArrayOfObjects:lF});function Hme(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fme(e,n,t){return n&&uF(e.prototype,n),t&&uF(e,t),e}var Bme=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Hme(this,e),this.hot=n,this.data=t,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return Fme(e,[{key:"modifyRowData",value:function(t){var r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),r!==void 0&&!Number.isInteger(r)?r:this.data[t]}},{key:"getData",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,t)}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var r=this,i=[];return B(this.data,function(o,a){var s=r.getAtCell(a,t);i.push(s)}),i}},{key:"getAtRow",value:function(t,r,i){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=r===void 0&&i===void 0,l=null,u=null;if(l=this.modifyRowData(t),Array.isArray(l))u=[],s?l.forEach(function(h,d){u[d]=o.getAtPhysicalCell(t,d,l)}):Le(r,i,function(h){u[h-r]=o.getAtPhysicalCell(t,h,l)});else if(rt(l)||xt(l))if(a?u=[]:u={},!s||a){var c=0,f=this.countFirstRowKeys()-1;Le(c,f,function(h){var d=o.colToProp(h);if(h>=(r||c)&&h<=(i||f)&&!Number.isInteger(d)){var g=o.getAtPhysicalCell(t,d,l);a?u.push(g):fg(u,d,g)}})}else st(l,function(h,d){fg(u,d,o.getAtPhysicalCell(t,d,l))});return u}},{key:"setAtCell",value:function(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){var o=Za(i);this.hot.runHooks("modifySourceData",t,this.propToCol(r),o,"set"),o.isTouched()&&(i=o.value)}Number.isInteger(r)?this.data[t][r]=i:fg(this.data[t],r,i)}}},{key:"getAtPhysicalCell",value:function(t,r,i){var o=null;if(i&&(typeof r=="string"?o=W$(i,r):typeof r=="function"?o=r(i):o=i[r]),this.hot.hasHook("modifySourceData")){var a=Za(o);this.hot.runHooks("modifySourceData",t,this.colToProp(r),a,"get"),a.isTouched()&&(o=a.value)}return o}},{key:"getAtCell",value:function(t,r){var i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}},{key:"getByRange",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=null,l=null,u=null,c=null;r===null||i===null?(a=!0,s=0,u=this.countRows()-1):(s=Math.min(r.row,i.row),l=Math.min(r.col,i.col),u=Math.max(r.row,i.row),c=Math.max(r.col,i.col));var f=[];return Le(s,u,function(h){f.push(a?t.getAtRow(h,void 0,void 0,o):t.getAtRow(h,l,c,o))}),f}},{key:"countRows",value:function(){if(this.hot.hasHook("modifySourceLength")){var t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}},{key:"countFirstRowKeys",value:function(){return G0(this.data)}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),e}(),Vme=Bme,cF=vn,Wme=function(e){return e!==void 0&&(cF(e,"value")||cF(e,"writable"))},jme=et,Ume=En,zme=nn,Yme=rn,Gme=Wme,Kme=si,Xme=Kd;function fF(e,n){var t=arguments.length<3?e:arguments[2],r,i;if(Yme(e)===t)return e[n];if(r=Kme.f(e,n),r)return Gme(r)?r.value:r.get===void 0?void 0:Ume(r.get,t);if(zme(i=Xme(e)))return fF(i,n,t)}jme({target:"Reflect",stat:!0},{get:fF});var qme=et,Zme=lt,Qme=ar,hF=si.f,dF=pn,Jme=Zme(function(){hF(1)}),eye=!dF||Jme;qme({target:"Object",stat:!0,forced:eye,sham:!dF},{getOwnPropertyDescriptor:function(n,t){return hF(Qme(n),t)}});var tye="localHooks",gF={_localHooks:Object.create(null),addLocalHook:function(n,t){return this._localHooks[n]||(this._localHooks[n]=[]),this._localHooks[n].push(t),this},runLocalHooks:function(n,t,r,i,o,a,s){if(this._localHooks[n])for(var l=this._localHooks[n].length,u=0;u<l;u++)Gg(this._localHooks[n][u],this,t,r,i,o,a,s)},clearLocalHooks:function(){return this._localHooks={},this}};li(gF,"MIXIN_NAME",tye,{writable:!1,enumerable:!1});var nr=gF;function nye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rye(e,n,t){return n&&pF(e.prototype,n),t&&pF(e,t),e}var cs=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;nye(this,e),this.indexedValues=[],this.initValueOrFn=n}return rye(e,[{key:"getValues",value:function(){return this.indexedValues}},{key:"getValueAtIndex",value:function(t){var r=this.indexedValues;if(t<r.length)return r[t]}},{key:"setValues",value:function(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}},{key:"setValueAtIndex",value:function(t,r){return t<this.indexedValues.length?(this.indexedValues[t]=r,this.runLocalHooks("change"),!0):!1}},{key:"clear",value:function(){this.setDefaultValues()}},{key:"getLength",value:function(){return this.getValues().length}},{key:"setDefaultValues",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,xt(this.initValueOrFn)?Le(r-1,function(i){return t.indexedValues.push(t.initValueOrFn(i))}):Le(r-1,function(){return t.indexedValues.push(t.initValueOrFn)}),this.runLocalHooks("change")}},{key:"init",value:function(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}},{key:"insert",value:function(){this.runLocalHooks("change")}},{key:"remove",value:function(){this.runLocalHooks("change")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}]),e}();Ot(cs,nr);function K0(e){return sye(e)||aye(e)||oye(e)||iye()}function iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oye(e,n){if(!!e){if(typeof e=="string")return X0(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X0(e,n)}}function aye(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sye(e){if(Array.isArray(e))return X0(e)}function X0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q0(e,n,t,r){var i=t.length?t[0]:void 0;return[].concat(K0(e.slice(0,i)),K0(t.map(function(o,a){return xt(r)?r(o,a):r})),K0(i===void 0?[]:e.slice(i)))}function Z0(e,n){return lr(e,function(t,r){return n.includes(r)===!1})}function iv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iv=function(t){return typeof t}:iv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function lye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uye(e,n,t){return n&&vF(e.prototype,n),t&&vF(e,t),e}function Hf(){return typeof Reflect!="undefined"&&Reflect.get?Hf=Reflect.get:Hf=function(n,t,r){var i=cye(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Hf.apply(this,arguments)}function cye(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=fs(e),e!==null););return e}function fye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Q0(e,n)}function Q0(e,n){return Q0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Q0(e,n)}function hye(e){var n=pye();return function(){var r=fs(e),i;if(n){var o=fs(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dye(this,i)}}function dye(e,n){if(n&&(iv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(e)}function gye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pye(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(e)}var sa=function(e){fye(t,e);var n=hye(t);function t(){return lye(this,t),n.apply(this,arguments)}return uye(t,[{key:"insert",value:function(i,o){this.indexedValues=q0(this.indexedValues,i,o,this.initValueOrFn),Hf(fs(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=Z0(this.indexedValues,i),Hf(fs(t.prototype),"remove",this).call(this,i)}}]),t}(cs);function ov(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ov=function(t){return typeof t}:ov=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function vye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mye(e,n,t){return n&&mF(e.prototype,n),t&&mF(e,t),e}function yye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&J0(e,n)}function J0(e,n){return J0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},J0(e,n)}function bye(e){var n=Sye();return function(){var r=av(e),i;if(n){var o=av(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wye(this,i)}}function wye(e,n){if(n&&(ov(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ye(e)}function _ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sye(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},av(e)}var sv=function(e){yye(t,e);var n=bye(t);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return vye(this,t),n.call(this,r)}return mye(t,[{key:"getHiddenIndexes",value:function(){return Qt(this.getValues(),function(i,o,a){return o&&i.push(a),i},[])}}]),t}(sa);function eR(e){return Eye(e)||Oye(e)||Rye(e)||Cye()}function Cye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(e,n){if(!!e){if(typeof e=="string")return tR(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tR(e,n)}}function Oye(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eye(e){if(Array.isArray(e))return tR(e)}function tR(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function nR(e,n,t){return[].concat(eR(e.slice(0,n)),eR(t),eR(e.slice(n)))}function Ff(e,n){return lr(e,function(t){return n.includes(t)===!1})}function rR(e,n){return it(e,function(t){return t-n.filter(function(r){return r<t}).length})}function iR(e,n){var t=n[0],r=n.length;return it(e,function(i){return i>=t?i+r:i})}function lv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lv=function(t){return typeof t}:lv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function Tye(e){return xye(e)||Mye(e)||Aye(e)||kye()}function kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aye(e,n){if(!!e){if(typeof e=="string")return oR(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oR(e,n)}}function Mye(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xye(e){if(Array.isArray(e))return oR(e)}function oR(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Pye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iye(e,n,t){return n&&yF(e.prototype,n),t&&yF(e,t),e}function eo(){return typeof Reflect!="undefined"&&Reflect.get?eo=Reflect.get:eo=function(n,t,r){var i=$ye(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},eo.apply(this,arguments)}function $ye(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Zr(e),e!==null););return e}function Dye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&aR(e,n)}function aR(e,n){return aR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},aR(e,n)}function Nye(e){var n=Hye();return function(){var r=Zr(e),i;if(n){var o=Zr(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Lye(this,i)}}function Lye(e,n){if(n&&(lv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bF(e)}function bF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hye(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zr(e)}function Fye(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var uv=function(e){Dye(t,e);var n=Nye(t);function t(){var r;Pye(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o)),Fye(bF(r),"orderOfIndexes",[]),r}return Iye(t,[{key:"getValues",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return i.indexedValues[o]})}},{key:"setValues",value:function(i){this.orderOfIndexes=Tye(Array(i.length).keys()),eo(Zr(t.prototype),"setValues",this).call(this,i)}},{key:"setValueAtIndex",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return i<this.indexedValues.length?(this.indexedValues[i]=o,this.orderOfIndexes.includes(i)===!1&&this.orderOfIndexes.splice(a,0,i),this.runLocalHooks("change"),!0):!1}},{key:"clearValue",value:function(i){this.orderOfIndexes=Ff(this.orderOfIndexes,[i]),xt(this.initValueOrFn)?eo(Zr(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn(i)):eo(Zr(t.prototype),"setValueAtIndex",this).call(this,i,this.initValueOrFn)}},{key:"getLength",value:function(){return this.orderOfIndexes.length}},{key:"setDefaultValues",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,eo(Zr(t.prototype),"setDefaultValues",this).call(this,i)}},{key:"insert",value:function(i,o){this.indexedValues=q0(this.indexedValues,i,o,this.initValueOrFn),this.orderOfIndexes=iR(this.orderOfIndexes,o),eo(Zr(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=Z0(this.indexedValues,i),this.orderOfIndexes=Ff(this.orderOfIndexes,i),this.orderOfIndexes=rR(this.orderOfIndexes,i),eo(Zr(t.prototype),"remove",this).call(this,i)}},{key:"getEntries",value:function(){var i=this;return this.orderOfIndexes.map(function(o){return[o,i.getValueAtIndex(o)]})}}]),t}(cs);function cv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cv=function(t){return typeof t}:cv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function Bye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vye(e,n,t){return n&&wF(e.prototype,n),t&&wF(e,t),e}function Wye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&sR(e,n)}function sR(e,n){return sR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},sR(e,n)}function jye(e){var n=Yye();return function(){var r=fv(e),i;if(n){var o=fv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Uye(this,i)}}function Uye(e,n){if(n&&(cv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zye(e)}function zye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yye(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fv(e)}var Bf=function(e){Wye(t,e);var n=jye(t);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Bye(this,t),n.call(this,r)}return Vye(t,[{key:"getTrimmedIndexes",value:function(){return Qt(this.getValues(),function(i,o,a){return o&&i.push(a),i},[])}}]),t}(sa),_F=new Map([["indexesSequence",{getListWithInsertedItems:nR,getListWithRemovedItems:Ff}],["physicallyIndexed",{getListWithInsertedItems:q0,getListWithRemovedItems:Z0}]]),SF=function(n){if(_F.has(n)===!1)throw new Error("Alter strategy with ID '".concat(n,"' does not exist."));return _F.get(n)};function hv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hv=function(t){return typeof t}:hv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function Gye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function CF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kye(e,n,t){return n&&CF(e.prototype,n),t&&CF(e,t),e}function Vf(){return typeof Reflect!="undefined"&&Reflect.get?Vf=Reflect.get:Vf=function(n,t,r){var i=Xye(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Vf.apply(this,arguments)}function Xye(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=hs(e),e!==null););return e}function qye(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&lR(e,n)}function lR(e,n){return lR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lR(e,n)}function Zye(e){var n=ebe();return function(){var r=hs(e),i;if(n){var o=hs(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Qye(this,i)}}function Qye(e,n){if(n&&(hv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jye(e)}function Jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ebe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hs(e)}var RF=function(e){qye(t,e);var n=Zye(t);function t(){return Gye(this,t),n.call(this,function(r){return r})}return Kye(t,[{key:"insert",value:function(i,o){var a=iR(this.indexedValues,o);this.indexedValues=nR(a,i,o),Vf(hs(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=Ff(this.indexedValues,i);this.indexedValues=rR(o,i),Vf(hs(t.prototype),"remove",this).call(this,i)}}]),t}(cs),OF=new Map([["hiding",sv],["index",cs],["linkedPhysicalIndexToValue",uv],["physicalIndexToValue",sa],["trimming",Bf]]);function tbe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!OF.has(e))throw new Error('The provided map type ("'.concat(e,'") does not exist.'));return new(OF.get(e))(n)}function nbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function EF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rbe(e,n,t){return n&&EF(e.prototype,n),t&&EF(e,t),e}var uR=0,cR=function(){function e(){nbe(this,e),this.collection=new Map}return rbe(e,[{key:"register",value:function(t,r){var i=this;this.collection.has(t)===!1&&(this.collection.set(t,r),r.addLocalHook("change",function(){return i.runLocalHooks("change",r)}),uR+=1)}},{key:"unregister",value:function(t){var r=this.collection.get(t);je(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r),uR-=1)}},{key:"unregisterAll",value:function(){var t=this;this.collection.forEach(function(r,i){return t.unregister(i)}),this.collection.clear()}},{key:"get",value:function(t){return Dt(t)?Array.from(this.collection.values()):this.collection.get(t)}},{key:"getLength",value:function(){return this.collection.size}},{key:"removeFromEvery",value:function(t){this.collection.forEach(function(r){r.remove(t)})}},{key:"insertToEvery",value:function(t,r){this.collection.forEach(function(i){i.insert(t,r)})}},{key:"initEvery",value:function(t){this.collection.forEach(function(r){r.init(t)})}}]),e}();Ot(cR,nr);function ibe(){return uR}function dv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dv=function(t){return typeof t}:dv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function obe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function TF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function abe(e,n,t){return n&&TF(e.prototype,n),t&&TF(e,t),e}function sbe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&fR(e,n)}function fR(e,n){return fR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fR(e,n)}function lbe(e){var n=fbe();return function(){var r=gv(e),i;if(n){var o=gv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ube(this,i)}}function ube(e,n){if(n&&(dv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cbe(e)}function cbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fbe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gv(e)}var kF=function(e){sbe(t,e);var n=lbe(t);function t(r,i){var o;return obe(this,t),o=n.call(this),o.mergedValuesCache=[],o.aggregationFunction=r,o.fallbackValue=i,o}return abe(t,[{key:"getMergedValues",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(i===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];for(var o=it(this.get(),function(f){return f.getValues()}),a=[],s=je(o[0])&&o[0].length||0,l=0;l<s;l+=1){for(var u=[],c=0;c<this.getLength();c+=1)u.push(o[c][l]);a.push(u)}return it(a,this.aggregationFunction)}},{key:"getMergedValueAtIndex",value:function(i,o){var a=this.getMergedValues(o)[i];return je(a)?a:this.fallbackValue}},{key:"updateCache",value:function(){this.mergedValuesCache=this.getMergedValues(!1)}}]),t}(cR);function hbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function AF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dbe(e,n,t){return n&&AF(e.prototype,n),t&&AF(e,t),e}function gbe(e,n,t){pbe(e,n),n.set(e,t)}function pbe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vbe(e,n,t){var r=MF(e,n,"set");return mbe(e,r,t),t}function mbe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}function ybe(e,n){var t=MF(e,n,"get");return bbe(e,t)}function MF(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function bbe(e,n){return n.get?n.get.call(e):n.value}var hR=new WeakMap,xF=function(){function e(){hbe(this,e),gbe(this,hR,{writable:!0,value:[]})}return dbe(e,[{key:"subscribe",value:function(t){return this.addLocalHook("change",t),this._write(ybe(this,hR)),this}},{key:"unsubscribe",value:function(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}},{key:"_write",value:function(t){return t.length>0&&this.runLocalHooks("change",t),this}},{key:"_writeInitialChanges",value:function(t){vbe(this,hR,t)}}]),e}();Ot(xF,nr);function PF(e,n){for(var t=[],r=0,i=0;r<e.length&&i<n.length;r++,i++)e[r]!==n[i]&&t.push({op:"replace",index:i,oldValue:e[r],newValue:n[i]});for(;r<n.length;r++)t.push({op:"insert",index:r,oldValue:void 0,newValue:n[r]});for(;i<e.length;i++)t.push({op:"remove",index:i,oldValue:e[i],newValue:void 0});return t}function wbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function IF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _be(e,n,t){return n&&IF(e.prototype,n),t&&IF(e,t),e}function Wf(e,n,t){Sbe(e,n),n.set(e,t)}function Sbe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ir(e,n){var t=$F(e,n,"get");return Cbe(e,t)}function Cbe(e,n){return n.get?n.get.call(e):n.value}function pv(e,n,t){var r=$F(e,n,"set");return Rbe(e,r,t),t}function $F(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function Rbe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}var vv=new WeakMap,jf=new WeakMap,mv=new WeakMap,yv=new WeakMap,bv=new WeakMap,Obe=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.initialIndexValue;wbe(this,e),Wf(this,vv,{writable:!0,value:new Set}),Wf(this,jf,{writable:!0,value:[]}),Wf(this,mv,{writable:!0,value:[]}),Wf(this,yv,{writable:!0,value:!1}),Wf(this,bv,{writable:!0,value:!1}),pv(this,bv,t!=null?t:!1)}return _be(e,[{key:"createObserver",value:function(){var t=this,r=new xF;return Ir(this,vv).add(r),r.addLocalHook("unsubscribe",function(){Ir(t,vv).delete(r)}),r._writeInitialChanges(PF(Ir(this,jf),Ir(this,mv))),r}},{key:"emit",value:function(t){var r=Ir(this,mv);(!Ir(this,yv)||Ir(this,jf).length!==t.length)&&(t.length===0?t=new Array(r.length).fill(Ir(this,bv)):pv(this,jf,new Array(t.length).fill(Ir(this,bv))),Ir(this,yv)||(pv(this,yv,!0),r=Ir(this,jf)));var i=PF(r,t);Ir(this,vv).forEach(function(o){return o._write(i)}),pv(this,mv,t)}}]),e}();function DF(e){return Abe(e)||kbe(e)||Tbe(e)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tbe(e,n){if(!!e){if(typeof e=="string")return dR(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dR(e,n)}}function kbe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Abe(e){if(Array.isArray(e))return dR(e)}function dR(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Mbe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function NF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xbe(e,n,t){return n&&NF(e.prototype,n),t&&NF(e,t),e}var gR=function(){function e(){var n=this;Mbe(this,e),this.indexesSequence=new RF,this.trimmingMapsCollection=new kF(function(t){return t.some(function(r){return r===!0})},!1),this.hidingMapsCollection=new kF(function(t){return t.some(function(r){return r===!0})},!1),this.variousMapsCollection=new cR,this.hidingChangesObservable=new Obe({initialIndexValue:!1}),this.notTrimmedIndexesCache=[],this.notHiddenIndexesCache=[],this.isBatched=!1,this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1,this.renderablePhysicalIndexesCache=[],this.fromPhysicalToVisualIndexesCache=new Map,this.fromVisualToRenderableIndexesCache=new Map,this.indexesSequence.addLocalHook("change",function(){n.indexesSequenceChanged=!0,n.updateCache(),n.runLocalHooks("change",n.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",function(t){n.trimmedIndexesChanged=!0,n.updateCache(),n.runLocalHooks("change",t,n.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",function(t){n.hiddenIndexesChanged=!0,n.updateCache(),n.runLocalHooks("change",t,n.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",function(t){n.runLocalHooks("change",t,n.variousMapsCollection)})}return xbe(e,[{key:"suspendOperations",value:function(){this.isBatched=!0}},{key:"resumeOperations",value:function(){this.isBatched=!1,this.updateCache()}},{key:"createChangesObserver",value:function(t){if(t!=="hiding")throw new Error('Unsupported index map type "'.concat(t,'".'));return this.hidingChangesObservable.createObserver()}},{key:"createAndRegisterIndexMap",value:function(t,r,i){return this.registerMap(t,tbe(r,i))}},{key:"registerMap",value:function(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error('Map with name "'.concat(t,'" has been already registered.'));r instanceof Bf?this.trimmingMapsCollection.register(t,r):r instanceof sv?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);var i=this.getNumberOfIndexes();return i>0&&r.init(i),r}},{key:"unregisterMap",value:function(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}},{key:"unregisterAll",value:function(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}},{key:"getPhysicalFromVisualIndex",value:function(t){var r=this.notTrimmedIndexesCache[t];return je(r)?r:null}},{key:"getPhysicalFromRenderableIndex",value:function(t){var r=this.renderablePhysicalIndexesCache[t];return je(r)?r:null}},{key:"getVisualFromPhysicalIndex",value:function(t){var r=this.fromPhysicalToVisualIndexesCache.get(t);return je(r)?r:null}},{key:"getVisualFromRenderableIndex",value:function(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}},{key:"getRenderableFromVisualIndex",value:function(t){var r=this.fromVisualToRenderableIndexesCache.get(t);return je(r)?r:null}},{key:"getFirstNotHiddenIndex",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t-r,a=this.getPhysicalFromVisualIndex(t);return a===null?i===!0&&o!==t-r?this.getFirstNotHiddenIndex(o,-r,!1,o):null:this.isHidden(a)===!1?t:this.getFirstNotHiddenIndex(t+r,r,i,o)}},{key:"initToLength",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=DF(new Array(t).keys()),this.notHiddenIndexesCache=DF(new Array(t).keys()),this.suspendOperations(),this.indexesSequence.init(t),this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}},{key:"getIndexesSequence",value:function(){return this.indexesSequence.getValues()}},{key:"setIndexesSequence",value:function(t){this.indexesSequence.setValues(t)}},{key:"getNotTrimmedIndexes",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(r===!0)return this.notTrimmedIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return t.isTrimmed(o)===!1})}},{key:"getNotTrimmedIndexesLength",value:function(){return this.getNotTrimmedIndexes().length}},{key:"getNotHiddenIndexes",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(r===!0)return this.notHiddenIndexesCache;var i=this.getIndexesSequence();return i.filter(function(o){return t.isHidden(o)===!1})}},{key:"getNotHiddenIndexesLength",value:function(){return this.getNotHiddenIndexes().length}},{key:"getRenderableIndexes",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(r===!0)return this.renderablePhysicalIndexesCache;var i=this.getNotTrimmedIndexes();return i.filter(function(o){return t.isHidden(o)===!1})}},{key:"getRenderableIndexesLength",value:function(){return this.getRenderableIndexes().length}},{key:"getNumberOfIndexes",value:function(){return this.getIndexesSequence().length}},{key:"moveIndexes",value:function(t,r){var i=this;typeof t=="number"&&(t=[t]);var o=it(t,function(f){return i.getPhysicalFromVisualIndex(f)}),a=this.getNotTrimmedIndexesLength(),s=t.length,l=Ff(this.getIndexesSequence(),o),u=a-s;if(r+s<a){var c=l.filter(function(f){return i.isTrimmed(f)===!1})[r];u=l.indexOf(c)}this.setIndexesSequence(nR(l,u,o))}},{key:"isTrimmed",value:function(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}},{key:"isHidden",value:function(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}},{key:"insertIndexes",value:function(t,r){var i=this.getNotTrimmedIndexes()[t],o=je(i)?i:this.getNumberOfIndexes(),a=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),s=it(new Array(r).fill(o),function(l,u){return l+u});this.suspendOperations(),this.indexesSequence.insert(a,s),this.trimmingMapsCollection.insertToEvery(a,s),this.hidingMapsCollection.insertToEvery(a,s),this.variousMapsCollection.insertToEvery(a,s),this.resumeOperations()}},{key:"removeIndexes",value:function(t){this.suspendOperations(),this.indexesSequence.remove(t),this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}},{key:"updateCache",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(t===!0||this.isBatched===!1&&r===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderabIendexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}},{key:"cacheFromPhysicalToVisualIndexes",value:function(){var t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}},{key:"cacheFromVisualToRenderabIendexes",value:function(){var t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(var r=0;r<t;r+=1){var i=this.getPhysicalFromRenderableIndex(r),o=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(o,r)}}}]),e}();Ot(gR,nr);var LF;function Pbe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ibe(e,n){return st(n,function(t,r){Dt(e[r])&&(e[r]=t)}),e}function HF(e){var n=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/,t=n.exec(e);return t?"".concat(t[1].toLowerCase(),"-").concat(t[2].toUpperCase()):e}function FF(e){je(e)&&zC(Mt(LF||(LF=Pbe(['Language with code "',`" was not found. You should register particular language 
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`],['Language with code "',`" was not found. You should register particular language\\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`])),e))}function $be(e,n){var t=Array.isArray(e)&&Number.isInteger(n);return t?e[n]:e}var BF=Pr("phraseFormatters"),Dbe=BF.register,Nbe=BF.getValues;function Lbe(e,n){Dbe(e,n)}function Hbe(){return Nbe()}Lbe("pluralize",$be);var ot="ContextMenu:items",pR="".concat(ot,".noItems"),vR="".concat(ot,".insertRowAbove"),mR="".concat(ot,".insertRowBelow"),yR="".concat(ot,".insertColumnOnTheLeft"),bR="".concat(ot,".insertColumnOnTheRight"),wR="".concat(ot,".removeRow"),_R="".concat(ot,".removeColumn"),SR="".concat(ot,".undo"),CR="".concat(ot,".redo"),RR="".concat(ot,".readOnly"),OR="".concat(ot,".clearColumn"),ER="".concat(ot,".copy"),TR="".concat(ot,".cut"),kR="".concat(ot,".freezeColumn"),AR="".concat(ot,".unfreezeColumn"),MR="".concat(ot,".mergeCells"),xR="".concat(ot,".unmergeCells"),PR="".concat(ot,".addComment"),IR="".concat(ot,".editComment"),$R="".concat(ot,".removeComment"),DR="".concat(ot,".readOnlyComment"),NR="".concat(ot,".align"),LR="".concat(ot,".align.left"),HR="".concat(ot,".align.center"),FR="".concat(ot,".align.right"),BR="".concat(ot,".align.justify"),VR="".concat(ot,".align.top"),WR="".concat(ot,".align.middle"),jR="".concat(ot,".align.bottom"),UR="".concat(ot,".borders"),zR="".concat(ot,".borders.top"),YR="".concat(ot,".borders.right"),GR="".concat(ot,".borders.bottom"),KR="".concat(ot,".borders.left"),XR="".concat(ot,".borders.remove"),qR="".concat(ot,".nestedHeaders.insertChildRow"),ZR="".concat(ot,".nestedHeaders.detachFromParent"),QR="".concat(ot,".hideColumn"),JR="".concat(ot,".showColumn"),eO="".concat(ot,".hideRow"),tO="".concat(ot,".showRow"),Wn="Filters:",Yt="".concat(Wn,"conditions"),wv="".concat(Yt,".none"),nO="".concat(Yt,".isEmpty"),rO="".concat(Yt,".isNotEmpty"),iO="".concat(Yt,".isEqualTo"),oO="".concat(Yt,".isNotEqualTo"),aO="".concat(Yt,".beginsWith"),sO="".concat(Yt,".endsWith"),lO="".concat(Yt,".contains"),uO="".concat(Yt,".doesNotContain"),Fbe="".concat(Yt,".byValue"),cO="".concat(Yt,".greaterThan"),fO="".concat(Yt,".greaterThanOrEqualTo"),hO="".concat(Yt,".lessThan"),dO="".concat(Yt,".lessThanOrEqualTo"),gO="".concat(Yt,".isBetween"),pO="".concat(Yt,".isNotBetween"),vO="".concat(Yt,".after"),mO="".concat(Yt,".before"),yO="".concat(Yt,".today"),bO="".concat(Yt,".tomorrow"),wO="".concat(Yt,".yesterday"),_O="".concat(Wn,"labels.filterByCondition"),SO="".concat(Wn,"labels.filterByValue"),CO="".concat(Wn,"labels.conjunction"),_v="".concat(Wn,"labels.disjunction"),Sv="".concat(Wn,"values.blankCells"),RO="".concat(Wn,"buttons.selectAll"),OO="".concat(Wn,"buttons.clear"),EO="".concat(Wn,"buttons.ok"),TO="".concat(Wn,"buttons.cancel"),kO="".concat(Wn,"buttons.placeholder.search"),AO="".concat(Wn,"buttons.placeholder.value"),MO="".concat(Wn,"buttons.placeholder.secondValue"),Bbe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CONTEXT_MENU_ITEMS_NAMESPACE:ot,CONTEXTMENU_ITEMS_NO_ITEMS:pR,CONTEXTMENU_ITEMS_ROW_ABOVE:vR,CONTEXTMENU_ITEMS_ROW_BELOW:mR,CONTEXTMENU_ITEMS_INSERT_LEFT:yR,CONTEXTMENU_ITEMS_INSERT_RIGHT:bR,CONTEXTMENU_ITEMS_REMOVE_ROW:wR,CONTEXTMENU_ITEMS_REMOVE_COLUMN:_R,CONTEXTMENU_ITEMS_UNDO:SR,CONTEXTMENU_ITEMS_REDO:CR,CONTEXTMENU_ITEMS_READ_ONLY:RR,CONTEXTMENU_ITEMS_CLEAR_COLUMN:OR,CONTEXTMENU_ITEMS_COPY:ER,CONTEXTMENU_ITEMS_CUT:TR,CONTEXTMENU_ITEMS_FREEZE_COLUMN:kR,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:AR,CONTEXTMENU_ITEMS_MERGE_CELLS:MR,CONTEXTMENU_ITEMS_UNMERGE_CELLS:xR,CONTEXTMENU_ITEMS_ADD_COMMENT:PR,CONTEXTMENU_ITEMS_EDIT_COMMENT:IR,CONTEXTMENU_ITEMS_REMOVE_COMMENT:$R,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:DR,CONTEXTMENU_ITEMS_ALIGNMENT:NR,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:LR,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:HR,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:FR,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:BR,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:VR,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:WR,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:jR,CONTEXTMENU_ITEMS_BORDERS:UR,CONTEXTMENU_ITEMS_BORDERS_TOP:zR,CONTEXTMENU_ITEMS_BORDERS_RIGHT:YR,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:GR,CONTEXTMENU_ITEMS_BORDERS_LEFT:KR,CONTEXTMENU_ITEMS_REMOVE_BORDERS:XR,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:qR,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:ZR,CONTEXTMENU_ITEMS_HIDE_COLUMN:QR,CONTEXTMENU_ITEMS_SHOW_COLUMN:JR,CONTEXTMENU_ITEMS_HIDE_ROW:eO,CONTEXTMENU_ITEMS_SHOW_ROW:tO,FILTERS_NAMESPACE:Wn,FILTERS_CONDITIONS_NAMESPACE:Yt,FILTERS_CONDITIONS_NONE:wv,FILTERS_CONDITIONS_EMPTY:nO,FILTERS_CONDITIONS_NOT_EMPTY:rO,FILTERS_CONDITIONS_EQUAL:iO,FILTERS_CONDITIONS_NOT_EQUAL:oO,FILTERS_CONDITIONS_BEGINS_WITH:aO,FILTERS_CONDITIONS_ENDS_WITH:sO,FILTERS_CONDITIONS_CONTAINS:lO,FILTERS_CONDITIONS_NOT_CONTAIN:uO,FILTERS_CONDITIONS_BY_VALUE:Fbe,FILTERS_CONDITIONS_GREATER_THAN:cO,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:fO,FILTERS_CONDITIONS_LESS_THAN:hO,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:dO,FILTERS_CONDITIONS_BETWEEN:gO,FILTERS_CONDITIONS_NOT_BETWEEN:pO,FILTERS_CONDITIONS_AFTER:vO,FILTERS_CONDITIONS_BEFORE:mO,FILTERS_CONDITIONS_TODAY:yO,FILTERS_CONDITIONS_TOMORROW:bO,FILTERS_CONDITIONS_YESTERDAY:wO,FILTERS_DIVS_FILTER_BY_CONDITION:_O,FILTERS_DIVS_FILTER_BY_VALUE:SO,FILTERS_LABELS_CONJUNCTION:CO,FILTERS_LABELS_DISJUNCTION:_v,FILTERS_VALUES_BLANK_CELLS:Sv,FILTERS_BUTTONS_SELECT_ALL:RO,FILTERS_BUTTONS_CLEAR:OO,FILTERS_BUTTONS_OK:EO,FILTERS_BUTTONS_CANCEL:TO,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:kO,FILTERS_BUTTONS_PLACEHOLDER_VALUE:AO,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:MO}),Oe;function Ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Vbe=(Oe={languageCode:"en-US"},Ae(Oe,pR,"No available options"),Ae(Oe,vR,"Insert row above"),Ae(Oe,mR,"Insert row below"),Ae(Oe,yR,"Insert column left"),Ae(Oe,bR,"Insert column right"),Ae(Oe,wR,["Remove row","Remove rows"]),Ae(Oe,_R,["Remove column","Remove columns"]),Ae(Oe,SR,"Undo"),Ae(Oe,CR,"Redo"),Ae(Oe,RR,"Read only"),Ae(Oe,OR,"Clear column"),Ae(Oe,NR,"Alignment"),Ae(Oe,LR,"Left"),Ae(Oe,HR,"Center"),Ae(Oe,FR,"Right"),Ae(Oe,BR,"Justify"),Ae(Oe,VR,"Top"),Ae(Oe,WR,"Middle"),Ae(Oe,jR,"Bottom"),Ae(Oe,kR,"Freeze column"),Ae(Oe,AR,"Unfreeze column"),Ae(Oe,UR,"Borders"),Ae(Oe,zR,"Top"),Ae(Oe,YR,"Right"),Ae(Oe,GR,"Bottom"),Ae(Oe,KR,"Left"),Ae(Oe,XR,"Remove border(s)"),Ae(Oe,PR,"Add comment"),Ae(Oe,IR,"Edit comment"),Ae(Oe,$R,"Delete comment"),Ae(Oe,DR,"Read-only comment"),Ae(Oe,MR,"Merge cells"),Ae(Oe,xR,"Unmerge cells"),Ae(Oe,ER,"Copy"),Ae(Oe,TR,"Cut"),Ae(Oe,qR,"Insert child row"),Ae(Oe,ZR,"Detach from parent"),Ae(Oe,QR,["Hide column","Hide columns"]),Ae(Oe,JR,["Show column","Show columns"]),Ae(Oe,eO,["Hide row","Hide rows"]),Ae(Oe,tO,["Show row","Show rows"]),Ae(Oe,wv,"None"),Ae(Oe,nO,"Is empty"),Ae(Oe,rO,"Is not empty"),Ae(Oe,iO,"Is equal to"),Ae(Oe,oO,"Is not equal to"),Ae(Oe,aO,"Begins with"),Ae(Oe,sO,"Ends with"),Ae(Oe,lO,"Contains"),Ae(Oe,uO,"Does not contain"),Ae(Oe,cO,"Greater than"),Ae(Oe,fO,"Greater than or equal to"),Ae(Oe,hO,"Less than"),Ae(Oe,dO,"Less than or equal to"),Ae(Oe,gO,"Is between"),Ae(Oe,pO,"Is not between"),Ae(Oe,vO,"After"),Ae(Oe,mO,"Before"),Ae(Oe,yO,"Today"),Ae(Oe,bO,"Tomorrow"),Ae(Oe,wO,"Yesterday"),Ae(Oe,Sv,"Blank cells"),Ae(Oe,_O,"Filter by condition"),Ae(Oe,SO,"Filter by value"),Ae(Oe,CO,"And"),Ae(Oe,_v,"Or"),Ae(Oe,RO,"Select all"),Ae(Oe,OO,"Clear"),Ae(Oe,EO,"OK"),Ae(Oe,TO,"Cancel"),Ae(Oe,kO,"Search"),Ae(Oe,AO,"Value"),Ae(Oe,MO,"Second value"),Oe),VF=Vbe,xO=VF.languageCode,Cv=Pr("languagesDictionaries"),Wbe=Cv.register,WF=Cv.getItem,jbe=Cv.hasItem,Ube=Cv.getValues;jF(VF);function jF(e,n){var t=e,r=n;return rt(e)&&(r=e,t=r.languageCode),zbe(t,r),Wbe(t,Bn(r)),Bn(r)}function zbe(e,n){e!==xO&&Ibe(n,WF(xO))}function UF(e){return PO(e)?Bn(WF(e)):null}function PO(e){return jbe(e)}function Ybe(){return Ube()}function zF(e,n,t){var r=UF(e);if(r===null)return null;var i=r[n];if(Dt(i))return null;var o=Gbe(i,t);return Array.isArray(o)?o[0]:o}function Gbe(e,n){var t=e;return B(Hbe(),function(r){t=r(e,n)}),t}function Kbe(e){var n=HF(e);return PO(n)||(n=xO,FF(e)),n}var Uf=new Rt,la=new Set,Gl=0;function Xbe(e){Gl===0&&(Uf.addEventListener(e,"keydown",function(n){la.has(n.keyCode)||la.add(n.keyCode)}),Uf.addEventListener(e,"keyup",function(n){la.has(n.keyCode)&&la.delete(n.keyCode)}),Uf.addEventListener(e,"visibilitychange",function(){e.hidden&&la.clear()}),Uf.addEventListener(e.defaultView,"blur",function(){la.clear()})),Gl+=1}function qbe(){Gl>0&&(Gl-=1),Gl===0&&Zbe()}function Zbe(){Uf.clearEvents(),la.clear(),Gl=0}function Rv(){var e=Array.from(la.values());return e.some(function(n){return d0(n)})}var Qbe=et,Jbe=pn,ewe=ux,twe=ar,nwe=si,rwe=fl;Qbe({target:"Object",stat:!0,sham:!Jbe},{getOwnPropertyDescriptors:function(n){for(var t=twe(n),r=nwe.f,i=ewe(t),o={},a=0,s,l;i.length>a;)l=r(t,s=i[a++]),l!==void 0&&rwe(o,s,l);return o}});var Ov="active-header",Ev="area",zf="cell",IO="fill",Yf="header",$O="custom-selection";function Tv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tv=function(t){return typeof t}:Tv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function iwe(e,n){return lwe(e)||swe(e,n)||awe(e,n)||owe()}function owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(e,n){if(!!e){if(typeof e=="string")return YF(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YF(e,n)}}function YF(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function swe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function lwe(e){if(Array.isArray(e))return e}function uwe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GF(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cwe(e,n,t){return n&&GF(e.prototype,n),t&&GF(e,t),e}function kv(){return typeof Reflect!="undefined"&&Reflect.get?kv=Reflect.get:kv=function(n,t,r){var i=fwe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},kv.apply(this,arguments)}function fwe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Kl(e),e!==null););return e}function hwe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&DO(e,n)}function DO(e,n){return DO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},DO(e,n)}function dwe(e){var n=vwe();return function(){var r=Kl(e),i;if(n){var o=Kl(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gwe(this,i)}}function gwe(e,n){if(n&&(Tv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pwe(e)}function pwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vwe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kl(e){return Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kl(e)}var mwe=function(e){hwe(t,e);var n=dwe(t);function t(r,i){var o;return uwe(this,t),o=n.call(this,r,null),o.visualCellRange=i||null,o.commit(),o}return cwe(t,[{key:"add",value:function(i){return this.visualCellRange===null?this.visualCellRange=new fn(i):this.visualCellRange.expand(i),this}},{key:"clear",value:function(){return this.visualCellRange=null,kv(Kl(t.prototype),"clear",this).call(this)}},{key:"findVisibleCoordsInRange",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:a,l=this.findVisibleCoordsInRowsRange(i.row,o.row,a);if(l===null)return null;var u=this.findVisibleCoordsInColumnsRange(i.col,o.col,s);return u===null?null:new ae(l,u)}},{key:"findVisibleCoordsInRowsRange",value:function(i,o,a){var s=this.settings.visualToRenderableCoords({row:i,col:-1}),l=s.row;return o===i&&l===null?null:l===null?this.findVisibleCoordsInRowsRange(i+a,o,a):i}},{key:"findVisibleCoordsInColumnsRange",value:function(i,o,a){var s=this.settings.visualToRenderableCoords({row:-1,col:i}),l=s.col;return o===i&&l===null?null:l===null?this.findVisibleCoordsInColumnsRange(i+a,o,a):i}},{key:"findVisibleHeaderRange",value:function(i,o,a,s){var l=this.findVisibleCoordsInRowsRange(i.row,o.row,a),u=this.findVisibleCoordsInRowsRange(o.row,i.row,-a),c=this.findVisibleCoordsInColumnsRange(i.col,o.col,s),f=this.findVisibleCoordsInColumnsRange(o.col,i.col,-s);return l===null&&u===null&&c===null&&f===null?null:[new ae(l,c),new ae(u,f)]}},{key:"commit",value:function(){if(this.visualCellRange===null)return this;var i=this.visualCellRange,o=i.from,a=i.to,s=this.getRowSearchDirection(this.visualCellRange),l=this.getColumnSearchDirection(this.visualCellRange),u=this.findVisibleCoordsInRange(o,a,s,l),c=this.findVisibleCoordsInRange(a,o,-s,-l);if(u===null||c===null){var f=this.settings.type==="header",h=null;if(f){var d=this.findVisibleHeaderRange(o,a,s,l),g=iwe(d,2),p=g[0],v=g[1];h=this.createRenderableCellRange(p,v)}this.cellRange=h}else this.cellRange=this.createRenderableCellRange(u,c);return this}},{key:"adjustCoordinates",value:function(i){var o=this.getRowSearchDirection(i),a=this.getColumnSearchDirection(i),s=i.from.clone().normalize(),l=i.to.clone().normalize(),u=this.findVisibleCoordsInRange(s,l,o,a);if(u!==null){if(this.cellRange===null){var c=this.settings.visualToRenderableCoords(u);this.cellRange=new fn(c)}return i.setHighlight(u),this}return i.setHighlight(i.from),this}},{key:"getCorners",value:function(){var i=this.cellRange,o=i.from,a=i.to,s=o.row===null||a.row===null,l=o.col===null||a.col===null,u=new ae(s?null:Math.min(o.row,a.row),l?null:Math.min(o.col,a.col)),c=new ae(s?null:Math.max(o.row,a.row),l?null:Math.max(o.col,a.col));return[u.row,u.col,c.row,c.col]}},{key:"getVisualCorners",value:function(){var i=this.settings.renderableToVisualCoords(this.cellRange.getTopLeftCorner()),o=this.settings.renderableToVisualCoords(this.cellRange.getBottomRightCorner());return[i.row,i.col,o.row,o.col]}},{key:"createRenderableCellRange",value:function(i,o){var a=this.settings.visualToRenderableCoords(i),s=this.settings.visualToRenderableCoords(o);return new fn(a,a,s)}},{key:"getRowSearchDirection",value:function(i){return i.from.row<i.to.row?1:-1}},{key:"getColumnSearchDirection",value:function(i){return i.from.col<i.to.col?1:-1}}]),t}(jge),Xl=mwe,ywe=["activeHeaderClassName"];function KF(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function XF(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?KF(Object(t),!0).forEach(function(r){bwe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KF(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function bwe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function wwe(e,n){if(e==null)return{};var t=_we(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function _we(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Swe(e){var n=e.activeHeaderClassName,t=wwe(e,ywe),r=new Xl(XF(XF({highlightHeaderClassName:n},t),{},{selectionType:Ov}));return r}var Cwe=["layerLevel","areaCornerVisible"];function qF(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function ZF(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?qF(Object(t),!0).forEach(function(r){Rwe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qF(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Rwe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Owe(e,n){if(e==null)return{};var t=Ewe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function Ewe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Twe(e){var n=e.layerLevel,t=e.areaCornerVisible,r=Owe(e,Cwe),i=new Xl(ZF(ZF({className:"area",markIntersections:!0,layerLevel:Math.min(n,7),border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{},{selectionType:Ev}));return i}var kwe=["cellCornerVisible"];function QF(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function JF(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?QF(Object(t),!0).forEach(function(r){Awe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QF(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Awe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Mwe(e,n){if(e==null)return{};var t=xwe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function xwe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Pwe(e){var n=e.cellCornerVisible,t=Mwe(e,kwe),r=new Xl(JF(JF({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:n}},t),{},{selectionType:zf}));return r}var Iwe=["border","visualCellRange"];function eB(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function NO(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?eB(Object(t),!0).forEach(function(r){$we(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eB(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function $we(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Dwe(e,n){if(e==null)return{};var t=Nwe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function Nwe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function Lwe(e){var n=e.border,t=e.visualCellRange,r=Dwe(e,Iwe),i=new Xl(NO(NO(NO({},n),r),{},{selectionType:$O}),t);return i}var tB=pn,Hwe=Qe,Fwe=En,Bwe=lt,LO=xc,Vwe=xd,Wwe=mc,jwe=Qn,Uwe=bc,ql=Object.assign,nB=Object.defineProperty,zwe=Hwe([].concat),Ywe=!ql||Bwe(function(){if(tB&&ql({b:1},ql(nB({},"a",{enumerable:!0,get:function(){nB(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},n={},t=Symbol(),r="abcdefghijklmnopqrst";return e[t]=7,r.split("").forEach(function(i){n[i]=i}),ql({},e)[t]!=7||LO(ql({},n)).join("")!=r})?function(n,t){for(var r=jwe(n),i=arguments.length,o=1,a=Vwe.f,s=Wwe.f;i>o;)for(var l=Uwe(arguments[o++]),u=a?zwe(LO(l),a(l)):LO(l),c=u.length,f=0,h;c>f;)h=u[f++],(!tB||Fwe(s,l,h))&&(r[h]=l[h]);return r}:ql,Gwe=et,rB=Ywe;Gwe({target:"Object",stat:!0,forced:Object.assign!==rB},{assign:rB});function iB(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function oB(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?iB(Object(t),!0).forEach(function(r){Kwe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):iB(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Kwe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Xwe(e){var n=Object.assign({},e),t=new Xl(oB(oB({className:"fill",border:{width:1,color:"#ff0000"}},n),{},{selectionType:IO}));return t}var qwe=["headerClassName","rowClassName","columnClassName"];function aB(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function sB(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?aB(Object(t),!0).forEach(function(r){Zwe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aB(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Zwe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Qwe(e,n){if(e==null)return{};var t=Jwe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function Jwe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function e_e(e){var n=e.headerClassName,t=e.rowClassName,r=e.columnClassName,i=Qwe(e,qwe),o=new Xl(sB(sB({className:"highlight",highlightHeaderClassName:n,highlightRowClassName:t,highlightColumnClassName:r},i),{},{highlightOnlyClosestHeader:!0,selectionType:Yf}));return o}function lB(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function t_e(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?lB(Object(t),!0).forEach(function(r){n_e(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lB(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function n_e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var uB=Pr("highlight/types"),Zl=uB.register,r_e=uB.getItem;Zl(Ov,Swe);Zl(Ev,Twe);Zl(zf,Pwe);Zl($O,Lwe);Zl(IO,Xwe);Zl(Yf,e_e);function Ql(e,n){return r_e(e)(t_e({type:e},n))}function ua(e){return s_e(e)||a_e(e)||o_e(e)||i_e()}function i_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_e(e,n){if(!!e){if(typeof e=="string")return HO(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HO(e,n)}}function a_e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s_e(e){if(Array.isArray(e))return HO(e)}function HO(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function cB(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Gf(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?cB(Object(t),!0).forEach(function(r){l_e(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cB(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function l_e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u_e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c_e(e,n,t){return n&&fB(e.prototype,n),t&&fB(e,t),e}var f_e=function(e){function n(t){u_e(this,n),this.options=t,this.layerLevel=0,this.cell=Ql(zf,t),this.fill=Ql(IO,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}return c_e(n,[{key:"isEnabledFor",value:function(r,i){var o=r;r===zf&&(o="current");var a=this.options.disabledCellSelection(i.row,i.col);return typeof a=="string"&&(a=[a]),a===!1||Array.isArray(a)&&!a.includes(o)}},{key:"useLayerLevel",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=r,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var r=this.layerLevel,i;return this.areas.has(r)?i=this.areas.get(r):(i=Ql(Ev,Gf({layerLevel:r},this.options)),this.areas.set(r,i)),i}},{key:"getAreas",value:function(){return ua(this.areas.values())}},{key:"createOrGetHeader",value:function(){var r=this.layerLevel,i;return this.headers.has(r)?i=this.headers.get(r):(i=Ql(Yf,Gf({},this.options)),this.headers.set(r,i)),i}},{key:"getHeaders",value:function(){return ua(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var r=this.layerLevel,i;return this.activeHeaders.has(r)?i=this.activeHeaders.get(r):(i=Ql(Ov,Gf({},this.options)),this.activeHeaders.set(r,i)),i}},{key:"getActiveHeaders",value:function(){return ua(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return ua(this.customSelections.values())}},{key:"addCustomSelection",value:function(r){this.customSelections.push(Ql($O,Gf(Gf({},this.options),r)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),B(this.areas.values(),function(r){return void r.clear()}),B(this.headers.values(),function(r){return void r.clear()}),B(this.activeHeaders.values(),function(r){return void r.clear()})}},{key:e,value:function(){return[this.cell,this.fill].concat(ua(this.areas.values()),ua(this.headers.values()),ua(this.activeHeaders.values()),ua(this.customSelections))[Symbol.iterator]()}}]),n}(Symbol.iterator),h_e=f_e;function d_e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g_e(e,n,t){return n&&hB(e.prototype,n),t&&hB(e,t),e}var p_e=function(e){function n(){d_e(this,n),this.ranges=[]}return g_e(n,[{key:"isEmpty",value:function(){return this.size()===0}},{key:"set",value:function(r){return this.clear(),this.ranges.push(new fn(r)),this}},{key:"add",value:function(r){return this.ranges.push(new fn(r)),this}},{key:"pop",value:function(){return this.ranges.pop(),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(r){return this.ranges.some(function(i){return i.includes(r)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=this.size()+r-1,o;return i>=0&&(o=this.ranges[i]),o}},{key:e,value:function(){return this.ranges[Symbol.iterator]()}}]),n}(Symbol.iterator),v_e=p_e;function m_e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y_e(e,n,t){return n&&dB(e.prototype,n),t&&dB(e,t),e}var gB=function(){function e(n,t){m_e(this,e),this.range=n,this.options=t}return y_e(e,[{key:"transformStart",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=new ae(t,r),a=this.range.current().highlight,s=this.options.visualToRenderableCoords(a),l=s.row,u=s.col,c=a,f=0,h=0;if(this.runLocalHooks("beforeTransformStart",o),l!==null&&u!==null){var d=this.options.countRows(),g=this.options.countCols(),p=this.options.fixedRowsBottom(),v=this.options.minSpareRows(),m=this.options.minSpareCols(),w=this.options.autoWrapRow(),C=this.options.autoWrapCol();l+t>d-1?i&&v>0&&!(p&&l>=d-p-1)?(this.runLocalHooks("insertRowRequire",d),d=this.options.countRows()):C&&(o.row=1-d,o.col=u+o.col===g-1?1-g:1):C&&l+o.row<0&&u+o.col>=0&&(o.row=d-1,o.col=u+o.col===0?g-1:-1),u+o.col>g-1?i&&m>0?(this.runLocalHooks("insertColRequire",g),g=this.options.countCols()):w&&(o.row=l+o.row===d-1?1-d:1,o.col=1-g):w&&u+o.col<0&&l+o.row>=0&&(o.row=l+o.row===0?d-1:-1,o.col=g-1);var E=new ae(l+o.row,u+o.col);f=0,h=0,E.row<0?(f=-1,E.row=0):E.row>0&&E.row>=d&&(f=1,E.row=d-1),E.col<0?(h=-1,E.col=0):E.col>0&&E.col>=g&&(h=1,E.col=g-1),c=this.options.renderableToVisualCoords(E)}return this.runLocalHooks("afterTransformStart",c,f,h),c}},{key:"transformEnd",value:function(t,r){var i=new ae(t,r),o=this.range.current(),a=o.to,s=0,l=0;this.runLocalHooks("beforeTransformEnd",i);var u=this.options.visualToRenderableCoords(o.highlight),c=u.row,f=u.col;if(c!==null&&f!==null){var h=this.options.countRows(),d=this.options.countCols(),g=this.options.visualToRenderableCoords(o.to),p=g.row,v=g.col,m=new ae(p+i.row,v+i.col);s=0,l=0,m.row<0?(s=-1,m.row=0):m.row>0&&m.row>=h&&(s=1,m.row=h-1),m.col<0?(l=-1,m.col=0):m.col>0&&m.col>=d&&(l=1,m.col=d-1),a=this.options.renderableToVisualCoords(m)}return this.runLocalHooks("afterTransformEnd",a,s,l),a}}]),e}();Ot(gB,nr);var b_e=gB;function pB(e,n){return C_e(e)||S_e(e,n)||__e(e,n)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function __e(e,n){if(!!e){if(typeof e=="string")return vB(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vB(e,n)}}function vB(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function S_e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function C_e(e){if(Array.isArray(e))return e}function Av(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Av=function(t){return typeof t}:Av=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var Mv=0,xv=1,mB=2,FO=3,R_e=[FO,mB],O_e=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],BO=Symbol("root"),yB=Symbol("child");function Jl(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BO;if(n!==BO&&n!==yB)throw new Error("The second argument is used internally only and cannot be overwritten.");var t=Array.isArray(e),r=n===BO,i=Mv;if(t){var o=e[0];if(e.length===0)i=xv;else if(r&&o instanceof fn)i=FO;else if(r&&Array.isArray(o))i=Jl(o,yB);else if(e.length>=2&&e.length<=4){var a=!e.some(function(s,l){return!O_e[l].includes(Av(s))});a&&(i=mB)}}return i}function Kf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.keepDirection,r=t===void 0?!1:t,i=n.propToCol;if(!R_e.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){var a=e===FO,s=a?o.from.row:o[0],l=a?o.from.col:o[1],u=a?o.to.row:o[2],c=a?o.to.col:o[3];if(typeof i=="function"&&(typeof l=="string"&&(l=i(l)),typeof c=="string"&&(c=i(c))),Dt(u)&&(u=s),Dt(c)&&(c=l),!r){var f=s,h=l,d=u,g=c;s=Math.min(f,d),l=Math.min(h,g),u=Math.max(f,d),c=Math.max(h,g)}return[s,l,u,c]}}function E_e(e){var n=Jl(e);if(n===Mv||n===xv)return[];var t=Kf(n),r=new Set;B(e,function(a){var s=t(a),l=pB(s,4),u=l[1],c=l[3],f=Math.max(u,0),h=c-f+1;B(Array.from(new Array(h),function(d,g){return f+g}),function(d){r.has(d)||r.add(d)})});var i=Array.from(r).sort(function(a,s){return a-s}),o=Qt(i,function(a,s,l,u){return l!==0&&s===u[l-1]+1?a[a.length-1][1]+=1:a.push([s,1]),a},[]);return o}function T_e(e){var n=Jl(e);if(n===Mv||n===xv)return[];var t=Kf(n),r=new Set;B(e,function(a){var s=t(a),l=pB(s,3),u=l[0],c=l[2],f=Math.max(u,0),h=c-f+1;B(Array.from(new Array(h),function(d,g){return f+g}),function(d){r.has(d)||r.add(d)})});var i=Array.from(r).sort(function(a,s){return a-s}),o=Qt(i,function(a,s,l,u){return l!==0&&s===u[l-1]+1?a[a.length-1][1]+=1:a.push([s,1]),a},[]);return o}function ca(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;return typeof e=="number"&&e>=0&&e<n}var bB;function wB(e,n){return x_e(e)||M_e(e,n)||A_e(e,n)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A_e(e,n){if(!!e){if(typeof e=="string")return _B(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _B(e,n)}}function _B(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function M_e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function x_e(e){if(Array.isArray(e))return e}function P_e(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function I_e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function SB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $_e(e,n,t){return n&&SB(e.prototype,n),t&&SB(e,t),e}var CB=function(){function e(n,t){var r=this;I_e(this,e),this.settings=n,this.tableProps=t,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new v_e,this.highlight=new h_e({headerClassName:n.currentHeaderClassName,activeHeaderClassName:n.activeHeaderClassName,rowClassName:n.currentRowClassName,columnClassName:n.currentColClassName,disabledCellSelection:function(o,a){return r.tableProps.isDisabledCellSelection(o,a)},cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)}}),this.transformation=new b_e(this.selectedRange,{countRows:function(){return r.tableProps.countRowsTranslated()},countCols:function(){return r.tableProps.countColsTranslated()},visualToRenderableCoords:function(o){return r.tableProps.visualToRenderableCoords(o)},renderableToVisualCoords:function(o){return r.tableProps.renderableToVisualCoords(o)},fixedRowsBottom:function(){return n.fixedRowsBottom},minSpareRows:function(){return n.minSpareRows},minSpareCols:function(){return n.minSpareCols},autoWrapRow:function(){return n.autoWrapRow},autoWrapCol:function(){return n.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(o))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(o))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(o))}),this.transformation.addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.runLocalHooks.apply(r,["insertColRequire"].concat(o))})}return $_e(e,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this.settings.selectionMode==="multiple",a=Dt(r)?Rv():r,s=t.row<0,l=t.col<0,u=s&&l,c=t.clone();this.selectedByCorner=u,this.runLocalHooks("beforeSetRangeStart".concat(i?"Only":""),c),(!o||o&&!a&&Dt(r))&&this.selectedRange.clear(),this.selectedRange.add(c),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!u&&l&&this.selectedByRowHeader.add(this.getLayerLevel()),!u&&s&&this.selectedByColumnHeader.add(this.getLayerLevel()),i||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,r){this.setRangeStart(t,r,!0)}},{key:"setRangeEnd",value:function(t){if(!this.selectedRange.isEmpty()){var r=t.clone();this.runLocalHooks("beforeSetRangeEnd",r),this.begin();var i=this.selectedRange.current();this.settings.selectionMode!=="single"&&i.setTo(new ae(r.row,r.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(zf,i.highlight)&&this.highlight.getCell().add(this.selectedRange.current().highlight).commit().adjustCoordinates(i);var o=this.getLayerLevel();o<this.highlight.layerLevel&&(B(this.highlight.getAreas(),function(p){return void p.clear()}),B(this.highlight.getHeaders(),function(p){return void p.clear()}),B(this.highlight.getActiveHeaders(),function(p){return void p.clear()})),this.highlight.useLayerLevel(o);var a=this.highlight.createOrGetArea(),s=this.highlight.createOrGetHeader(),l=this.highlight.createOrGetActiveHeader();if(a.clear(),s.clear(),l.clear(),this.highlight.isEnabledFor(Ev,i.highlight)&&(this.isMultiple()||o>=1)&&(a.add(i.from).add(i.to).commit(),o===1)){var u=this.selectedRange.previous();this.highlight.useLayerLevel(o-1).createOrGetArea().add(u.from).commit().adjustCoordinates(u),this.highlight.useLayerLevel(o)}if(this.highlight.isEnabledFor(Yf,i.highlight)){var c=this.tableProps.countRowsTranslated()===0,f=this.tableProps.countColsTranslated()===0,h=i;if((c||f)&&(h=i.clone()),c&&(h.from.row=-1),f&&(h.from.col=-1),this.settings.selectionMode==="single"?(this.isSelectedByAnyHeader()&&h.from.normalize(),s.add(h.from).commit()):s.add(h.from).add(h.to).commit(),this.isEntireRowSelected()){var d=this.tableProps.countCols()===i.getWidth();d&&l.add(new ae(i.from.row,-1)).add(new ae(i.to.row,-1)).commit()}if(this.isEntireColumnSelected()){var g=this.tableProps.countRows()===i.getHeight();g&&l.add(new ae(-1,i.from.col)).add(new ae(-1,i.to.col)).commit()}}this.runLocalHooks("afterSetRangeEnd",t)}}},{key:"isMultiple",value:function(){var t=Za(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.setRangeStart(this.transformation.transformStart(t,r,i))}},{key:"transformEnd",value:function(t,r){this.setRangeEnd(this.transformation.transformEnd(t,r))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&this.isEntireRowSelected(t)}},{key:"isEntireRowSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return t===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&this.isEntireColumnSelected(t)}},{key:"isEntireColumnSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return t===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return Number.isInteger(t)&&t!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){!this.isSelected()||(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.tableProps.countRows(),o=this.tableProps.countCols();if(!(!t&&!r&&(i===0||o===0))){var a=new ae(r?-1:0,t?-1:0);this.clear(),this.setRangeStartOnly(a),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(new ae(i-1,o-1)),this.finish()}}},{key:"selectCells",value:function(t){var r=this,i=Jl(t);if(i===xv)return!1;if(i===Mv)throw new Error(Mt(bB||(bB=P_e([`Unsupported format of the selection ranges was passed. To select cells pass 
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, 
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`],[`Unsupported format of the selection ranges was passed. To select cells pass\\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`]))));var o=Kf(i,{propToCol:function(c){return r.tableProps.propToCol(c)},keepDirection:!0}),a=this.tableProps.countRows(),s=this.tableProps.countCols(),l=!t.some(function(u){var c=o(u),f=wB(c,4),h=f[0],d=f[1],g=f[2],p=f[3],v=ca(h,a)&&ca(d,s)&&ca(g,a)&&ca(p,s);return!v});return l&&(this.clear(),B(t,function(u){var c=o(u),f=wB(c,4),h=f[0],d=f[1],g=f[2],p=f[3];r.setRangeStartOnly(new ae(h,d),!1),r.setRangeEnd(new ae(g,p)),r.finish()})),l}},{key:"selectColumns",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=typeof t=="string"?this.tableProps.propToCol(t):t,a=typeof r=="string"?this.tableProps.propToCol(r):r,s=this.tableProps.countCols(),l=this.tableProps.countRows(),u=ca(o,s)&&ca(a,s);return u&&(this.setRangeStartOnly(new ae(i,o)),this.setRangeEnd(new ae(l-1,a)),this.finish()),u}},{key:"selectRows",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=this.tableProps.countRows(),a=this.tableProps.countCols(),s=ca(t,o)&&ca(r,o);return s&&(this.setRangeStartOnly(new ae(t,i)),this.setRangeEnd(new ae(r,a-1)),this.finish()),s}},{key:"refresh",value:function(){var t=this.highlight.getCustomSelections();if(t.forEach(function(u){u.commit()}),!!this.isSelected()){var r=this.highlight.getCell(),i=this.getLayerLevel();r.commit().adjustCoordinates(this.selectedRange.current());for(var o=0;o<this.selectedRange.size();o+=1){this.highlight.useLayerLevel(o);var a=this.highlight.createOrGetArea(),s=this.highlight.createOrGetHeader(),l=this.highlight.createOrGetActiveHeader();a.commit(),s.commit(),l.commit()}this.highlight.useLayerLevel(i)}}}]),e}();Ot(CB,nr);var D_e=CB,N_e=et,RB=Qe,L_e=si.f,H_e=Wa,OB=mn,F_e=sS,B_e=Zn,V_e=lS,EB=RB("".startsWith),W_e=RB("".slice),j_e=Math.min,TB=V_e("startsWith"),U_e=!TB&&!!function(){var e=L_e(String.prototype,"startsWith");return e&&!e.writable}();N_e({target:"String",proto:!0,forced:!U_e&&!TB},{startsWith:function(n){var t=OB(B_e(this));F_e(n);var r=H_e(j_e(arguments.length>1?arguments[1]:void 0,t.length)),i=OB(n);return EB?EB(t,i,r):W_e(t,r,r+i.length)===i}});var kB=/^(\r\n|\n\r|\r|\n)/,z_e=/^[^\t\r\n]+/,AB=/^\t/;function Y_e(e){var n=[[""]];if(e.length===0)return n;for(var t=0,r=0,i;e.length>0&&i!==e.length;)if(i=e.length,e.match(AB))e=e.replace(AB,""),t+=1,n[r][t]="";else if(e.match(kB))e=e.replace(kB,""),t=0,r+=1,n[r]=[""];else{var o="";if(e.startsWith('"')){for(var a=0,s=!0;s;){var l=e.slice(0,1);l==='"'&&(a+=1),o+=l,e=e.slice(1),(e.length===0||e.match(/^[\t\r\n]/)&&a%2==0)&&(s=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,function(c){return new Array(Math.floor(c.length/2)).fill('"').join("")})}else{var u=e.match(z_e);o=u?u[0]:"",e=e.slice(o.length)}n[r][t]=o}return n}function Xf(e){var n,t,r,i,o="",a;for(n=0,t=e.length;n<t;n+=1){for(i=e[n].length,r=0;r<i;r+=1)r>0&&(o+="	"),a=e[n][r],typeof a=="string"?a.indexOf(`
`)>-1?o+='"'.concat(a.replace(/"/g,'""'),'"'):o+=a:a==null?o+="":o+=a;n!==t-1&&(o+=`
`)}return o}function Pv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pv=function(t){return typeof t}:Pv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function G_e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function MB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K_e(e,n,t){return n&&MB(e.prototype,n),t&&MB(e,t),e}var X_e=Lf("copyable",!1),q_e=function(){function e(n,t,r){G_e(this,e),this.instance=n,this.tableMeta=r,this.dataSource=t,this.duckSchema=this.dataSource&&this.dataSource[0]?Ol(this.dataSource[0]):{},this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap()}return K_e(e,[{key:"createMap",value:function(){var t=this.getSchema();if(typeof t=="undefined")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");var r=this.tableMeta.columns,i;if(this.colToPropCache=[],this.propToColCache=new Map,r){var o=0,a=0,s=!1;if(typeof r=="function"){var l=hg(t);o=l>0?l:this.countFirstRowKeys(),s=!0}else{var u=this.tableMeta.maxCols;o=Math.min(u,r.length)}for(i=0;i<o;i++){var c=s?r(i):r[i];if(rt(c)){if(typeof c.data!="undefined"){var f=s?a:i;this.colToPropCache[f]=c.data,this.propToColCache.set(c.data,f)}a+=1}}}else this.recursiveDuckColumns(t)}},{key:"countFirstRowKeys",value:function(){return G0(this.dataSource)}},{key:"recursiveDuckColumns",value:function(t,r,i){var o=this,a=r,s=i,l;return typeof a=="undefined"&&(a=0,s=""),Pv(t)==="object"&&!Array.isArray(t)&&st(t,function(u,c){u===null?(l=s+c,o.colToPropCache.push(l),o.propToColCache.set(l,a),a+=1):a=o.recursiveDuckColumns(u,a,"".concat(c,"."))}),a}},{key:"colToProp",value:function(t){if(Number.isInteger(t)===!1)return t;var r=this.instance.toPhysicalColumn(t);return r===null?t:this.colToPropCache&&je(this.colToPropCache[r])?this.colToPropCache[r]:r}},{key:"propToCol",value:function(t){var r=this.propToColCache.get(t);if(je(r))return this.instance.toVisualColumn(r);var i=this.instance.toVisualColumn(t);return i===null?t:i}},{key:"getSchema",value:function(){var t=this.tableMeta.dataSchema;return t?typeof t=="function"?t():t:this.duckSchema}},{key:"createRow",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,a=this.instance.countSourceRows(),s=a,l=0,u=t;(typeof u!="number"||u>=a)&&(u=a),u<this.instance.countRows()&&(s=this.instance.toPhysicalRow(u));var c=this.instance.runHooks("beforeCreateRow",u,i,o);if(c===!1||s===null)return 0;for(var f=this.tableMeta.maxRows,h=this.instance.countCols(),d=[],g=function(){var v=null;r.instance.dataType==="array"?r.tableMeta.dataSchema?v=Bn(r.getSchema()):(v=[],Le(h-1,function(){return v.push(null)})):r.instance.dataType==="function"?v=r.tableMeta.dataSchema(u+l):(v={},ef(v,r.getSchema())),d.push(v),l+=1};l<i&&a+l<f;)g();return this.instance.rowIndexMapper.insertIndexes(u,l),this.spliceData.apply(this,[s,0].concat(d)),this.instance.runHooks("afterCreateRow",u,l,o),this.instance.forceFullRender=!0,l}},{key:"createCol",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var o=this.dataSource,a=this.tableMeta.maxCols,s=t;(typeof s!="number"||s>=this.instance.countSourceCols())&&(s=this.instance.countSourceCols());var l=this.instance.runHooks("beforeCreateCol",s,r,i);if(l===!1)return 0;var u=this.instance.countSourceCols();s<this.instance.countCols()&&(u=this.instance.toPhysicalColumn(s));for(var c=this.instance.countSourceRows(),f=this.instance.countCols(),h=0,d=u;h<r&&f<a;){if(typeof s!="number"||s>=f)if(c>0)for(var g=0;g<c;g+=1)typeof o[g]=="undefined"&&(o[g]=[]),o[g].push(null);else o.push([null]);else for(var p=0;p<c;p++)o[p].splice(d,0,null);h+=1,d+=1,f+=1}return this.instance.columnIndexMapper.insertIndexes(s,h),this.instance.runHooks("afterCreateCol",s,h,i),this.instance.forceFullRender=!0,h}},{key:"removeRow",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,o=Number.isInteger(t)?t:-r,a=this.visualRowsToPhysical(o,r),s=this.instance.countSourceRows();o=(s+o)%s;var l=this.instance.runHooks("beforeRemoveRow",o,a.length,a,i);if(l===!1)return!1;var u=a.length;if(this.filterData(o,u,a),o<this.instance.countRows()){this.instance.rowIndexMapper.removeIndexes(a);var c=je(this.tableMeta.columns)||je(this.tableMeta.dataSchema);this.instance.rowIndexMapper.getNotTrimmedIndexesLength()===0&&c===!1&&this.instance.columnIndexMapper.setIndexesSequence([])}return this.instance.runHooks("afterRemoveRow",o,u,a,i),this.instance.forceFullRender=!0,!0}},{key:"removeCol",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(this.instance.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");var o=typeof t!="number"?-r:t;o=(this.instance.countCols()+o)%this.instance.countCols();var a=this.visualColumnsToPhysical(o,r),s=a.slice(0).sort(function(w,C){return C-w}),l=this.instance.runHooks("beforeRemoveCol",o,r,a,i);if(l===!1)return!1;for(var u=!0,c=s.length,f=this.dataSource,h=0;h<c;h++)u&&a[0]!==a[h]-h&&(u=!1);if(u)for(var d=0,g=this.instance.countSourceRows();d<g;d++)f[d].splice(a[0],r);else for(var p=0,v=this.instance.countSourceRows();p<v;p++)for(var m=0;m<c;m++)f[p].splice(s[m],1);return o<this.instance.countCols()&&(this.instance.columnIndexMapper.removeIndexes(a),this.instance.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.instance.rowIndexMapper.setIndexesSequence([])),this.instance.runHooks("afterRemoveCol",o,r,a,i),this.instance.forceFullRender=!0,!0}},{key:"spliceCol",value:function(t,r,i){for(var o=this.instance.getDataAtCol(t),a=o.slice(r,r+i),s=o.slice(r+i),l=arguments.length,u=new Array(l>3?l-3:0),c=3;c<l;c++)u[c-3]=arguments[c];kS(u,s);for(var f=0;f<i;)u.push(null),f+=1;return H$(u),this.instance.populateFromArray(r,t,u,null,null,"spliceCol"),a}},{key:"spliceRow",value:function(t,r,i){for(var o=this.instance.getSourceDataAtRow(t),a=o.slice(r,r+i),s=o.slice(r+i),l=arguments.length,u=new Array(l>3?l-3:0),c=3;c<l;c++)u[c-3]=arguments[c];kS(u,s);for(var f=0;f<i;)u.push(null),f+=1;return this.instance.populateFromArray(t,r,[u],null,null,"spliceRow"),a}},{key:"spliceData",value:function(t,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s=this.instance.runHooks("beforeDataSplice",t,r,o);if(s!==!1){var l;(l=this.dataSource).splice.apply(l,[t,r].concat(o))}}},{key:"filterData",value:function(t,r,i){var o=this.instance.runHooks("filterData",t,r,i);Array.isArray(o)===!1&&(o=this.dataSource.filter(function(a,s){return i.indexOf(s)===-1})),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,o)}},{key:"get",value:function(t,r){var i=this.instance.toPhysicalRow(t),o=this.dataSource[i],a=this.instance.runHooks("modifyRowData",i);o=isNaN(a)?a:o;var s=null;if(o&&o.hasOwnProperty&&kt(o,r))s=o[r];else if(typeof r=="string"&&r.indexOf(".")>-1){var l=r.split("."),u=o;if(!u)return null;for(var c=0,f=l.length;c<f;c++)if(u=u[l[c]],typeof u=="undefined")return null;s=u}else typeof r=="function"&&(s=r(this.dataSource.slice(i,i+1)[0]));if(this.instance.hasHook("modifyData")){var h=Za(s);this.instance.runHooks("modifyData",i,this.propToCol(r),h,"get"),h.isTouched()&&(s=h.value)}return s}},{key:"getCopyable",value:function(t,r){return X_e.call(this.instance,t,this.propToCol(r))?this.get(t,r):""}},{key:"set",value:function(t,r,i){var o=this.instance.toPhysicalRow(t),a=i,s=this.dataSource[o],l=this.instance.runHooks("modifyRowData",o);if(s=isNaN(l)?l:s,this.instance.hasHook("modifyData")){var u=Za(a);this.instance.runHooks("modifyData",o,this.propToCol(r),u,"set"),u.isTouched()&&(a=u.value)}if(s&&s.hasOwnProperty&&kt(s,r))s[r]=a;else if(typeof r=="string"&&r.indexOf(".")>-1){var c=r.split("."),f=s,h=0,d;for(h=0,d=c.length-1;h<d;h++)typeof f[c[h]]=="undefined"&&(f[c[h]]={}),f=f[c[h]];f[c[h]]=a}else typeof r=="function"?r(this.dataSource.slice(o,o+1)[0],a):s[r]=a}},{key:"visualRowsToPhysical",value:function(t,r){for(var i=this.instance.countSourceRows(),o=[],a=(i+t)%i,s=r,l;a<i&&s;)l=this.instance.toPhysicalRow(a),o.push(l),s-=1,a+=1;return o}},{key:"visualColumnsToPhysical",value:function(t,r){for(var i=this.instance.countCols(),o=[],a=(i+t)%i,s=r;a<i&&s;){var l=this.instance.toPhysicalColumn(a);o.push(l),s-=1,a+=1}return o}},{key:"clear",value:function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var r=0;r<this.instance.countCols();r++)this.set(t,this.colToProp(r),"")}},{key:"getLength",value:function(){var t=this.tableMeta.maxRows,r;t<0||t===0?r=0:r=t||1/0;var i=this.instance.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}},{key:"getAll",value:function(){var t={row:0,col:0},r={row:Math.max(this.instance.countRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-r.row==0&&!this.instance.countSourceRows()?[]:this.getRange(t,r,e.DESTINATION_RENDERER)}},{key:"countCachedColumns",value:function(){return this.colToPropCache.length}},{key:"getRange",value:function(t,r,i){var o=[],a,s,l,u=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(u===0||c===0)return[];var f=i===e.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(u-1,0),Math.max(t.row,r.row)),d=Math.min(Math.max(c-1,0),Math.max(t.col,r.col));for(a=Math.min(t.row,r.row);a<=h;a++){l=[];var g=a>=0?this.instance.toPhysicalRow(a):a;for(s=Math.min(t.col,r.col);s<=d&&g!==null;s++)l.push(f.call(this,a,this.colToProp(s)));g!==null&&o.push(l)}return o}},{key:"getText",value:function(t,r){return Xf(this.getRange(t,r,e.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(t,r){return Xf(this.getRange(t,r,e.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"destroy",value:function(){this.instance=null,this.tableMeta=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}],[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}]),e}(),Z_e=q_e;function Iv(e,n){var t=typeof e=="string"?tv(e):e;if(!!rt(t)){var r=rt(n),i={};return st(t,function(o,a){a!=="CELL_TYPE"&&(!r||r&&!kt(n,a))&&(i[a]=o)}),i}}function Q_e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function t(){}Ui(t,e);for(var r=0;r<n.length;r++)t.prototype[n[r]]=void 0;return t}function $v(e){return Number.isInteger(e)&&e>=0}function Dv(e,n){if(!e())throw new Error("Assertion failed: ".concat(n))}function Nv(e){return e==null}function Lv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lv=function(t){return typeof t}:Lv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}var xB=function(){return{licenseKey:void 0,data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,selectionMode:"multiple",fillHandle:{autoInsertRow:!1},fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",activeHeaderClassName:"ht__active_highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(n){var t,r,i,o;for(t=0,r=this.countCols();t<r;t++)if(i=this.getDataAtCell(n,t),cn(i)===!1)return Lv(i)==="object"?(o=this.getCellMeta(n,t),PS(this.getSchema()[o.prop],i)):!1;return!0},isEmptyCol:function(n){var t,r,i;for(t=0,r=this.countRows();t<r;t++)if(i=this.getDataAtCell(t,n),cn(i)===!1)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:void 0,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,skipRowOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,visibleRows:10,trimDropdown:!0,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,copyPaste:!0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,multiColumnSorting:void 0,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,manualColumnFreeze:void 0,trimWhitespace:!0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,numericFormat:void 0,language:"en-US",locale:"en-US",selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:"DD/MM/YYYY",correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,preventWheel:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1,dragToScroll:!0,nestedRows:void 0}};function PB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J_e(e,n,t){return n&&PB(e.prototype,n),t&&PB(e,t),e}function IB(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function eSe(){return function e(){IB(this,e)}}var tSe=function(){function e(n){IB(this,e),this.metaCtor=eSe(),this.meta=this.metaCtor.prototype,Vt(this.meta,xB()),this.meta.instance=n}return J_e(e,[{key:"getMetaConstructor",value:function(){return this.metaCtor}},{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){Vt(this.meta,t),Vt(this.meta,Iv(t.type,t))}}]),e}();function nSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $B(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rSe(e,n,t){return n&&$B(e.prototype,n),t&&$B(e,t),e}var iSe=function(){function e(n){nSe(this,e);var t=n.getMetaConstructor();this.meta=new t}return rSe(e,[{key:"getMeta",value:function(){return this.meta}},{key:"updateMeta",value:function(t){Vt(this.meta,t),Vt(this.meta,Iv(t.type,t))}}]),e}();function oSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function DB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aSe(e,n,t){return n&&DB(e.prototype,n),t&&DB(e,t),e}var VO=function(e){function n(t){oSe(this,n),this.valueFactory=t,this.data=[],this.index=[],this.holes=new Set}return aSe(n,[{key:"obtain",value:function(r){Dv(function(){return $v(r)},"Expecting an unsigned number.");var i=this._getStorageIndexByKey(r),o;if(i>=0)o=this.data[i],o===void 0&&(o=this.valueFactory(r),this.data[i]=o);else if(o=this.valueFactory(r),this.holes.size>0){var a=this.holes.values().next().value;this.holes.delete(a),this.data[a]=o,this.index[r]=a}else this.data.push(o),this.index[r]=this.data.length-1;return o}},{key:"insert",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Dv(function(){return $v(r)||Nv(r)},"Expecting an unsigned number or null/undefined argument.");for(var a=[],s=this.data.length,l=0;l<o;l++)a.push(s+l),this.data.push(void 0);(i=this.index).splice.apply(i,[Nv(r)?this.index.length:r,0].concat(a))}},{key:"remove",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Dv(function(){return $v(r)||Nv(r)},"Expecting an unsigned number or null/undefined argument.");for(var o=this.index.splice(Nv(r)?this.index.length-i:r,i),a=0;a<o.length;a++){var s=o[a];typeof s=="number"&&this.holes.add(s)}}},{key:"size",value:function(){return this.data.length-this.holes.size}},{key:"values",value:function(){var r=this;return lr(this.data,function(i,o){return!r.holes.has(o)})[Symbol.iterator]()}},{key:"entries",value:function(){for(var r=[],i=0;i<this.data.length;i++){var o=this._getKeyByStorageIndex(i);o!==-1&&r.push([o,this.data[i]])}var a=0;return{next:function(){if(a<r.length){var l=r[a];return a+=1,{value:l,done:!1}}return{done:!0}}}}},{key:"clear",value:function(){this.data=[],this.index=[],this.holes.clear()}},{key:"_getStorageIndexByKey",value:function(r){return this.index.length>r?this.index[r]:-1}},{key:"_getKeyByStorageIndex",value:function(r){return this.index.indexOf(r)}},{key:e,value:function(){return this.entries()}}]),n}(Symbol.iterator);function sSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function NB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lSe(e,n,t){return n&&NB(e.prototype,n),t&&NB(e,t),e}var uSe=["data","width"],cSe=function(){function e(n){var t=this;sSe(this,e),this.globalMeta=n,this.metas=new VO(function(){return t._createMeta()})}return lSe(e,[{key:"updateMeta",value:function(t,r){var i=this.getMeta(t);Vt(i,r),Vt(i,Iv(r.type,i))}},{key:"createColumn",value:function(t,r){this.metas.insert(t,r)}},{key:"removeColumn",value:function(t,r){this.metas.remove(t,r)}},{key:"getMeta",value:function(t){return this.metas.obtain(t)}},{key:"getMetaConstructor",value:function(t){return this.metas.obtain(t).constructor}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createMeta",value:function(){return Q_e(this.globalMeta.getMetaConstructor(),uSe).prototype}}]),e}();function fSe(e){return pSe(e)||gSe(e)||dSe(e)||hSe()}function hSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dSe(e,n){if(!!e){if(typeof e=="string")return WO(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return WO(e,n)}}function gSe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pSe(e){if(Array.isArray(e))return WO(e)}function WO(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function vSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function LB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mSe(e,n,t){return n&&LB(e.prototype,n),t&&LB(e,t),e}var ySe=function(){function e(n){var t=this;vSe(this,e),this.columnMeta=n,this.metas=new VO(function(){return t._createRow()})}return mSe(e,[{key:"updateMeta",value:function(t,r,i){var o=this.getMeta(t,r);Vt(o,i),Vt(o,Iv(i.type,o))}},{key:"createRow",value:function(t,r){this.metas.insert(t,r)}},{key:"createColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}},{key:"removeRow",value:function(t,r){this.metas.remove(t,r)}},{key:"removeColumn",value:function(t,r){for(var i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}},{key:"getMeta",value:function(t,r,i){var o=this.metas.obtain(t).obtain(r);return i===void 0?o:o[i]}},{key:"setMeta",value:function(t,r,i,o){var a=this.metas.obtain(t).obtain(r);a[i]=o}},{key:"removeMeta",value:function(t,r,i){var o=this.metas.obtain(t).obtain(r);delete o[i]}},{key:"getMetas",value:function(){for(var t=[],r=Array.from(this.metas.values()),i=0;i<r.length;i++)t.push.apply(t,fSe(r[i].values()));return t}},{key:"getMetasAtRow",value:function(t){Dv(function(){return $v(t)},"Expecting an unsigned number.");var r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}},{key:"clearCache",value:function(){this.metas.clear()}},{key:"_createRow",value:function(){var t=this;return new VO(function(r){return t._createMeta(r)})}},{key:"_createMeta",value:function(t){var r=this.columnMeta.getMetaConstructor(t);return new r}}]),e}();function bSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function HB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wSe(e,n,t){return n&&HB(e.prototype,n),t&&HB(e,t),e}var FB=function(){function e(n){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];bSe(this,e),this.hot=n,this.globalMeta=new tSe(n),this.globalMeta.updateMeta(r),this.tableMeta=new iSe(this.globalMeta),this.columnMeta=new cSe(this.globalMeta),this.cellMeta=new ySe(this.columnMeta),i.forEach(function(o){return new o(t)})}return wSe(e,[{key:"getGlobalMeta",value:function(){return this.globalMeta.getMeta()}},{key:"updateGlobalMeta",value:function(t){this.globalMeta.updateMeta(t)}},{key:"getTableMeta",value:function(){return this.tableMeta.getMeta()}},{key:"updateTableMeta",value:function(t){this.tableMeta.updateMeta(t)}},{key:"getColumnMeta",value:function(t){return this.columnMeta.getMeta(t)}},{key:"updateColumnMeta",value:function(t,r){this.columnMeta.updateMeta(t,r)}},{key:"getCellMeta",value:function(t,r,i){var o=i.visualRow,a=i.visualColumn,s=this.cellMeta.getMeta(t,r);return s.visualRow=o,s.visualCol=a,s.row=t,s.col=r,this.runLocalHooks("afterGetCellMeta",s),s}},{key:"getCellMetaKeyValue",value:function(t,r,i){if(typeof i!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}},{key:"setCellMeta",value:function(t,r,i,o){this.cellMeta.setMeta(t,r,i,o)}},{key:"updateCellMeta",value:function(t,r,i){this.cellMeta.updateMeta(t,r,i)}},{key:"removeCellMeta",value:function(t,r,i){this.cellMeta.removeMeta(t,r,i)}},{key:"getCellsMeta",value:function(){return this.cellMeta.getMetas()}},{key:"getCellsMetaAtRow",value:function(t){return this.cellMeta.getMetasAtRow(t)}},{key:"createRow",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(t,r)}},{key:"removeRow",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(t,r)}},{key:"createColumn",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}},{key:"removeColumn",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}},{key:"clearCellsCache",value:function(){this.cellMeta.clearCache()}},{key:"clearCache",value:function(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}]),e}();Ot(FB,nr);function _Se(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function BB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SSe(e,n,t){return n&&BB(e.prototype,n),t&&BB(e,t),e}var CSe=function(){function e(n){var t=this;_Se(this,e),this.metaManager=n,this.metaSyncMemo=new Map,n.addLocalHook("afterGetCellMeta",function(r){return t.extendCellMeta(r)}),De.getSingleton().add("beforeRender",function(r){r&&t.metaSyncMemo.clear()},this.metaManager.hot)}return SSe(e,[{key:"extendCellMeta",value:function(t){var r,i=t.row,o=t.col;if(!((r=this.metaSyncMemo.get(i))!==null&&r!==void 0&&r.has(o))){var a=t.visualRow,s=t.visualCol,l=this.metaManager.hot,u=l.colToProp(s);t.prop=u,l.runHooks("beforeGetCellMeta",a,s,t);var c=kt(t,"type")?t.type:null,f=xt(t.cells)?t.cells(i,o,u):null;if(c)if(f){var h;f.type=(h=f.type)!==null&&h!==void 0?h:c}else f={type:c};f&&this.metaManager.updateCellMeta(i,o,f),l.runHooks("afterGetCellMeta",a,s,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(o)}}}]),e}();function kn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kn=function(t){return typeof t}:kn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function mi(e,n){return ESe(e)||OSe(e,n)||VB(e,n)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function ESe(e){if(Array.isArray(e))return e}function Hv(e){return ASe(e)||kSe(e)||VB(e)||TSe()}function TSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VB(e,n){if(!!e){if(typeof e=="string")return jO(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jO(e,n)}}function kSe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ASe(e){if(Array.isArray(e))return jO(e)}function jO(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var UO=null;function zO(e,n){var t=this,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,o=this,a=new Rt(o),s,l,u,c,f=!0;n.language=Kbe(n.language);var h=new FB(o,n,[CSe]),d=h.getTableMeta(),g=h.getGlobalMeta(),p=YH();yme(r)&&mme(this),this.rootElement=e,this.rootDocument=e.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0,Xbe(this.rootDocument),this.container=this.rootDocument.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),W0(this)&&wN(n.licenseKey,e),this.guid="ht_".concat(bC()),this.columnIndexMapper=new gR,this.rowIndexMapper=new gR,l=new Vme(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);var v=function(S){var b=S.row,_=S.col;return new ae(b>=0?o.rowIndexMapper.getRenderableFromVisualIndex(b):b,_>=0?o.columnIndexMapper.getRenderableFromVisualIndex(_):_)},m=function(S){var b=S.row,_=S.col;return new ae(b>=0?o.rowIndexMapper.getVisualFromRenderableIndex(b):b,_>=0?o.columnIndexMapper.getVisualFromRenderableIndex(_):_)},w=new D_e(d,{countCols:function(){return o.countCols()},countRows:function(){return o.countRows()},propToCol:function(S){return s.propToCol(S)},isEditorOpened:function(){return o.getActiveEditor()?o.getActiveEditor().isOpened():!1},countColsTranslated:function(){return t.view.countRenderableColumns()},countRowsTranslated:function(){return t.view.countRenderableRows()},visualToRenderableCoords:v,renderableToVisualCoords:m,isDisabledCellSelection:function(S,b){return o.getCellMeta(S,b).disableVisualSelection}});this.selection=w;var C=function(S){var b=S.hiddenIndexesChanged;b&&t.selection.refresh()};this.columnIndexMapper.addLocalHook("cacheUpdated",C),this.rowIndexMapper.addLocalHook("cacheUpdated",C),this.selection.addLocalHook("beforeSetRangeStart",function(y){t.runHooks("beforeSetRangeStart",y)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(y){t.runHooks("beforeSetRangeStartOnly",y)}),this.selection.addLocalHook("beforeSetRangeEnd",function(y){t.runHooks("beforeSetRangeEnd",y),y.row<0&&(y.row=t.view.wt.wtTable.getFirstVisibleRow()),y.col<0&&(y.col=t.view.wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(y){var S=Za(!1),b=t.selection.getSelectedRange(),_=b.current(),A=_.from,N=_.to,I=b.size()-1;t.runHooks("afterSelection",A.row,A.col,N.row,N.col,S,I),t.runHooks("afterSelectionByProp",A.row,o.colToProp(A.col),N.row,o.colToProp(N.col),S,I);var R=t.selection.isSelectedByAnyHeader(),P=t.selection.selectedRange.current(),H=!0;i&&(H=!1),S.isTouched()&&(H=!S.value);var V=t.selection.isSelectedByRowHeader(),q=t.selection.isSelectedByColumnHeader();H!==!1&&(R?V?t.view.scrollViewportVertically(o.rowIndexMapper.getRenderableFromVisualIndex(y.row)):q&&t.view.scrollViewportHorizontally(o.columnIndexMapper.getRenderableFromVisualIndex(y.col)):P&&!t.selection.isMultiple()?t.view.scrollViewport(v(P.from)):t.view.scrollViewport(v(y))),V&&q?ve(t.rootElement,["ht__selection--rows","ht__selection--columns"]):V?(Je(t.rootElement,"ht__selection--columns"),ve(t.rootElement,"ht__selection--rows")):q?(Je(t.rootElement,"ht__selection--rows"),ve(t.rootElement,"ht__selection--columns")):Je(t.rootElement,["ht__selection--rows","ht__selection--columns"]),t._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(y){var S=y.length-1,b=y[S],_=b.from,A=b.to;t.runHooks("afterSelectionEnd",_.row,_.col,A.row,A.col,S),t.runHooks("afterSelectionEndByProp",_.row,o.colToProp(_.col),A.row,o.colToProp(A.col),S)}),this.selection.addLocalHook("afterIsMultipleSelection",function(y){var S=t.runHooks("afterIsMultipleSelection",y.value);y.value&&(y.value=S)}),this.selection.addLocalHook("beforeModifyTransformStart",function(y){t.runHooks("modifyTransformStart",y)}),this.selection.addLocalHook("afterModifyTransformStart",function(y,S,b){t.runHooks("afterModifyTransformStart",y,S,b)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(y){t.runHooks("modifyTransformEnd",y)}),this.selection.addLocalHook("afterModifyTransformEnd",function(y,S,b){t.runHooks("afterModifyTransformEnd",y,S,b)}),this.selection.addLocalHook("afterDeselect",function(){c.destroyEditor(),t._refreshBorders(),Je(t.rootElement,["ht__selection--rows","ht__selection--columns"]),t.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(y){t.alter("insert_row",y,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(y){t.alter("insert_col",y,1,"auto")}),u={alter:function(S,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3?arguments[3]:void 0,N=arguments.length>4?arguments[4]:void 0,I,R=function(F){if(F.length===0)return[];var Q=Hv(F);Q.sort(function(J,z){var j=mi(J,1),Z=j[0],G=mi(z,1),ne=G[0];return Z===ne?0:Z>ne?1:-1});var U=Qt(Q,function(J,z){var j=mi(z,2),Z=j[0],G=j[1],ne=J[J.length-1],pe=mi(ne,2),Re=pe[0],xe=pe[1],Be=Re+xe;if(Z<=Be){var qe=Math.max(G-(Be-Z),0);ne[1]+=qe}else J.push([Z,G]);return J},[Q[0]]);return U};switch(S){case"insert_row":var P=o.countSourceRows();if(d.maxRows===P)return;if(b=je(b)?b:P,I=s.createRow(b,_,A),I){h.createRow(o.toPhysicalRow(b),_);var H=w.selectedRange.current(),V=H==null?void 0:H.from,q=V==null?void 0:V.row;if(je(q)&&q>=b){var K=H.to,ce=K.row,ue=K.col,ge=V.col;w.isSelectedByRowHeader()&&(ge=-1),w.getSelectedRange().pop(),w.setRangeStartOnly(new ae(q+I,ge),!0),w.setRangeEnd(new ae(ce+I,ue))}else o._refreshBorders()}break;case"insert_col":if(I=s.createCol(b,_,A),I){if(h.createColumn(o.toPhysicalColumn(b),_),Array.isArray(d.colHeaders)){var fe=[b,0];fe.length+=I,Array.prototype.splice.apply(d.colHeaders,fe)}var be=w.selectedRange.current(),Ee=be==null?void 0:be.from,re=Ee==null?void 0:Ee.col;if(je(re)&&re>=b){var He=be.to,Te=He.row,Ue=He.col,Ge=Ee.row;w.isSelectedByColumnHeader()&&(Ge=-1),w.getSelectedRange().pop(),w.setRangeStartOnly(new ae(Ge,re+I),!0),w.setRangeEnd(new ae(Te,Ue+I))}else o._refreshBorders()}break;case"remove_row":var Me=function(F){var Q=0;B(F,function(U){var J=mi(U,2),z=J[0],j=J[1],Z=cn(z)?o.countRows()-1:Math.max(z-Q,0);Number.isInteger(z)&&(z=Math.max(z-Q,0));var G=s.removeRow(z,j,A);if(!!G){h.removeRow(o.toPhysicalRow(Z),j);var ne=o.countRows(),pe=d.fixedRowsTop;pe>=Z+1&&(d.fixedRowsTop-=Math.min(j,pe-Z));var Re=d.fixedRowsBottom;Re&&Z>=ne-Re&&(d.fixedRowsBottom-=Math.min(j,Re)),Q+=j}})};Array.isArray(b)?Me(R(b)):Me([[b,_]]),u.adjustRowsAndCols(),o._refreshBorders();break;case"remove_col":var T=function(F){var Q=0;B(F,function(U){var J=mi(U,2),z=J[0],j=J[1],Z=cn(z)?o.countCols()-1:Math.max(z-Q,0),G=o.toPhysicalColumn(Z);Number.isInteger(z)&&(z=Math.max(z-Q,0));var ne=s.removeCol(z,j,A);if(!!ne){h.removeColumn(G,j);var pe=d.fixedColumnsLeft;pe>=Z+1&&(d.fixedColumnsLeft-=Math.min(j,pe-Z)),Array.isArray(d.colHeaders)&&(typeof G=="undefined"&&(G=-1),d.colHeaders.splice(G,j)),Q+=j}})};Array.isArray(b)?T(R(b)):T([[b,_]]),u.adjustRowsAndCols(),o._refreshBorders();break;default:throw new Error('There is no such action "'.concat(S,'"'))}N||u.adjustRowsAndCols()},adjustRowsAndCols:function(){var S=d.minRows,b=d.minSpareRows,_=d.minCols,A=d.minSpareCols;if(S){var N=o.countRows();N<S&&s.createRow(N,S-N,"auto")}if(b){var I=o.countEmptyRows(!0);if(I<b){var R=b-I,P=Math.min(R,d.maxRows-o.countSourceRows());s.createRow(o.countRows(),P,"auto")}}{var H;(_||A)&&(H=o.countEmptyCols(!0));var V=o.countCols();if(_&&!d.columns&&V<_){var q=_-V;H+=q,s.createCol(V,q,"auto")}if(A&&!d.columns&&o.dataType==="array"&&H<A){V=o.countCols();var K=A-H,ce=Math.min(K,d.maxCols-V);s.createCol(V,ce,"auto")}}var ue=o.countRows(),ge=o.countCols();(ue===0||ge===0)&&w.deselect(),w.isSelected()&&B(w.selectedRange,function(fe){var be=!1,Ee=fe.from.row,re=fe.from.col,He=fe.to.row,Te=fe.to.col;Ee>ue-1?(Ee=ue-1,be=!0,He>Ee&&(He=Ee)):He>ue-1&&(He=ue-1,be=!0,Ee>He&&(Ee=He)),re>ge-1?(re=ge-1,be=!0,Te>re&&(Te=re)):Te>ge-1&&(Te=ge-1,be=!0,re>Te&&(re=Te)),be&&o.selectCell(Ee,re,He,Te)}),o.view&&o.view.adjustElementsSize()},populateFromArray:function(S,b,_,A,N,I,R){var P,H,V,q,K=[],ce={},ue=[],ge=S.row,fe=S.col;if(H=b.length,H===0)return!1;var be=0,Ee=0;switch(rt(_)&&(be=_.col-fe+1,Ee=_.row-ge+1),N){case"shift_down":var re=Jc(b),He=re.length,Te=Math.max(He,be),Ue=o.getData().slice(ge),Ge=Jc(Ue).slice(fe,fe+Te);for(V=0;V<Te;V+=1)if(V<He){for(P=0,H=re[V].length;P<Ee-H;P+=1)re[V].push(re[V][P%H]);V<Ge.length?ue.push(re[V].concat(Ge[V])):ue.push(re[V].concat(new Array(Ue.length).fill(null)))}else ue.push(re[V%He].concat(Ge[V]));o.populateFromArray(ge,fe,Jc(ue));break;case"shift_right":var Me=b.length,T=Math.max(Me,Ee),M=o.getData().slice(ge).map(function(Kn){return Kn.slice(fe)});for(P=0;P<T;P+=1)if(P<Me){for(V=0,q=b[P].length;V<be-q;V+=1)b[P].push(b[P][V%q]);if(P<M.length)for(var F=0;F<M[P].length;F+=1)b[P].push(M[P][F]);else{var Q;(Q=b[P]).push.apply(Q,Hv(new Array(M[0].length).fill(null)))}}else b.push(b[P%H].slice(0,T).concat(M[P]));o.populateFromArray(ge,fe,b);break;case"overwrite":default:ce.row=S.row,ce.col=S.col;var U={row:_&&S?_.row-S.row+1:1,col:_&&S?_.col-S.col+1:1},J=0,z=0,j=!0,Z,G=function(Ct){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,le=b[Ct%b.length];return _e!==null?le[_e%le.length]:le},ne=b.length,pe=_?_.row-S.row+1:0;for(_?H=pe:H=Math.max(ne,pe),P=0;P<H&&!(_&&ce.row>_.row&&pe>ne||!d.allowInsertRow&&ce.row>o.countRows()-1||ce.row>=d.maxRows);P++){var Re=P-J,xe=G(Re).length,Be=_?_.col-S.col+1:0;if(_?q=Be:q=Math.max(xe,Be),ce.col=S.col,Z=o.getCellMeta(ce.row,ce.col),(A==="CopyPaste.paste"||A==="Autofill.fill")&&Z.skipRowOnPaste){J+=1,ce.row+=1,H+=1;continue}for(z=0,V=0;V<q&&!(_&&ce.col>_.col&&Be>xe||!d.allowInsertColumn&&ce.col>o.countCols()-1||ce.col>=d.maxCols);V++){if(Z=o.getCellMeta(ce.row,ce.col),(A==="CopyPaste.paste"||A==="Autofill.fill")&&Z.skipColumnOnPaste){z+=1,ce.col+=1,q+=1;continue}if(Z.readOnly&&A!=="UndoRedo.undo"){ce.col+=1;continue}var qe=V-z,Ye=G(Re,qe),Ne=o.getDataAtCell(ce.row,ce.col),Ke={row:Re,col:qe};if(A==="Autofill.fill"){var yt=o.runHooks("beforeAutofillInsidePopulate",Ke,I,b,R,{},U);yt&&(Ye=Dt(yt.value)?Ye:yt.value)}if(Ye!==null&&kn(Ye)==="object")if(Array.isArray(Ye)&&Ne===null&&(Ne=[]),Ne===null||kn(Ne)!=="object")j=!1;else{var Gn=Ol(Array.isArray(Ne)?Ne:Ne[0]||Ne),ir=Ol(Array.isArray(Ye)?Ye:Ye[0]||Ye);PS(Gn,ir)?Ye=Bn(Ye):j=!1}else Ne!==null&&kn(Ne)==="object"&&(j=!1);j&&K.push([ce.row,ce.col,Ye]),j=!0,ce.col+=1}ce.row+=1}o.setDataAtCell(K,null,null,A||"populateFromArray");break}}};function E(y){var S=HF(y);PO(S)?(o.runHooks("beforeLanguageChange",S),g.language=S,o.runHooks("afterLanguageChange",S)):FF(y)}function k(y,S){var b=y==="className"?o.rootElement:o.table;if(f)ve(b,S);else{var _=[],A=[];g[y]&&(_=Array.isArray(g[y])?g[y]:xS(g[y])),S&&(A=Array.isArray(S)?S:xS(S));var N=MS(_,A),I=MS(A,_);N.length&&Je(b,N),I.length&&ve(b,I)}g[y]=S}this.init=function(){l.setData(d.data),o.runHooks("beforeInit"),(Wr()||$S())&&ve(o.rootElement,"mobile"),this.updateSettings(d,!0),this.view=new Ame(this),c=Rpe.getInstance(o,d,w),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),kn(f)==="object"&&(o.runHooks("afterChange",f[0],f[1]),f=!1),o.runHooks("afterInit")};function $(){var y=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,y=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){this.validatorsInQueue===0&&y===!1&&(y=!0,this.onQueueEmpty(this.valid))}}}function D(y){var S=y.replace(",",".");return isNaN(parseFloat(S))===!1?parseFloat(S):y}function Y(y,S,b){if(!!y.length){var _=o.getActiveEditor(),A=o.runHooks("beforeChange",y,S||"edit"),N=!0;if(A===!1){_&&_.cancelChanges();return}var I=new $;I.onQueueEmpty=function(ue){_&&N&&_.cancelChanges(),b(ue)};for(var R=y.length-1;R>=0;R--)if(y[R]===null)y.splice(R,1);else{var P=mi(y[R],4),H=P[0],V=P[1],q=P[3],K=s.propToCol(V),ce=o.getCellMeta(H,K);ce.type==="numeric"&&typeof q=="string"&&BH(q)&&(y[R][3]=D(q)),o.getCellValidator(ce)&&(I.addValidatorToQueue(),o.validateCell(y[R][3],ce,function(ue,ge){return function(fe){if(typeof fe!="boolean")throw new Error("Validation error: result is not boolean");if(fe===!1&&ge.allowInvalid===!1){N=!1,y.splice(ue,1),ge.valid=!0;var be=o.getCell(ge.visualRow,ge.visualCol);be!==null&&Je(be,d.invalidCellClassName)}I.removeValidatorFormQueue()}}(R,ce),S))}I.checkIfQueueIsEmpty()}}function L(y,S){var b=y.length-1;if(!(b<0)){for(;b>=0;b--){var _=!1;if(y[b]===null){y.splice(b,1);continue}if(!((y[b][2]===null||y[b][2]===void 0)&&(y[b][3]===null||y[b][3]===void 0))){if(d.allowInsertRow)for(;y[b][0]>o.countRows()-1;){var A=s.createRow(void 0,void 0,S);if(A>=1)h.createRow(null,A);else{_=!0;break}}if(o.dataType==="array"&&(!d.columns||d.columns.length===0)&&d.allowInsertColumn)for(;s.propToCol(y[b][1])>o.countCols()-1;){var N=s.createCol(void 0,void 0,S);if(N>=1)h.createColumn(null,N);else{_=!0;break}}_||s.set(y[b][0],y[b][1],y[b][3])}}o.forceFullRender=!0,u.adjustRowsAndCols(),o.runHooks("beforeChangeRender",y,S),c.lockEditor(),o._refreshBorders(null),c.unlockEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",y,S||"edit");var I=o.getActiveEditor();I&&je(I.refreshValue)&&I.refreshValue()}}this.validateCell=function(y,S,b,_){var A=o.getCellValidator(S);function N(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!R||S.hidden===!0){b(I);return}var P=S.visualCol,H=S.visualRow,V=o.getCell(H,P,!0);if(V&&V.nodeName!=="TH"){var q=o.rowIndexMapper.getRenderableFromVisualIndex(H),K=o.columnIndexMapper.getRenderableFromVisualIndex(P);o.view.wt.wtSettings.settings.cellRenderer(q,K,V)}b(I)}pN(A)&&(A=function(I){return function(R,P){P(I.test(R))}}(A)),xt(A)?(y=o.runHooks("beforeValidate",y,S.visualRow,S.prop,_),o._registerImmediate(function(){A.call(S,y,function(I){!o||(I=o.runHooks("afterValidate",I,y,S.visualRow,S.prop,_),S.valid=I,N(I),o.runHooks("postAfterValidate",I,y,S.visualRow,S.prop,_))})})):o._registerImmediate(function(){S.valid=!0,N(S.valid,!1)})};function X(y,S,b){return Array.isArray(y)?y:[[y,S,b]]}this.setDataAtCell=function(y,S,b,_){var A=X(y,S,b),N=[],I=_,R,P,H;for(R=0,P=A.length;R<P;R++){if(kn(A[R])!=="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof A[R][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");A[R][1]>=this.countCols()?H=A[R][1]:H=s.colToProp(A[R][1]),N.push([A[R][0],H,l.getAtCell(this.toPhysicalRow(A[R][0]),A[R][1]),A[R][2]])}!I&&kn(y)==="object"&&(I=S),o.runHooks("afterSetDataAtCell",N,I),Y(N,I,function(){L(N,I)})},this.setDataAtRowProp=function(y,S,b,_){var A=X(y,S,b),N=[],I=_,R,P;for(R=0,P=A.length;R<P;R++)N.push([A[R][0],A[R][1],l.getAtCell(this.toPhysicalRow(A[R][0]),A[R][1]),A[R][2]]);!I&&kn(y)==="object"&&(I=S),o.runHooks("afterSetDataAtRowProp",N,I),Y(N,I,function(){L(N,I)})},this.listen=function(){o&&!o.isListening()&&(UO=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(UO=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return UO===o.guid},this.destroyEditor=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;o._refreshBorders(y,S)},this.populateFromArray=function(y,S,b,_,A,N,I,R,P){if(!(kn(b)==="object"&&kn(b[0])==="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");var H=typeof _=="number"?new ae(_,A):null;return u.populateFromArray(new ae(y,S),b,H,N,I,R,P)},this.spliceCol=function(y,S,b){for(var _,A=arguments.length,N=new Array(A>3?A-3:0),I=3;I<A;I++)N[I-3]=arguments[I];return(_=s).spliceCol.apply(_,[y,S,b].concat(N))},this.spliceRow=function(y,S,b){for(var _,A=arguments.length,N=new Array(A>3?A-3:0),I=3;I<A;I++)N[I-3]=arguments[I];return(_=s).spliceRow.apply(_,[y,S,b].concat(N))},this.getSelected=function(){if(w.isSelected())return it(w.getSelectedRange(),function(y){var S=y.from,b=y.to;return[S.row,S.col,b.row,b.col]})},this.getSelectedLast=function(){var y=this.getSelected(),S;return y&&y.length>0&&(S=y[y.length-1]),S},this.getSelectedRange=function(){if(w.isSelected())return Array.from(w.getSelectedRange())},this.getSelectedRangeLast=function(){var y=this.getSelectedRange(),S;return y&&y.length>0&&(S=y[y.length-1]),S},this.emptySelectedCells=function(y){var S=this;if(!(!w.isSelected()||this.countRows()===0||this.countCols()===0)){var b=[];B(w.getSelectedRange(),function(_){var A=_.getTopLeftCorner(),N=_.getBottomRightCorner();Le(A.row,N.row,function(I){Le(A.col,N.col,function(R){S.getCellMeta(I,R).readOnly||b.push([I,R,null])})})}),b.length>0&&this.setDataAtCell(b,y)}},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){var y=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(y,0),!this.isRenderSuspended()&&y===this.renderSuspendedCounter&&(this.renderCall?this.render():this._refreshBorders(null))},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||(c.lockEditor(),this._refreshBorders(null),c.unlockEditor()))},this.batchRender=function(y){this.suspendRender();var S=y();return this.resumeRender(),S},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(S,0),(!this.isExecutionSuspended()&&S===this.executionSuspendedCounter||y)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();var b=y();return this.resumeExecution(S),b},this.batch=function(y){this.suspendRender(),this.suspendExecution();var S=y();return this.resumeExecution(),this.resumeRender(),S},this.refreshDimensions=function(){if(!!o.view){var y=o.view.getLastSize(),S=y.width,b=y.height,_=o.rootElement.getBoundingClientRect(),A=_.width,N=_.height,I=A!==S||N!==b,R=o.runHooks("beforeRefreshDimensions",{width:S,height:b},{width:A,height:N},I)===!1;R||((I||o.view.wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(A,N),o.render()),o.runHooks("afterRefreshDimensions",{width:S,height:b},{width:A,height:N},I))}},this.loadData=function(y,S){if(Array.isArray(d.dataSchema)?o.dataType="array":xt(d.dataSchema)?o.dataType="function":o.dataType="object",s&&s.destroy(),y=o.runHooks("beforeLoadData",y,f,S),s=new Z_e(o,y,d),kn(y)==="object"&&y!==null)y.push&&y.splice||(y=[y]);else if(y===null){var b=s.getSchema();y=[];var _,A=0,N=0;for(A=0,N=d.startRows;A<N;A++)if((o.dataType==="object"||o.dataType==="function")&&d.dataSchema)_=Bn(b),y.push(_);else if(o.dataType==="array")_=Bn(b[0]),y.push(_);else{_=[];for(var I=0,R=d.startCols;I<R;I++)_.push(null);y.push(_)}}else throw new Error("loadData only accepts array of objects or array of arrays (".concat(kn(y)," given)"));Array.isArray(y[0])&&(o.dataType="array"),d.data=y,s.dataSource=y,l.data=y,l.dataType=o.dataType,l.colToProp=s.colToProp.bind(s),l.propToCol=s.propToCol.bind(s),l.countCachedColumns=s.countCachedColumns.bind(s),h.clearCellsCache(),o.initIndexMappers(),u.adjustRowsAndCols(),o.runHooks("afterLoadData",y,f,S),f?f=[null,"loadData"]:(o.runHooks("afterChange",null,"loadData"),o.render())},this.initIndexMappers=function(){var y=d.columns,S=0;if(Array.isArray(y))S=y.length;else if(xt(y))if(o.dataType==="array")for(var b=this.countSourceCols(),_=0;_<b;_+=1)y(_)&&(S+=1);else(o.dataType==="object"||o.dataType==="function")&&(S=s.colToPropCache.length);else if(je(d.dataSchema)){var A=s.getSchema();S=Array.isArray(A)?A.length:hg(A)}else S=this.countSourceCols();this.columnIndexMapper.initToLength(S),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(y,S,b,_){return Dt(y)?s.getAll():s.getRange(new ae(y,S),new ae(b,_),s.DESTINATION_RENDERER)},this.getCopyableText=function(y,S,b,_){return s.getCopyableText(new ae(y,S),new ae(b,_))},this.getCopyableData=function(y,S){return s.getCopyable(y,s.colToProp(S))},this.getSchema=function(){return s.getSchema()},this.updateSettings=function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=!1,_,A;if(je(y.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(je(y.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(je(y.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(_ in y)if(_!=="data")if(_==="language"){E(y.language);continue}else _==="className"?k("className",y.className):_==="tableClassName"&&o.table?(k("tableClassName",y.tableClassName),o.view.wt.wtOverlays.syncOverlayTableClassNames()):De.getSingleton().isRegistered(_)||De.getSingleton().isDeprecated(_)?(xt(y[_])||Array.isArray(y[_]))&&(y[_].initialHook=!0,o.addHook(_,y[_])):!S&&kt(y,_)&&(g[_]=y[_]);y.data===void 0&&d.data===void 0?o.loadData(null,"updateSettings"):y.data!==void 0?o.loadData(y.data,"updateSettings"):y.columns!==void 0&&(s.createMap(),o.initIndexMappers());var N=o.countCols(),I=d.columns;if(I&&xt(I)&&(b=!0),(y.cell!==void 0||y.cells!==void 0||y.columns!==void 0)&&h.clearCache(),N>0)for(_=0,A=0;_<N;_++){if(I){var R=b?I(_):I[A];R&&h.updateColumnMeta(A,R)}A+=1}je(y.cell)&&st(y.cell,function(ce){o.setCellMetaObject(ce.row,ce.col,ce)}),o.runHooks("afterCellMetaReset");var P=o.rootElement.style.height;P!==""&&(P=parseInt(o.rootElement.style.height,10));var H=y.height;if(xt(H)&&(H=H()),S){var V=o.rootElement.getAttribute("style");V&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style"))}if(H===null){var q=o.rootElement.getAttribute("data-initialstyle");q&&(q.indexOf("height")>-1||q.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",q):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else H!==void 0&&(o.rootElement.style.height=isNaN(H)?"".concat(H):"".concat(H,"px"),o.rootElement.style.overflow="hidden");if(typeof y.width!="undefined"){var K=y.width;xt(K)&&(K=K()),o.rootElement.style.width=isNaN(K)?"".concat(K):"".concat(K,"px")}S||(o.view&&(o.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view.wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",y)),u.adjustRowsAndCols(),o.view&&!f&&(o.forceFullRender=!0,c.lockEditor(),o._refreshBorders(null),o.view.wt.wtOverlays.adjustElementsSize(),c.unlockEditor()),!S&&o.view&&(P===""||H===""||H===void 0)&&P!==H&&o.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var y=o.getSelectedLast();if(d.getValue){if(xt(d.getValue))return d.getValue.call(o);if(y)return o.getData()[y[0][0]][d.getValue]}else if(y)return o.getDataAtCell(y[0],y[1])},this.getSettings=function(){return d},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(y,S,b,_,A){u.alter(y,S,b,_,A)},this.getCell=function(y,S){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=S,A=y;if(S>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(S)))return null;_=this.columnIndexMapper.getRenderableFromVisualIndex(S)}if(y>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(y)))return null;A=this.rowIndexMapper.getRenderableFromVisualIndex(y)}return A===null||_===null?null:o.view.getCellAtCoords(new ae(A,_),b)},this.getCoords=function(y){var S=this.view.wt.wtTable.getCoords(y);if(S===null)return null;var b=S.row,_=S.col,A=b,N=_;return b>=0&&(A=this.rowIndexMapper.getVisualFromRenderableIndex(b)),_>=0&&(N=this.columnIndexMapper.getVisualFromRenderableIndex(_)),new ae(A,N)},this.colToProp=function(y){return s.colToProp(y)},this.propToCol=function(y){return s.propToCol(y)},this.toVisualRow=function(y){return t.rowIndexMapper.getVisualFromPhysicalIndex(y)},this.toVisualColumn=function(y){return t.columnIndexMapper.getVisualFromPhysicalIndex(y)},this.toPhysicalRow=function(y){return t.rowIndexMapper.getPhysicalFromVisualIndex(y)},this.toPhysicalColumn=function(y){return t.columnIndexMapper.getPhysicalFromVisualIndex(y)},this.getDataAtCell=function(y,S){return s.get(y,s.colToProp(S))},this.getDataAtRowProp=function(y,S){return s.get(y,S)},this.getDataAtCol=function(y){var S;return(S=[]).concat.apply(S,Hv(s.getRange(new ae(0,y),new ae(d.data.length-1,y),s.DESTINATION_RENDERER)))},this.getDataAtProp=function(y){var S,b=s.getRange(new ae(0,s.propToCol(y)),new ae(d.data.length-1,s.propToCol(y)),s.DESTINATION_RENDERER);return(S=[]).concat.apply(S,Hv(b))},this.getSourceData=function(y,S,b,_){var A;return y===void 0?A=l.getData():A=l.getByRange(new ae(y,S),new ae(b,_)),A},this.getSourceDataArray=function(y,S,b,_){var A;return y===void 0?A=l.getData(!0):A=l.getByRange(new ae(y,S),new ae(b,_),!0),A},this.getSourceDataAtCol=function(y){return l.getAtColumn(y)},this.setSourceDataAtCell=function(y,S,b,_){var A=X(y,S,b),N=this.hasHook("afterSetSourceDataAtCell"),I=[];N&&B(A,function(P){var H=mi(P,3),V=H[0],q=H[1],K=H[2];I.push([V,q,l.getAtCell(V,q),K])}),B(A,function(P){var H=mi(P,3),V=H[0],q=H[1],K=H[2];l.setAtCell(V,q,K)}),N&&this.runHooks("afterSetSourceDataAtCell",I,_),this.render();var R=o.getActiveEditor();R&&je(R.refreshValue)&&R.refreshValue()},this.getSourceDataAtRow=function(y){return l.getAtRow(y)},this.getSourceDataAtCell=function(y,S){return l.getAtCell(y,S)},this.getDataAtRow=function(y){var S=s.getRange(new ae(y,0),new ae(y,this.countCols()-1),s.DESTINATION_RENDERER);return S[0]||[]},this.getDataType=function(y,S,b,_){var A=this,N=y===void 0?[0,0,this.countRows(),this.countCols()]:[y,S,b,_],I=N[0],R=N[1],P=N[2],H=N[3],V=null,q=null;P===void 0&&(P=I),H===void 0&&(H=R);var K="mixed";return Le(Math.max(Math.min(I,P),0),Math.max(I,P),function(ce){var ue=!0;return Le(Math.max(Math.min(R,H),0),Math.max(R,H),function(ge){var fe=A.getCellMeta(ce,ge);return q=fe.type,V?ue=V===q:V=q,ue}),K=ue?q:"mixed",ue}),K},this.removeCellMeta=function(y,S,b){var _=[this.toPhysicalRow(y),this.toPhysicalColumn(S)],A=_[0],N=_[1],I=h.getCellMetaKeyValue(A,N,b),R=o.runHooks("beforeRemoveCellMeta",y,S,b,I);R!==!1&&(h.removeCellMeta(A,N,b),o.runHooks("afterRemoveCellMeta",y,S,b,I)),I=null},this.spliceCellsMeta=function(y){for(var S=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length,A=new Array(_>2?_-2:0),N=2;N<_;N++)A[N-2]=arguments[N];if(A.length>0&&!Array.isArray(A[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");b>0&&h.removeRow(this.toPhysicalRow(y),b),A.length>0&&B(A.reverse(),function(I){h.createRow(S.toPhysicalRow(y)),B(I,function(R,P){return S.setCellMetaObject(y,P,R)})}),o.render()},this.setCellMetaObject=function(y,S,b){var _=this;kn(b)==="object"&&st(b,function(A,N){_.setCellMeta(y,S,N,A)})},this.setCellMeta=function(y,S,b,_){var A=o.runHooks("beforeSetCellMeta",y,S,b,_);if(A!==!1){var N=y,I=S;y<this.countRows()&&(N=this.toPhysicalRow(y)),S<this.countCols()&&(I=this.toPhysicalColumn(S)),h.setCellMeta(N,I,b,_),o.runHooks("afterSetCellMeta",y,S,b,_)}},this.getCellsMeta=function(){return h.getCellsMeta()},this.getCellMeta=function(y,S){var b=this.toPhysicalRow(y),_=this.toPhysicalColumn(S);return b===null&&(b=y),_===null&&(_=S),h.getCellMeta(b,_,{visualRow:y,visualColumn:S})},this.getCellMetaAtRow=function(y){return h.getCellsMetaAtRow(y)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||d.columns)};var te=Lf("renderer");this.getCellRenderer=function(y,S){return F0(te.call(this,y,S))},this.getCellEditor=Lf("editor");var oe=Lf("validator");this.getCellValidator=function(y,S){var b=oe.call(this,y,S);return typeof b=="string"&&(b=B0(b)),b},this.validateCells=function(y){this._validateCells(y)},this.validateRows=function(y,S){if(!Array.isArray(y))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(S,y)},this.validateColumns=function(y,S){if(!Array.isArray(y))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(S,void 0,y)},this._validateCells=function(y,S,b){var _=new $;y&&(_.onQueueEmpty=y);for(var A=o.countRows()-1;A>=0;){if(S!==void 0&&S.indexOf(A)===-1){A-=1;continue}for(var N=o.countCols()-1;N>=0;){if(b!==void 0&&b.indexOf(N)===-1){N-=1;continue}_.addValidatorToQueue(),o.validateCell(o.getDataAtCell(A,N),o.getCellMeta(A,N),function(I){if(typeof I!="boolean")throw new Error("Validation error: result is not boolean");I===!1&&(_.valid=!1),_.removeValidatorFormQueue()},"validateCells"),N-=1}A-=1}_.checkIfQueueIsEmpty()},this.getRowHeader=function(y){var S=d.rowHeaders,b=y;return b!==void 0&&(b=o.runHooks("modifyRowHeader",b)),b===void 0?(S=[],Le(o.countRows()-1,function(_){S.push(o.getRowHeader(_))})):Array.isArray(S)&&S[b]!==void 0?S=S[b]:xt(S)?S=S(b):S&&typeof S!="string"&&typeof S!="number"&&(S=b+1),S},this.hasRowHeaders=function(){return!!d.rowHeaders},this.hasColHeaders=function(){if(d.colHeaders!==void 0&&d.colHeaders!==null)return!!d.colHeaders;for(var y=0,S=o.countCols();y<S;y++)if(o.getColHeader(y))return!0;return!1},this.getColHeader=function(y){var S=o.runHooks("modifyColHeader",y),b=d.colHeaders;if(S===void 0){for(var _=[],A=o.countCols(),N=0;N<A;N++)_.push(o.getColHeader(N));b=_}else{var I=function(V){for(var q=[],K=o.countCols(),ce=0;ce<K;ce++)xt(d.columns)&&d.columns(ce)&&q.push(ce);return q[V]},R=o.toPhysicalColumn(S),P=I(R);d.colHeaders===!1?b=null:d.columns&&xt(d.columns)&&d.columns(P)&&d.columns(P).title?b=d.columns(P).title:d.columns&&d.columns[R]&&d.columns[R].title?b=d.columns[R].title:Array.isArray(d.colHeaders)&&d.colHeaders[R]!==void 0?b=d.colHeaders[R]:xt(d.colHeaders)?b=d.colHeaders(R):d.colHeaders&&typeof d.colHeaders!="string"&&typeof d.colHeaders!="number"&&(b=rv(S))}return b},this._getColWidthFromSettings=function(y){var S;if(y>=0){var b=o.getCellMeta(0,y);S=b.width}if((S===void 0||S===d.width)&&(S=d.colWidths),S!=null){switch(kn(S)){case"object":S=S[y];break;case"function":S=S(y);break}typeof S=="string"&&(S=parseInt(S,10))}return S},this.getColWidth=function(y){var S=o._getColWidthFromSettings(y);return S=o.runHooks("modifyColWidth",S,y),S===void 0&&(S=LC.DEFAULT_WIDTH),S},this._getRowHeightFromSettings=function(y){var S=d.rowHeights;if(S!=null){switch(kn(S)){case"object":S=S[y];break;case"function":S=S(y);break}typeof S=="string"&&(S=parseInt(S,10))}return S},this.getRowHeight=function(y){var S=o._getRowHeightFromSettings(y);return S=o.runHooks("modifyRowHeight",S,y),S},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return s.getLength()},this.countCols=function(){var y=d.maxCols,S=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(y,S)},this.countRenderedRows=function(){return o.view.wt.drawn?o.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view.wt.drawn?o.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view.wt.drawn?o.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view.wt.drawn?o.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=0;return Jp(o.countRows()-1,function(b){if(o.isEmptyRow(b))S+=1;else if(y===!0)return!1}),S},this.countEmptyCols=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(o.countRows()<1)return 0;var S=0;return Jp(o.countCols()-1,function(b){if(o.isEmptyCol(b))S+=1;else if(y===!0)return!1}),S},this.isEmptyRow=function(y){return d.isEmptyRow.call(o,y)},this.isEmptyCol=function(y){return d.isEmptyCol.call(o,y)},this.selectCell=function(y,S,b,_){var A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,N=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return Dt(y)||Dt(S)?!1:this.selectCells([[y,S,b,_]],A,N)},this.selectCells=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;S===!1&&(i=!0);var _=w.selectCells(y);return _&&b&&o.listen(),i=!1,_},this.selectColumns=function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;return w.selectColumns(y,S)},this.selectRows=function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;return w.selectRows(y,S)},this.deselectCell=function(){w.deselect()},this.selectAll=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,S=y&&this.hasRowHeaders(),b=y&&this.hasColHeaders();i=!0,w.selectAll(S,b),i=!1};var ie=function(S,b){return S.getFirstNotHiddenIndex(b,1,!0)};this.scrollViewportTo=function(y,S){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,N=!b,I=!_,R=y,P=S;if(A){var H=Number.isInteger(y),V=Number.isInteger(S),q=H?ie(this.rowIndexMapper,y):void 0,K=V?ie(this.columnIndexMapper,S):void 0;if(q===null||K===null)return!1;R=H?o.rowIndexMapper.getRenderableFromVisualIndex(q):void 0,P=V?o.columnIndexMapper.getRenderableFromVisualIndex(K):void 0}var ce=Number.isInteger(R),ue=Number.isInteger(P);return ce&&ue?o.view.scrollViewport(new ae(R,P),N,_,b,I):ce&&ue===!1?o.view.scrollViewportVertically(R,N,b):ue&&ce===!1?o.view.scrollViewportHorizontally(P,_,I):!1},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,h.clearCache(),qbe(),W0(o)){var y=this.rootDocument.querySelector("#hot-display-license-info");y&&y.parentNode.removeChild(y)}Mr(o.rootElement),a.destroy(),c&&c.destroy(),o.batchExecution(function(){o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),p.getItems().forEach(function(S){var b=mi(S,2),_=b[1];_.destroy()}),p.clear(),o.runHooks("afterDestroy")},!0),De.getSingleton().destroy(o),st(o,function(S,b,_){xt(S)?_[b]=de(b):b!=="guid"&&(_[b]=null)}),o.isDestroyed=!0,s&&s.destroy(),o.rowIndexMapper=null,o.columnIndexMapper=null,s=null,u=null,w=null,c=null,o=null};function de(y){return function(){throw new Error('The "'.concat(y,'" method cannot be called because this Handsontable instance has been destroyed'))}}this.getActiveEditor=function(){return c.getActiveEditor()},this.getPlugin=function(y){var S=Gr(y);return S==="UndoRedo"?this.undoRedo:p.getItem(S)},this.getPluginName=function(y){return y===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:p.getId(y)},this.getInstance=function(){return o},this.addHook=function(y,S){De.getSingleton().add(y,S,o)},this.hasHook=function(y){return De.getSingleton().has(y,o)},this.addHookOnce=function(y,S){De.getSingleton().once(y,S,o)},this.removeHook=function(y,S){De.getSingleton().remove(y,S,o)},this.runHooks=function(y,S,b,_,A,N,I){return De.getSingleton().run(o,y,S,b,_,A,N,I)},this.getTranslatedPhrase=function(y,S){return zF(d.language,y,S)},this.toHTML=function(){return E0(t)},this.toTableElement=function(){var y=t.rootDocument.createElement("div");return y.insertAdjacentHTML("afterbegin",E0(t)),y.firstElementChild},this.timeouts=[],this._registerTimeout=function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=y;typeof b=="function"&&(b=setTimeout(b,S)),this.timeouts.push(b)},this._clearTimeouts=function(){B(this.timeouts,function(y){clearTimeout(y)})},this.immediates=[],this._registerImmediate=function(y){this.immediates.push(setImmediate(y))},this._clearImmediates=function(){B(this.immediates,function(y){clearImmediate(y)})},this._refreshBorders=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c.destroyEditor(y),o.view.render(),S&&w.isSelected()&&c.prepareEditor()},this.isRtl=function(){return o.rootWindow.getComputedStyle(o.rootElement).direction==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},H0().forEach(function(y){var S=Pf(y);p.addItem(y,new S(t))}),De.getSingleton().run(o,"construct")}function MSe(){var e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n,t=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(d,g,p){d.addEventListener(g,p,!1)},a=function(d,g,p){d.removeEventListener(g,p,!1)},s=function(d){var g,p;d?/^[a-zA-Z \.,\\\/\|0-9]$/.test(d)||(d="."):d="",r.textContent!==void 0?r.textContent=n.value+d:r.data=n.value+d,i.style.fontSize=f(n).fontSize,i.style.fontFamily=f(n).fontFamily,i.style.whiteSpace="pre",t.appendChild(i),g=i.clientWidth+2,t.removeChild(i),n.style.height=e.minHeight+"px",e.minWidth>g?n.style.width=e.minWidth+"px":g>e.maxWidth?n.style.width=e.maxWidth+"px":n.style.width=g+"px",p=n.scrollHeight?n.scrollHeight-1:0,e.minHeight>p?n.style.height=e.minHeight+"px":e.maxHeight<p?(n.style.height=e.maxHeight+"px",n.style.overflowY="visible"):n.style.height=p+"px"},l=function(){window.setTimeout(s,0)},u=function(d){if(d&&d.minHeight)if(d.minHeight=="inherit")e.minHeight=n.clientHeight;else{var g=parseInt(d.minHeight);isNaN(g)||(e.minHeight=g)}if(d&&d.maxHeight)if(d.maxHeight=="inherit")e.maxHeight=n.clientHeight;else{var p=parseInt(d.maxHeight);isNaN(p)||(e.maxHeight=p)}if(d&&d.minWidth)if(d.minWidth=="inherit")e.minWidth=n.clientWidth;else{var v=parseInt(d.minWidth);isNaN(v)||(e.minWidth=v)}if(d&&d.maxWidth)if(d.maxWidth=="inherit")e.maxWidth=n.clientWidth;else{var m=parseInt(d.maxWidth);isNaN(m)||(e.maxWidth=m)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))},c=function(d,g,p){n=d,u(g),n.nodeName=="TEXTAREA"&&(n.style.resize="none",n.style.overflowY="",n.style.height=e.minHeight+"px",n.style.minWidth=e.minWidth+"px",n.style.maxWidth=e.maxWidth+"px",n.style.overflowY="hidden"),p&&(o(n,"change",s),o(n,"cut",l),o(n,"paste",l),o(n,"drop",l),o(n,"keydown",l),o(n,"focus",s),o(n,"compositionstart",l),o(n,"compositionupdate",l),o(n,"compositionend",l)),s()};function f(h){return h.currentStyle||document.defaultView.getComputedStyle(h)}return{init:function(d,g,p){c(d,g,p)},unObserve:function(){a(n,"change",s),a(n,"cut",l),a(n,"paste",l),a(n,"drop",l),a(n,"keydown",l),a(n,"focus",s),a(n,"compositionstart",l),a(n,"compositionupdate",l),a(n,"compositionend",l)},resize:s}}function Fv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fv=function(t){return typeof t}:Fv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function xSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function WB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PSe(e,n,t){return n&&WB(e.prototype,n),t&&WB(e,t),e}function qf(){return typeof Reflect!="undefined"&&Reflect.get?qf=Reflect.get:qf=function(n,t,r){var i=ISe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},qf.apply(this,arguments)}function ISe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ds(e),e!==null););return e}function $Se(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&YO(e,n)}function YO(e,n){return YO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},YO(e,n)}function DSe(e){var n=LSe();return function(){var r=ds(e),i;if(n){var o=ds(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return NSe(this,i)}}function NSe(e,n){if(n&&(Fv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jB(e)}function jB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LSe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(e)}var HSe="ht_editor_visible",Bv="ht_editor_hidden",FSe="text",gs=function(e){$Se(t,e);var n=DSe(t);function t(r){var i;return xSe(this,t),i=n.call(this,r),i.eventManager=new Rt(jB(i)),i.autoResize=MSe(),i.TEXTAREA=void 0,i.textareaStyle=void 0,i.TEXTAREA_PARENT=void 0,i.textareaParentStyle=void 0,i.layerClass=void 0,i.createElements(),i.bindEvents(),i.hot.addHookOnce("afterDestroy",function(){return i.destroy()}),i}return PSe(t,[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(i){this.TEXTAREA.value=i}},{key:"open",value:function(){var i=this;this.refreshDimensions(),this.showEditableElement(),this.addHook("beforeKeyDown",function(o){return i.onBeforeKeyDown(o)})}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.removeHooksByKey("beforeKeyDown")}},{key:"prepare",value:function(i,o,a,s,l,u){var c=this.state;if(qf(ds(t.prototype),"prepare",this).call(this,i,o,a,s,l,u),!u.readOnly){this.refreshDimensions(!0);var f=u.allowInvalid,h=u.fragmentSelection;f&&(this.TEXTAREA.value=""),c!==_n.FINISHED&&this.hideEditableElement();var d=!h;d&&!Wr()&&this.focus()}}},{key:"beginEditing",value:function(i,o){this.state===_n.VIRGIN&&(this.TEXTAREA.value="",qf(ds(t.prototype),"beginEditing",this).call(this,i,o))}},{key:"focus",value:function(){this.TEXTAREA.select(),_f(this.TEXTAREA,this.TEXTAREA.value.length)}},{key:"createElements",value:function(){var i=this.hot.rootDocument;this.TEXTAREA=i.createElement("TEXTAREA"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.tabIndex=-1,ve(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=i.createElement("DIV"),ve(this.TEXTAREA_PARENT,"handsontableInputHolder"),ze(this.TEXTAREA_PARENT,this.layerClass)&&Je(this.TEXTAREA_PARENT,this.layerClass),ve(this.TEXTAREA_PARENT,Bv),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"hideEditableElement",value:function(){(q$()||X$())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",ze(this.TEXTAREA_PARENT,this.layerClass)&&Je(this.TEXTAREA_PARENT,this.layerClass),ve(this.TEXTAREA_PARENT,Bv)}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle.right="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden";var i=this.TEXTAREA_PARENT.childNodes,o=!1;Le(i.length-1,function(a){var s=i[a];if(ze(s,"handsontableEditor"))return o=!0,!1}),ze(this.TEXTAREA_PARENT,Bv)&&Je(this.TEXTAREA_PARENT,Bv),o?(this.layerClass=HSe,ve(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ve(this.TEXTAREA_PARENT,this.layerClass))}},{key:"refreshValue",value:function(){var i=this.hot.toPhysicalRow(this.row),o=this.hot.getSourceDataAtCell(i,this.col);this.originalValue=o,this.setValue(o),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(this.state!==_n.EDITING&&!i)){if(this.TD=this.getEditedCell(),!this.TD){i||this.close();return}var o=this.hot.view.wt,a=o.wtOverlays,s=o.wtViewport,l=Wt(this.TD),u=Wt(this.hot.rootElement),c=a.topOverlay.holder,f=a.leftOverlay.holder,h=c!==this.hot.rootWindow?c.scrollTop:0,d=f!==this.hot.rootWindow?f.scrollLeft:0,g=this.checkEditorSection(),p=["","left"].includes(g)?h:0,v=["","top","bottom"].includes(g)?d:0,m=l.top===u.top?0:1,w=this.TD.style.backgroundColor,C=l.top-u.top-m-p,E=l.left-u.left-1-v,k;switch(g){case"top":k=Kr(a.topOverlay.clone.wtTable.holder.parentNode);break;case"left":k=Kr(a.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":k=Kr(a.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":k=Kr(a.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":k=Kr(a.bottomOverlay.clone.wtTable.holder.parentNode);break}var $=this.hot.hasColHeaders(),D=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),Y=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),L=this.hot.rowIndexMapper.getRenderableIndexesLength(),X=L-this.hot.view.wt.getSetting("fixedRowsBottom");($&&D<=0||D===X)&&(C+=1),Y<=0&&(E+=1),k&&k!==-1?this.textareaParentStyle[k[0]]=k[1]:ss(this.TEXTAREA_PARENT),this.textareaParentStyle.top="".concat(C,"px"),this.textareaParentStyle.left="".concat(E,"px"),this.showEditableElement();var te=s.rowsRenderCalculator.startPosition,oe=s.columnsRenderCalculator.startPosition,ie=a.leftOverlay.getScrollPosition(),de=a.topOverlay.getScrollPosition(),y=wn(this.hot.rootDocument),S=this.TD.offsetTop+te-de,b=this.TD.offsetLeft+oe-ie,_=Ll(this.TD)-8,A=AN(c)?y:0,N=MN(f)?y:0,I=this.hot.view.maximumVisibleElementWidth(b)-9-A,R=this.TD.scrollHeight+1,P=Math.max(this.hot.view.maximumVisibleElementHeight(S)-N,23),H=as(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=H.fontSize,this.TEXTAREA.style.fontFamily=H.fontFamily,this.TEXTAREA.style.backgroundColor=w,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(R,P),maxHeight:P,minWidth:Math.min(_,I),maxWidth:I},!0)}}},{key:"bindEvents",value:function(){var i=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(o){return o.stopPropagation()}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(o){return o.stopPropagation()}),IS()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",function(){return i.finishEditing(!1)}),this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){i.refreshDimensions(),i.focus()}),this.addHook("afterRowResize",function(){i.refreshDimensions(),i.focus()})}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"onBeforeKeyDown",value:function(i){var o=(i.ctrlKey||i.metaKey)&&!i.altKey;if(!(i.target!==this.TEXTAREA||Xr(i))){switch(i.keyCode){case me.ARROW_RIGHT:this.isInFullEditMode()&&!this.isWaiting()&&!this.allowKeyEventPropagation(i.keyCode)&&Lt(i);break;case me.ARROW_LEFT:this.isInFullEditMode()&&!this.isWaiting()&&!this.allowKeyEventPropagation(i.keyCode)&&Lt(i);break;case me.ARROW_UP:case me.ARROW_DOWN:this.isInFullEditMode()&&!this.isWaiting()&&!this.allowKeyEventPropagation(i.keyCode)&&Lt(i);break;case me.ENTER:{var a=this.hot.selection.isMultiple();if(o&&!a||i.altKey){if(this.isOpened()){var s=AC(this.TEXTAREA),l=this.getValue(),u="".concat(l.slice(0,s),`
`).concat(l.slice(s));this.setValue(u),_f(this.TEXTAREA,s+1)}else this.beginEditing("".concat(this.originalValue,`
`));Lt(i)}i.preventDefault();break}case me.BACKSPACE:case me.DELETE:case me.HOME:case me.END:Lt(i);break}var c=[me.ARROW_UP,me.ARROW_RIGHT,me.ARROW_DOWN,me.ARROW_LEFT];c.indexOf(i.keyCode)===-1&&this.autoResize.resize(String.fromCharCode(i.keyCode))}}}],[{key:"EDITOR_TYPE",get:function(){return FSe}}]),t}(zl),BSe="base";function Zf(e,n,t,r,i,o,a){var s=[],l=[];a.className&&ve(n,a.className),a.readOnly&&s.push(a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName?s.push(a.invalidCellClassName):l.push(a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&s.push(a.noWordWrapClassName),!o&&a.placeholder&&s.push(a.placeholderCellClassName),Je(n,l),ve(n,s)}Zf.RENDERER_TYPE=BSe;var VSe="text";function fa(e,n,t,r,i,o,a){Zf.apply(this,[e,n,t,r,i,o,a]);var s=o;if(!s&&a.placeholder&&(s=a.placeholder),s=zt(s),e.getSettings().trimWhitespace&&(s=s.trim()),a.rendererTemplate){Mr(n);var l=e.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=e.getSourceDataAtRow(t),n.appendChild(l)}else na(n,s)}fa.RENDERER_TYPE=VSe;var WSe="text",UB={CELL_TYPE:WSe,editor:gs,renderer:fa};qr(UB);tt.editors={BaseEditor:zl};function tt(e,n){var t=new zO(e,n||{},V0);return t.init(),t}tt.Core=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new zO(e,n,V0)};tt.DefaultSettings=xB();tt.hooks=De.getSingleton();tt.packageName="handsontable";tt.buildDate="17/11/2021 15:10:38";tt.version="11.0.1";tt.languages={dictionaryKeys:Bbe,getLanguageDictionary:UF,getLanguagesDictionaries:Ybe,registerLanguageDictionary:jF,getTranslatedPhrase:zF};function Vv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vv=function(t){return typeof t}:Vv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function jSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function USe(e,n,t){return n&&zB(e.prototype,n),t&&zB(e,t),e}function yi(){return typeof Reflect!="undefined"&&Reflect.get?yi=Reflect.get:yi=function(n,t,r){var i=zSe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},yi.apply(this,arguments)}function zSe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=$r(e),e!==null););return e}function YSe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&GO(e,n)}function GO(e,n){return GO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},GO(e,n)}function GSe(e){var n=qSe();return function(){var r=$r(e),i;if(n){var o=$r(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KSe(this,i)}}function KSe(e,n){if(n&&(Vv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XSe(e)}function XSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qSe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$r(e)}var ZSe="handsontable",KO=function(e){YSe(t,e);var n=GSe(t);function t(){return jSe(this,t),n.apply(this,arguments)}return USe(t,[{key:"open",value:function(){yi($r(t.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),_f(this.TEXTAREA,0,this.TEXTAREA.value.length)}},{key:"close",value:function(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),yi($r(t.prototype),"close",this).call(this)}},{key:"prepare",value:function(i,o,a,s,l,u){yi($r(t.prototype),"prepare",this).call(this,i,o,a,s,l,u);var c=this,f={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(d,g){var p=this.getSourceData(g.row,g.col);p!==void 0&&c.setValue(p),c.instance.destroyEditor()},preventWheel:!0};this.cellProperties.handsontable&&Vt(f,u.handsontable),this.htOptions=f}},{key:"beginEditing",value:function(i,o){var a=this.hot.getSettings().onBeginEditing;a&&a()===!1||yi($r(t.prototype),"beginEditing",this).call(this,i,o)}},{key:"createElements",value:function(){yi($r(t.prototype),"createElements",this).call(this);var i=this.hot.rootDocument.createElement("DIV");i.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(i),this.htContainer=i,this.assignHooks()}},{key:"finishEditing",value:function(i,o,a){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var s=this.htEditor.getInstance().getValue();s!==void 0&&this.setValue(s)}yi($r(t.prototype),"finishEditing",this).call(this,i,o,a)}},{key:"assignHooks",value:function(){var i=this;this.hot.addHook("afterDestroy",function(){i.htEditor&&i.htEditor.destroy()})}},{key:"onBeforeKeyDown",value:function(i){if(!Xr(i)){var o=this.htEditor.getInstance(),a,s;if(i.keyCode===me.ARROW_DOWN){if(!o.getSelectedLast()&&!o.flipped)a=0;else if(o.getSelectedLast()){if(o.flipped)a=o.getSelectedLast()[0]+1;else if(!o.flipped){var l=o.countRows()-1;s=o.getSelectedLast()[0],a=Math.min(l,s+1)}}}else i.keyCode===me.ARROW_UP&&(!o.getSelectedLast()&&o.flipped?a=o.countRows()-1:o.getSelectedLast()&&(o.flipped?(s=o.getSelectedLast()[0],a=Math.max(0,s-1)):(s=o.getSelectedLast()[0],a=s-1)));a!==void 0&&(a<0||o.flipped&&a>o.countRows()-1?o.deselectCell():o.selectCell(a,0),o.getData().length&&(i.preventDefault(),Lt(i),this.hot.listen(),this.TEXTAREA.focus())),yi($r(t.prototype),"onBeforeKeyDown",this).call(this,i)}}}],[{key:"EDITOR_TYPE",get:function(){return ZSe}}]),t}(gs);function Wv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wv=function(t){return typeof t}:Wv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function QSe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JSe(e,n,t){return n&&YB(e.prototype,n),t&&YB(e,t),e}function ha(){return typeof Reflect!="undefined"&&Reflect.get?ha=Reflect.get:ha=function(n,t,r){var i=eCe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},ha.apply(this,arguments)}function eCe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=bi(e),e!==null););return e}function tCe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&XO(e,n)}function XO(e,n){return XO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},XO(e,n)}function nCe(e){var n=iCe();return function(){var r=bi(e),i;if(n){var o=bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return rCe(this,i)}}function rCe(e,n){if(n&&(Wv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qO(e)}function qO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(e)}function oCe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ZO=new WeakMap,aCe="autocomplete",QO=function(e){tCe(t,e);var n=nCe(t);function t(r){var i;return QSe(this,t),i=n.call(this,r),oCe(qO(i),"sortByRelevance",function(o,a,s){var l=[],u=[],c=o.length,f=a.length,h,d,g,p;if(c===0){for(g=0;g<f;g++)u.push(g);return u}for(g=0;g<f;g++){if(d=SC(zt(a[g])),s)p=d.indexOf(o);else{var v=this.cellProperties.locale;p=d.toLocaleLowerCase(v).indexOf(o.toLocaleLowerCase(v))}p!==-1&&(h=d.length-p-c,l.push({baseIndex:g,index:p,charsLeft:h,value:d}))}for(l.sort(function(m,w){if(w.index===-1)return-1;if(m.index===-1)return 1;if(m.index<w.index)return-1;if(w.index<m.index)return 1;if(m.index===w.index){if(m.charsLeft<w.charsLeft)return-1;if(m.charsLeft>w.charsLeft)return 1}return 0}),g=0,f=l.length;g<f;g++)u.push(l[g].baseIndex);return u}),i.query=null,i.strippedChoices=[],i.rawChoices=[],ZO.set(qO(i),{skipOne:!1,isMacOS:i.hot.rootWindow.navigator.platform.indexOf("Mac")>-1}),i}return JSe(t,[{key:"getValue",value:function(){var i=this,o=this.rawChoices.find(function(a){var s=i.stripValueIfNeeded(a);return s===i.TEXTAREA.value});return je(o)?o:this.TEXTAREA.value}},{key:"createElements",value:function(){ha(bi(t.prototype),"createElements",this).call(this),ve(this.htContainer,"autocompleteEditor"),ve(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll")}},{key:"open",value:function(){var i=this,o=ZO.get(this);ha(bi(t.prototype),"open",this).call(this);var a=this.htEditor.getInstance(),s=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var l=wn();l===0&&o.isMacOS&&(l+=15),a.updateSettings({colWidths:s?[jt(this.TEXTAREA)-2]:void 0,width:s?jt(this.TEXTAREA)+l:void 0,renderer:function(c,f,h,d,g,p,v){fa(c,f,h,d,g,p,v);var m=i.cellProperties,w=m.filteringCaseSensitive,C=m.allowHtml,E=m.locale,k=i.query,$=zt(p),D,Y;$&&!C&&(D=w===!0?$.indexOf(k):$.toLocaleLowerCase(E).indexOf(k.toLocaleLowerCase(E)),D!==-1&&(Y=$.substr(D,k.length),$=$.replace(Y,"<strong>".concat(Y,"</strong>")))),f.innerHTML=$},autoColumnSize:!0}),o.skipOne&&(o.skipOne=!1),this.hot._registerTimeout(function(){i.queryChoices(i.TEXTAREA.value)})}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),ha(bi(t.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(i){ha(bi(t.prototype),"discardEditor",this).call(this,i),this.hot.view.render()}},{key:"queryChoices",value:function(i){var o=this,a=this.cellProperties.source;this.query=i,typeof a=="function"?a.call(this.cellProperties,i,function(s){o.rawChoices=s,o.updateChoicesList(o.stripValuesIfNeeded(s))}):Array.isArray(a)?(this.rawChoices=a,this.updateChoicesList(this.stripValuesIfNeeded(a))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(i){var o=AC(this.TEXTAREA),a=TN(this.TEXTAREA),s=this.cellProperties.sortByRelevance,l=this.cellProperties.filter,u=null,c=null,f=i;s&&(u=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),f,this.cellProperties.filteringCaseSensitive));var h=Array.isArray(u)?u.length:0;if(l===!1)h&&(c=u[0]);else{for(var d=[],g=0,p=f.length;g<p&&!(s&&h<=g);g++)h?d.push(f[u[g]]):d.push(f[g]);c=0,f=d}this.strippedChoices=f,this.htEditor.loadData(Jc([f])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(c),this.hot.listen(),_f(this.TEXTAREA,o,o===a?void 0:a)}},{key:"flipDropdownIfNeeded",value:function(){var i=Wt(this.TEXTAREA),o=Jt(this.TEXTAREA),a=this.getDropdownHeight(),s=Nl(this.hot.view.wt.wtTable.TABLE),l=s.scrollTop,u=Jt(this.hot.view.wt.wtTable.THEAD),c={row:0,col:0};s!==this.hot.rootWindow&&(c=Wt(s));var f=i.top-c.top-u+l,h=s.scrollHeight-f-u-o,d=a>h&&f>h;return d?this.flipDropdown(a):this.unflipDropdown(),this.limitDropdownIfNeeded(d?f:h,a),d}},{key:"limitDropdownIfNeeded",value:function(i,o){if(o>i){var a=0,s=0,l=0,u=null;do l=this.htEditor.getRowHeight(s)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,a+=l,s+=1;while(a<i);u=a-l,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+o-u,"px")),this.setDropdownHeight(a-l)}}},{key:"flipDropdown",value:function(i){var o=this.htEditor.rootElement.style;o.position="absolute",o.top="".concat(-i,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var i=this.htEditor.rootElement.style;i.position==="absolute"&&(i.position="",i.top=""),this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var i=this.htEditor.getColWidth(0)+wn(this.hot.rootDocument)+2,o=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:o?void 0:i}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(i){this.htEditor.updateSettings({height:i})}},{key:"highlightBestMatchingChoice",value:function(i){typeof i=="number"?this.htEditor.selectCell(i,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var i=this.htEditor.getInstance().getRowHeight(0)||23,o=this.cellProperties.visibleRows;return this.strippedChoices.length>=o?o*i:this.strippedChoices.length*i+8}},{key:"stripValueIfNeeded",value:function(i){return this.stripValuesIfNeeded([i])[0]}},{key:"stripValuesIfNeeded",value:function(i){var o=this.cellProperties.allowHtml,a=it(i,function(l){return zt(l)}),s=it(a,function(l){return o?l:SC(l)});return s}},{key:"allowKeyEventPropagation",value:function(i){var o=this.htEditor.getSelectedRangeLast(),a={row:o?o.from.row:-1},s=!1;return i===me.ARROW_DOWN&&a.row>0&&a.row<this.htEditor.countRows()-1&&(s=!0),i===me.ARROW_UP&&a.row>-1&&(s=!0),s}},{key:"onBeforeKeyDown",value:function(i){var o=this,a=ZO.get(this);if(a.skipOne=!1,oH(i.keyCode)||i.keyCode===me.BACKSPACE||i.keyCode===me.DELETE||i.keyCode===me.INSERT){var s=0;if(i.keyCode===me.C&&(i.ctrlKey||i.metaKey))return;this.isOpened()||(s+=10),this.htEditor&&this.hot._registerTimeout(function(){o.queryChoices(o.TEXTAREA.value),a.skipOne=!0},s)}ha(bi(t.prototype),"onBeforeKeyDown",this).call(this,i)}}],[{key:"EDITOR_TYPE",get:function(){return aCe}}]),t}(KO);function jv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(t){return typeof t}:jv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function sCe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lCe(e,n,t){return n&&GB(e.prototype,n),t&&GB(e,t),e}function uCe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&JO(e,n)}function JO(e,n){return JO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},JO(e,n)}function cCe(e){var n=dCe();return function(){var r=Uv(e),i;if(n){var o=Uv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fCe(this,i)}}function fCe(e,n){if(n&&(jv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hCe(e)}function hCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uv(e)}var gCe="checkbox",KB=function(e){uCe(t,e);var n=cCe(t);function t(){return sCe(this,t),n.apply(this,arguments)}return lCe(t,[{key:"beginEditing",value:function(i,o){if(o&&o.type==="mouseup"){var a=this.TD.querySelector('input[type="checkbox"]');ze(a,"htBadValue")||a.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}],[{key:"EDITOR_TYPE",get:function(){return gCe}}]),t}(zl),XB={exports:{}};/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */(function(e,n){(function(t,r){var i;{try{i=require("moment")}catch{}e.exports=r(i)}})(Fn,function(t){var r=typeof t=="function",i=!!window.addEventListener,o=window.document,a=window.setTimeout,s=function(b,_,A,N){i?b.addEventListener(_,A,!!N):b.attachEvent("on"+_,A)},l=function(b,_,A,N){i?b.removeEventListener(_,A,!!N):b.detachEvent("on"+_,A)},u=function(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")},c=function(b,_){return(" "+b.className+" ").indexOf(" "+_+" ")!==-1},f=function(b,_){c(b,_)||(b.className=b.className===""?_:b.className+" "+_)},h=function(b,_){b.className=u((" "+b.className+" ").replace(" "+_+" "," "))},d=function(b){return/Array/.test(Object.prototype.toString.call(b))},g=function(b){return/Date/.test(Object.prototype.toString.call(b))&&!isNaN(b.getTime())},p=function(b){var _=b.getDay();return _===0||_===6},v=function(b){return b%4==0&&b%100!=0||b%400==0},m=function(b,_){return[31,v(b)?29:28,31,30,31,30,31,31,30,31,30,31][_]},w=function(b){g(b)&&b.setHours(0,0,0,0)},C=function(b,_){return b.getTime()===_.getTime()},E=function(b,_,A){var N,I;for(N in _)I=b[N]!==void 0,I&&typeof _[N]=="object"&&_[N]!==null&&_[N].nodeName===void 0?g(_[N])?A&&(b[N]=new Date(_[N].getTime())):d(_[N])?A&&(b[N]=_[N].slice(0)):b[N]=E({},_[N],A):(A||!I)&&(b[N]=_[N]);return b},k=function(b,_,A){var N;o.createEvent?(N=o.createEvent("HTMLEvents"),N.initEvent(_,!0,!1),N=E(N,A),b.dispatchEvent(N)):o.createEventObject&&(N=o.createEventObject(),N=E(N,A),b.fireEvent("on"+_,N))},$=function(b){return b.month<0&&(b.year-=Math.ceil(Math.abs(b.month)/12),b.month+=12),b.month>11&&(b.year+=Math.floor(Math.abs(b.month)/12),b.month-=12),b},D={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Y=function(b,_,A){for(_+=b.firstDay;_>=7;)_-=7;return A?b.i18n.weekdaysShort[_]:b.i18n.weekdays[_]},L=function(b){var _=[],A="false";if(b.isEmpty)if(b.showDaysInNextAndPreviousMonths)_.push("is-outside-current-month"),b.enableSelectionDaysInNextAndPreviousMonths||_.push("is-selection-disabled");else return'<td class="is-empty"></td>';return b.isDisabled&&_.push("is-disabled"),b.isToday&&_.push("is-today"),b.isSelected&&(_.push("is-selected"),A="true"),b.hasEvent&&_.push("has-event"),b.isInRange&&_.push("is-inrange"),b.isStartRange&&_.push("is-startrange"),b.isEndRange&&_.push("is-endrange"),'<td data-day="'+b.day+'" class="'+_.join(" ")+'" aria-selected="'+A+'"><button class="pika-button pika-day" type="button" data-pika-year="'+b.year+'" data-pika-month="'+b.month+'" data-pika-day="'+b.day+'">'+b.day+"</button></td>"},X=function(b,_,A){var N=new Date(A,0,1),I=Math.ceil(((new Date(A,_,b)-N)/864e5+N.getDay()+1)/7);return'<td class="pika-week">'+I+"</td>"},te=function(b,_,A,N){return'<tr class="pika-row'+(A?" pick-whole-week":"")+(N?" is-selected":"")+'">'+(_?b.reverse():b).join("")+"</tr>"},oe=function(b){return"<tbody>"+b.join("")+"</tbody>"},ie=function(b){var _,A=[];for(b.showWeekNumber&&A.push("<th></th>"),_=0;_<7;_++)A.push('<th scope="col"><abbr title="'+Y(b,_)+'">'+Y(b,_,!0)+"</abbr></th>");return"<thead><tr>"+(b.isRTL?A.reverse():A).join("")+"</tr></thead>"},de=function(b,_,A,N,I,R){var P,H,V,q=b._o,K=A===q.minYear,ce=A===q.maxYear,ue='<div id="'+R+'" class="pika-title" role="heading" aria-live="assertive">',ge,fe,be=!0,Ee=!0;for(V=[],P=0;P<12;P++)V.push('<option value="'+(A===I?P-_:12+P-_)+'"'+(P===N?' selected="selected"':"")+(K&&P<q.minMonth||ce&&P>q.maxMonth?'disabled="disabled"':"")+">"+q.i18n.months[P]+"</option>");for(ge='<div class="pika-label">'+q.i18n.months[N]+'<select class="pika-select pika-select-month" tabindex="-1">'+V.join("")+"</select></div>",d(q.yearRange)?(P=q.yearRange[0],H=q.yearRange[1]+1):(P=A-q.yearRange,H=1+A+q.yearRange),V=[];P<H&&P<=q.maxYear;P++)P>=q.minYear&&V.push('<option value="'+P+'"'+(P===A?' selected="selected"':"")+">"+P+"</option>");return fe='<div class="pika-label">'+A+q.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+V.join("")+"</select></div>",q.showMonthAfterYear?ue+=fe+ge:ue+=ge+fe,K&&(N===0||q.minMonth>=N)&&(be=!1),ce&&(N===11||q.maxMonth<=N)&&(Ee=!1),_===0&&(ue+='<button class="pika-prev'+(be?"":" is-disabled")+'" type="button">'+q.i18n.previousMonth+"</button>"),_===b._o.numberOfMonths-1&&(ue+='<button class="pika-next'+(Ee?"":" is-disabled")+'" type="button">'+q.i18n.nextMonth+"</button>"),ue+="</div>"},y=function(b,_,A){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+A+'">'+ie(b)+oe(_)+"</table>"},S=function(b){var _=this,A=_.config(b);_._onMouseDown=function(I){if(!!_._v){I=I||window.event;var R=I.target||I.srcElement;if(!!R)if(c(R,"is-disabled")||(c(R,"pika-button")&&!c(R,"is-empty")&&!c(R.parentNode,"is-disabled")?(_.setDate(new Date(R.getAttribute("data-pika-year"),R.getAttribute("data-pika-month"),R.getAttribute("data-pika-day"))),A.bound&&a(function(){_.hide(),A.blurFieldOnSelect&&A.field&&A.field.blur()},100)):c(R,"pika-prev")?_.prevMonth():c(R,"pika-next")&&_.nextMonth()),c(R,"pika-select"))_._c=!0;else if(I.preventDefault)I.preventDefault();else return I.returnValue=!1,!1}},_._onChange=function(I){I=I||window.event;var R=I.target||I.srcElement;!R||(c(R,"pika-select-month")?_.gotoMonth(R.value):c(R,"pika-select-year")&&_.gotoYear(R.value))},_._onKeyChange=function(I){if(I=I||window.event,_.isVisible())switch(I.keyCode){case 13:case 27:A.field&&A.field.blur();break;case 37:I.preventDefault(),_.adjustDate("subtract",1);break;case 38:_.adjustDate("subtract",7);break;case 39:_.adjustDate("add",1);break;case 40:_.adjustDate("add",7);break}},_._onInputChange=function(I){var R;I.firedBy!==_&&(A.parse?R=A.parse(A.field.value,A.format):r?(R=t(A.field.value,A.format,A.formatStrict),R=R&&R.isValid()?R.toDate():null):R=new Date(Date.parse(A.field.value)),g(R)&&_.setDate(R),_._v||_.show())},_._onInputFocus=function(){_.show()},_._onInputClick=function(){_.show()},_._onInputBlur=function(){var I=o.activeElement;do if(c(I,"pika-single"))return;while(I=I.parentNode);_._c||(_._b=a(function(){_.hide()},50)),_._c=!1},_._onClick=function(I){I=I||window.event;var R=I.target||I.srcElement,P=R;if(!!R){!i&&c(R,"pika-select")&&(R.onchange||(R.setAttribute("onchange","return;"),s(R,"change",_._onChange)));do if(c(P,"pika-single")||P===A.trigger)return;while(P=P.parentNode);_._v&&R!==A.trigger&&P!==A.trigger&&_.hide()}},_.el=o.createElement("div"),_.el.className="pika-single"+(A.isRTL?" is-rtl":"")+(A.theme?" "+A.theme:""),s(_.el,"mousedown",_._onMouseDown,!0),s(_.el,"touchend",_._onMouseDown,!0),s(_.el,"change",_._onChange),A.keyboardInput&&s(o,"keydown",_._onKeyChange),A.field&&(A.container?A.container.appendChild(_.el):A.bound?o.body.appendChild(_.el):A.field.parentNode.insertBefore(_.el,A.field.nextSibling),s(A.field,"change",_._onInputChange),A.defaultDate||(r&&A.field.value?A.defaultDate=t(A.field.value,A.format).toDate():A.defaultDate=new Date(Date.parse(A.field.value)),A.setDefaultDate=!0));var N=A.defaultDate;g(N)?A.setDefaultDate?_.setDate(N,!0):_.gotoDate(N):_.gotoDate(new Date),A.bound?(this.hide(),_.el.className+=" is-bound",s(A.trigger,"click",_._onInputClick),s(A.trigger,"focus",_._onInputFocus),s(A.trigger,"blur",_._onInputBlur)):this.show()};return S.prototype={config:function(b){this._o||(this._o=E({},D,!0));var _=E(this._o,b,!0);_.isRTL=!!_.isRTL,_.field=_.field&&_.field.nodeName?_.field:null,_.theme=typeof _.theme=="string"&&_.theme?_.theme:null,_.bound=!!(_.bound!==void 0?_.field&&_.bound:_.field),_.trigger=_.trigger&&_.trigger.nodeName?_.trigger:_.field,_.disableWeekends=!!_.disableWeekends,_.disableDayFn=typeof _.disableDayFn=="function"?_.disableDayFn:null;var A=parseInt(_.numberOfMonths,10)||1;if(_.numberOfMonths=A>4?4:A,g(_.minDate)||(_.minDate=!1),g(_.maxDate)||(_.maxDate=!1),_.minDate&&_.maxDate&&_.maxDate<_.minDate&&(_.maxDate=_.minDate=!1),_.minDate&&this.setMinDate(_.minDate),_.maxDate&&this.setMaxDate(_.maxDate),d(_.yearRange)){var N=new Date().getFullYear()-10;_.yearRange[0]=parseInt(_.yearRange[0],10)||N,_.yearRange[1]=parseInt(_.yearRange[1],10)||N}else _.yearRange=Math.abs(parseInt(_.yearRange,10))||D.yearRange,_.yearRange>100&&(_.yearRange=100);return _},toString:function(b){return b=b||this._o.format,g(this._d)?this._o.toString?this._o.toString(this._d,b):r?t(this._d).format(b):this._d.toDateString():""},getMoment:function(){return r?t(this._d):null},setMoment:function(b,_){r&&t.isMoment(b)&&this.setDate(b.toDate(),_)},getDate:function(){return g(this._d)?new Date(this._d.getTime()):null},setDate:function(b,_){if(!b)return this._d=null,this._o.field&&(this._o.field.value="",k(this._o.field,"change",{firedBy:this})),this.draw();if(typeof b=="string"&&(b=new Date(Date.parse(b))),!!g(b)){var A=this._o.minDate,N=this._o.maxDate;g(A)&&b<A?b=A:g(N)&&b>N&&(b=N),this._d=new Date(b.getTime()),w(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),k(this._o.field,"change",{firedBy:this})),!_&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())}},gotoDate:function(b){var _=!0;if(!!g(b)){if(this.calendars){var A=new Date(this.calendars[0].year,this.calendars[0].month,1),N=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),I=b.getTime();N.setMonth(N.getMonth()+1),N.setDate(N.getDate()-1),_=I<A.getTime()||N.getTime()<I}_&&(this.calendars=[{month:b.getMonth(),year:b.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(b,_){var A=this.getDate()||new Date,N=parseInt(_)*24*60*60*1e3,I;b==="add"?I=new Date(A.valueOf()+N):b==="subtract"&&(I=new Date(A.valueOf()-N)),this.setDate(I)},adjustCalendars:function(){this.calendars[0]=$(this.calendars[0]);for(var b=1;b<this._o.numberOfMonths;b++)this.calendars[b]=$({month:this.calendars[0].month+b,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(b){isNaN(b)||(this.calendars[0].month=parseInt(b,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(b){isNaN(b)||(this.calendars[0].year=parseInt(b,10),this.adjustCalendars())},setMinDate:function(b){b instanceof Date?(w(b),this._o.minDate=b,this._o.minYear=b.getFullYear(),this._o.minMonth=b.getMonth()):(this._o.minDate=D.minDate,this._o.minYear=D.minYear,this._o.minMonth=D.minMonth,this._o.startRange=D.startRange),this.draw()},setMaxDate:function(b){b instanceof Date?(w(b),this._o.maxDate=b,this._o.maxYear=b.getFullYear(),this._o.maxMonth=b.getMonth()):(this._o.maxDate=D.maxDate,this._o.maxYear=D.maxYear,this._o.maxMonth=D.maxMonth,this._o.endRange=D.endRange),this.draw()},setStartRange:function(b){this._o.startRange=b},setEndRange:function(b){this._o.endRange=b},draw:function(b){if(!(!this._v&&!b)){var _=this._o,A=_.minYear,N=_.maxYear,I=_.minMonth,R=_.maxMonth,P="",H;this._y<=A&&(this._y=A,!isNaN(I)&&this._m<I&&(this._m=I)),this._y>=N&&(this._y=N,!isNaN(R)&&this._m>R&&(this._m=R)),H="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var V=0;V<_.numberOfMonths;V++)P+='<div class="pika-lendar">'+de(this,V,this.calendars[V].year,this.calendars[V].month,this.calendars[0].year,H)+this.render(this.calendars[V].year,this.calendars[V].month,H)+"</div>";this.el.innerHTML=P,_.bound&&_.field.type!=="hidden"&&a(function(){_.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),_.bound&&_.field.setAttribute("aria-label",_.ariaLabel)}},adjustPosition:function(){var b,_,A,N,I,R,P,H,V,q,K,ce;if(!this._o.container){if(this.el.style.position="absolute",b=this._o.trigger,_=b,A=this.el.offsetWidth,N=this.el.offsetHeight,I=window.innerWidth||o.documentElement.clientWidth,R=window.innerHeight||o.documentElement.clientHeight,P=window.pageYOffset||o.body.scrollTop||o.documentElement.scrollTop,K=!0,ce=!0,typeof b.getBoundingClientRect=="function")q=b.getBoundingClientRect(),H=q.left+window.pageXOffset,V=q.bottom+window.pageYOffset;else for(H=_.offsetLeft,V=_.offsetTop+_.offsetHeight;_=_.offsetParent;)H+=_.offsetLeft,V+=_.offsetTop;(this._o.reposition&&H+A>I||this._o.position.indexOf("right")>-1&&H-A+b.offsetWidth>0)&&(H=H-A+b.offsetWidth,K=!1),(this._o.reposition&&V+N>R+P||this._o.position.indexOf("top")>-1&&V-N-b.offsetHeight>0)&&(V=V-N-b.offsetHeight,ce=!1),this.el.style.left=H+"px",this.el.style.top=V+"px",f(this.el,K?"left-aligned":"right-aligned"),f(this.el,ce?"bottom-aligned":"top-aligned"),h(this.el,K?"right-aligned":"left-aligned"),h(this.el,ce?"top-aligned":"bottom-aligned")}},render:function(b,_,A){var N=this._o,I=new Date,R=m(b,_),P=new Date(b,_,1).getDay(),H=[],V=[];w(I),N.firstDay>0&&(P-=N.firstDay,P<0&&(P+=7));for(var q=_===0?11:_-1,K=_===11?0:_+1,ce=_===0?b-1:b,ue=_===11?b+1:b,ge=m(ce,q),fe=R+P,be=fe;be>7;)be-=7;fe+=7-be;for(var Ee=!1,re=0,He=0;re<fe;re++){var Te=new Date(b,_,1+(re-P)),Ue=g(this._d)?C(Te,this._d):!1,Ge=C(Te,I),Me=N.events.indexOf(Te.toDateString())!==-1,T=re<P||re>=R+P,M=1+(re-P),F=_,Q=b,U=N.startRange&&C(N.startRange,Te),J=N.endRange&&C(N.endRange,Te),z=N.startRange&&N.endRange&&N.startRange<Te&&Te<N.endRange,j=N.minDate&&Te<N.minDate||N.maxDate&&Te>N.maxDate||N.disableWeekends&&p(Te)||N.disableDayFn&&N.disableDayFn(Te);T&&(re<P?(M=ge+M,F=q,Q=ce):(M=M-R,F=K,Q=ue));var Z={day:M,month:F,year:Q,hasEvent:Me,isSelected:Ue,isToday:Ge,isDisabled:j,isEmpty:T,isStartRange:U,isEndRange:J,isInRange:z,showDaysInNextAndPreviousMonths:N.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:N.enableSelectionDaysInNextAndPreviousMonths};N.pickWholeWeek&&Ue&&(Ee=!0),V.push(L(Z)),++He==7&&(N.showWeekNumber&&V.unshift(X(re-P,_,b)),H.push(te(V,N.isRTL,N.pickWholeWeek,Ee)),V=[],He=0,Ee=!1)}return y(N,H,A)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),h(this.el,"is-hidden"),this._o.bound&&(s(o,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var b=this._v;b!==!1&&(this._o.bound&&l(o,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",f(this.el,"is-hidden"),this._v=!1,b!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){var b=this._o;this.hide(),l(this.el,"mousedown",this._onMouseDown,!0),l(this.el,"touchend",this._onMouseDown,!0),l(this.el,"change",this._onChange),b.keyboardInput&&l(o,"keydown",this._onKeyChange),b.field&&(l(b.field,"change",this._onInputChange),b.bound&&(l(b.trigger,"click",this._onInputClick),l(b.trigger,"focus",this._onInputFocus),l(b.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},S})})(XB);var qB=XB.exports;function zv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zv=function(t){return typeof t}:zv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function pCe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZB(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vCe(e,n,t){return n&&ZB(e.prototype,n),t&&ZB(e,t),e}function to(){return typeof Reflect!="undefined"&&Reflect.get?to=Reflect.get:to=function(n,t,r){var i=mCe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},to.apply(this,arguments)}function mCe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Qr(e),e!==null););return e}function yCe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&eE(e,n)}function eE(e,n){return eE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},eE(e,n)}function bCe(e){var n=SCe();return function(){var r=Qr(e),i;if(n){var o=Qr(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wCe(this,i)}}function wCe(e,n){if(n&&(zv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ce(e)}function _Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qr(e){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qr(e)}var QB="date",JB=function(e){yCe(t,e);var n=bCe(t);function t(r){var i;return pCe(this,t),i=n.call(this,r),i.defaultDateFormat="DD/MM/YYYY",i.isCellEdited=!1,i.parentDestroyed=!1,i.$datePicker=null,i}return vCe(t,[{key:"init",value:function(){var i=this;if(typeof we!="function")throw new Error("You need to include moment.js to your project.");if(typeof qB!="function")throw new Error("You need to include Pikaday to your project.");to(Qr(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){i.parentDestroyed=!0,i.destroyElements()})}},{key:"createElements",value:function(){to(Qr(t.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,ve(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker);var i=new Rt(this);i.addEventListener(this.datePicker,"mousedown",function(o){return o.stopPropagation()})}},{key:"destroyElements",value:function(){var i=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),i&&i.removeChild(this.datePicker)}},{key:"prepare",value:function(i,o,a,s,l,u){to(Qr(t.prototype),"prepare",this).call(this,i,o,a,s,l,u)}},{key:"open",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;to(Qr(t.prototype),"open",this).call(this),this.showDatepicker(i)}},{key:"close",value:function(){var i,o=this;this._opened=!1,(i=this.$datePicker)!==null&&i!==void 0&&i.destroy&&this.$datePicker.destroy(),this.instance._registerTimeout(function(){o.instance._refreshBorders()}),to(Qr(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i){var a=this.originalValue;a!==void 0&&this.setValue(a)}to(Qr(t.prototype),"finishEditing",this).call(this,i,o)}},{key:"showDatepicker",value:function(i){var o=this.TD.getBoundingClientRect(),a=this.cellProperties.dateFormat||this.defaultDateFormat,s=this.instance.view.isMouseDown(),l=i?h0(i.keyCode):!1,u;this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+o.top+Jt(this.TD),"px"),this.datePickerStyle.left="".concat(this.hot.rootWindow.pageXOffset+o.left,"px"),this.$datePicker=new qB(this.getDatePickerConfig()),this.$datePicker._onInputFocus=function(){},this.originalValue?(u=this.originalValue,we(u,a,!0).isValid()&&this.$datePicker.setMoment(we(u,a),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!l&&!s&&this.setValue("")):this.cellProperties.defaultDate?(u=this.cellProperties.defaultDate,we(u,a,!0).isValid()&&this.$datePicker.setMoment(we(u,a),!0),!l&&!s&&this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block"}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var i=this,o=this.TEXTAREA,a={};this.cellProperties&&this.cellProperties.datePickerConfig&&ef(a,this.cellProperties.datePickerConfig);var s=a.onSelect,l=a.onClose;return a.field=o,a.trigger=o,a.container=this.datePicker,a.bound=!1,a.format=a.format||this.defaultDateFormat,a.reposition=a.reposition||!1,a.onSelect=function(u){var c=u;isNaN(c.getTime())||(c=we(c).format(i.cellProperties.dateFormat||i.defaultDateFormat)),i.setValue(c),i.hideDatepicker(),s&&s()},a.onClose=function(){i.parentDestroyed||i.finishEditing(!1),l&&l()},a}}],[{key:"EDITOR_TYPE",get:function(){return QB}}]),t}(gs);function Yv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yv=function(t){return typeof t}:Yv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function CCe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function e2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RCe(e,n,t){return n&&e2(e.prototype,n),t&&e2(e,t),e}function Gv(){return typeof Reflect!="undefined"&&Reflect.get?Gv=Reflect.get:Gv=function(n,t,r){var i=OCe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Gv.apply(this,arguments)}function OCe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=eu(e),e!==null););return e}function ECe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&tE(e,n)}function tE(e,n){return tE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},tE(e,n)}function TCe(e){var n=MCe();return function(){var r=eu(e),i;if(n){var o=eu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kCe(this,i)}}function kCe(e,n){if(n&&(Yv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ACe(e)}function ACe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}var xCe="dropdown",nE=function(e){ECe(t,e);var n=TCe(t);function t(){return CCe(this,t),n.apply(this,arguments)}return RCe(t,[{key:"prepare",value:function(i,o,a,s,l,u){Gv(eu(t.prototype),"prepare",this).call(this,i,o,a,s,l,u),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}],[{key:"EDITOR_TYPE",get:function(){return xCe}}]),t}(QO);De.getSingleton().add("beforeValidate",function(e,n,t){var r=this.getCellMeta(n,this.propToCol(t));r.editor===nE&&r.strict===void 0&&(r.filter=!1,r.strict=!0)});function Kv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kv=function(t){return typeof t}:Kv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function PCe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ICe(e,n,t){return n&&t2(e.prototype,n),t&&t2(e,t),e}function $Ce(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&rE(e,n)}function rE(e,n){return rE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rE(e,n)}function DCe(e){var n=HCe();return function(){var r=Xv(e),i;if(n){var o=Xv(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return NCe(this,i)}}function NCe(e,n){if(n&&(Kv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LCe(e)}function LCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xv(e)}var FCe="numeric",n2=function(e){$Ce(t,e);var n=DCe(t);function t(){return PCe(this,t),n.apply(this,arguments)}return ICe(t,null,[{key:"EDITOR_TYPE",get:function(){return FCe}}]),t}(gs);function qv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qv=function(t){return typeof t}:qv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function BCe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VCe(e,n,t){return n&&r2(e.prototype,n),t&&r2(e,t),e}function Zv(){return typeof Reflect!="undefined"&&Reflect.get?Zv=Reflect.get:Zv=function(n,t,r){var i=WCe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Zv.apply(this,arguments)}function WCe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=tu(e),e!==null););return e}function jCe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&iE(e,n)}function iE(e,n){return iE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},iE(e,n)}function UCe(e){var n=GCe();return function(){var r=tu(e),i;if(n){var o=tu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return zCe(this,i)}}function zCe(e,n){if(n&&(qv(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(e)}function YCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GCe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}var KCe="password",i2=function(e){jCe(t,e);var n=UCe(t);function t(){return BCe(this,t),n.apply(this,arguments)}return VCe(t,[{key:"createElements",value:function(){Zv(tu(t.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Mr(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}],[{key:"EDITOR_TYPE",get:function(){return KCe}}]),t}(gs);function Qf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qf=function(t){return typeof t}:Qf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function XCe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qCe(e,n,t){return n&&o2(e.prototype,n),t&&o2(e,t),e}function Qv(){return typeof Reflect!="undefined"&&Reflect.get?Qv=Reflect.get:Qv=function(n,t,r){var i=ZCe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Qv.apply(this,arguments)}function ZCe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=nu(e),e!==null););return e}function QCe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&oE(e,n)}function oE(e,n){return oE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},oE(e,n)}function JCe(e){var n=n0e();return function(){var r=nu(e),i;if(n){var o=nu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return e0e(this,i)}}function e0e(e,n){if(n&&(Qf(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0e(e)}function t0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n0e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(e)}var aE="ht_editor_visible",r0e="select",i0e=function(e){QCe(t,e);var n=JCe(t);function t(){return XCe(this,t),n.apply(this,arguments)}return qCe(t,[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),ve(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(i){this.select.value=i}},{key:"open",value:function(){var i=this;this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown()})}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",ze(this.select,aE)&&Je(this.select,aE),this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var i=this;this.addHook("afterScrollHorizontally",function(){return i.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return i.refreshDimensions()}),this.addHook("afterColumnResize",function(){return i.refreshDimensions()}),this.addHook("afterRowResize",function(){return i.refreshDimensions()})}},{key:"prepare",value:function(i,o,a,s,l,u){var c=this;Qv(nu(t.prototype),"prepare",this).call(this,i,o,a,s,l,u);var f=this.cellProperties.selectOptions,h;typeof f=="function"?h=this.prepareOptions(f(this.row,this.col,this.prop)):h=this.prepareOptions(f),Mr(this.select),st(h,function(d,g){var p=c.hot.rootDocument.createElement("OPTION");p.value=g,ta(p,d),c.select.appendChild(p)})}},{key:"prepareOptions",value:function(i){var o={};if(Array.isArray(i))for(var a=0,s=i.length;a<s;a++)o[i[a]]=i[a];else Qf(i)==="object"&&(o=i);return o}},{key:"refreshValue",value:function(){var i=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=i,this.setValue(i),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===_n.EDITING){if(this.TD=this.getEditedCell(),!this.TD){this.close();return}var i=this.hot.view.wt.wtOverlays,o=Wt(this.TD),a=Wt(this.hot.rootElement),s=i.scrollableElement,l=this.checkEditorSection(),u=jt(this.TD)+1,c=Jt(this.TD)+1,f=o.top-a.top-1-(s.scrollTop||0),h=o.left-a.left-1-(s.scrollLeft||0),d;switch(l){case"top":d=Kr(i.topOverlay.clone.wtTable.holder.parentNode);break;case"left":d=Kr(i.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":d=Kr(i.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":d=Kr(i.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":d=Kr(i.bottomOverlay.clone.wtTable.holder.parentNode);break}var g=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),p=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),v=this.hot.rowIndexMapper.getRenderableIndexesLength(),m=v-this.hot.view.wt.getSetting("fixedRowsBottom");(g<=0||g===m)&&(f+=1),p<=0&&(h+=1);var w=this.select.style;d&&d!==-1?w[d[0]]=d[1]:ss(this.select);var C=as(this.TD,this.hot.rootWindow);parseInt(C.borderTopWidth,10)>0&&(c-=1),parseInt(C.borderLeftWidth,10)>0&&(u-=1),w.height="".concat(c,"px"),w.minWidth="".concat(u,"px"),w.top="".concat(f,"px"),w.left="".concat(h,"px"),w.margin="0px",ve(this.select,aE)}}},{key:"onBeforeKeyDown",value:function(){var i=this.select.selectedIndex-1,o=this.select.selectedIndex+1;switch(event.keyCode){case me.ARROW_UP:i>=0&&(this.select[i].selected=!0),Lt(event),event.preventDefault();break;case me.ARROW_DOWN:o<=this.select.length-1&&(this.select[o].selected=!0),Lt(event),event.preventDefault();break}}}],[{key:"EDITOR_TYPE",get:function(){return r0e}}]),t}(zl);function o0e(){hr(zl),hr(QO),hr(KB),hr(JB),hr(nE),hr(KO),hr(n2),hr(i2),hr(i0e),hr(gs)}var a0e="html";function sE(e,n,t,r,i,o,a){Zf.apply(this,[e,n,t,r,i,o,a]),ta(n,o==null?"":o,!1)}sE.RENDERER_TYPE=a0e;var s0e="autocomplete";function ru(e,n,t,r,i,o,a){var s=e.rootDocument,l=a.allowHtml?sE:fa,u=s.createElement("DIV");if(u.className="htAutocompleteArrow",u.appendChild(s.createTextNode(String.fromCharCode(9660))),l.apply(this,[e,n,t,r,i,o,a]),n.firstChild||n.appendChild(s.createTextNode(String.fromCharCode(160))),n.insertBefore(u,n.firstChild),ve(n,"htAutocomplete"),!e.acArrowListener){var c=new Rt(e);e.acArrowListener=function(f){ze(f.target,"htAutocompleteArrow")&&e.view.wt.getSetting("onCellDblClick",null,new ae(t,r),n)},c.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",function(){c.destroy()})}}ru.RENDERER_TYPE=s0e;var a2=new WeakMap,s2=new WeakMap,l0e="htBadValue",iu="data-row",ou="data-col",l2="checkbox";De.getSingleton().add("modifyAutoColumnSizeSeed",function(e,n,t){var r=n.label,i=n.type,o=n.row,a=n.column,s=n.prop;if(i===l2){if(r){var l=r.value,u=r.property,c=t;if(l)c=typeof l=="function"?l(o,a,s,t):l;else if(u){var f=this.getDataAtRowProp(o,u);c=f!==null?f:t}e=c}return e}});function lE(e,n,t,r,i,o,a){var s=e.rootDocument;Zf.apply(this,[e,n,t,r,i,o,a]),u0e(e);var l=c0e(s),u=a.label,c=!1;if(typeof a.checkedTemplate=="undefined"&&(a.checkedTemplate=!0),typeof a.uncheckedTemplate=="undefined"&&(a.uncheckedTemplate=!1),Mr(n),o===a.checkedTemplate||zt(o).toLocaleLowerCase(a.locale)===zt(a.checkedTemplate).toLocaleLowerCase(a.locale)?l.checked=!0:o===a.uncheckedTemplate||zt(o).toLocaleLowerCase(a.locale)===zt(a.uncheckedTemplate).toLocaleLowerCase(a.locale)?l.checked=!1:cn(o)?ve(l,"noValue"):(l.style.display="none",ve(l,l0e),c=!0),l.setAttribute(iu,t),l.setAttribute(ou,r),!c&&u){var f="";if(u.value)f=typeof u.value=="function"?u.value.call(this,t,r,i,o):u.value;else if(u.property){var h=e.getDataAtRowProp(t,u.property);f=h!==null?h:""}var d=f0e(s,f,u.separated!==!0);u.position==="before"?u.separated?(n.appendChild(d),n.appendChild(l)):(d.appendChild(l),l=d):(!u.position||u.position==="after")&&(u.separated?(n.appendChild(l),n.appendChild(d)):(d.insertBefore(l,d.firstChild),l=d))}(!u||u&&!u.separated)&&n.appendChild(l),c&&n.appendChild(s.createTextNode("#bad-value#")),a2.has(e)||(a2.set(e,!0),e.addHook("beforeKeyDown",g));function g(m){var w="SPACE|ENTER",C="DELETE|BACKSPACE",E=Cf(aa,m.keyCode);!e.getSettings().enterBeginsEditing&&E("ENTER")||(E("".concat(w,"|").concat(C))&&!Xr(m)&&v(function(){Lt(m),m.preventDefault()}),E(w)&&p(),E(C)&&p(!0))}function p(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,w=e.getSelectedRange();if(!!w)for(var C=0;C<w.length;C++){for(var E=w[C].getTopLeftCorner(),k=E.row,$=E.col,D=w[C].getBottomRightCorner(),Y=D.row,L=D.col,X=[],te=k;te<=Y;te+=1)for(var oe=$;oe<=L;oe+=1){var ie=e.getCellMeta(te,oe);if(ie.type!=="checkbox")return;if(ie.readOnly!==!0){typeof ie.checkedTemplate=="undefined"&&(ie.checkedTemplate=!0),typeof ie.uncheckedTemplate=="undefined"&&(ie.uncheckedTemplate=!1);var de=e.getDataAtCell(te,oe);m===!1?[ie.checkedTemplate,ie.checkedTemplate.toString()].includes(de)?X.push([te,oe,ie.uncheckedTemplate]):[ie.uncheckedTemplate,ie.uncheckedTemplate.toString(),null,void 0].includes(de)&&X.push([te,oe,ie.checkedTemplate]):X.push([te,oe,ie.uncheckedTemplate])}}X.length>0&&e.setDataAtCell(X)}}function v(m){var w=e.getSelectedRange();if(!!w)for(var C=0;C<w.length;C++)for(var E=w[C].getTopLeftCorner(),k=w[C].getBottomRightCorner(),$=E.row;$<=k.row;$++)for(var D=E.col;D<=k.col;D++){var Y=e.getCellMeta($,D);if(Y.type!=="checkbox")return;var L=e.getCell($,D);if(L==null)m($,D,Y);else{var X=L.querySelectorAll("input[type=checkbox]");X.length>0&&!Y.readOnly&&m(X)}}}}lE.RENDERER_TYPE=l2;function u0e(e){var n=s2.get(e);if(!n){var t=e.rootElement;n=new Rt(e),n.addEventListener(t,"click",function(r){return d0e(r,e)}),n.addEventListener(t,"mouseup",function(r){return h0e(r,e)}),n.addEventListener(t,"change",function(r){return g0e(r,e)}),s2.set(e,n)}return n}function c0e(e){var n=e.createElement("input");return n.className="htCheckboxRendererInput",n.type="checkbox",n.setAttribute("autocomplete","off"),n.setAttribute("tabindex","-1"),n.cloneNode(!1)}function f0e(e,n,t){var r=e.createElement("label");return r.className="htCheckboxRendererLabel ".concat(t?"fullWidth":""),r.appendChild(e.createTextNode(n)),r.cloneNode(!0)}function h0e(e,n){var t=e.target;!uE(t)||!t.hasAttribute(iu)||!t.hasAttribute(ou)||setTimeout(n.listen,10)}function d0e(e,n){var t=e.target;if(!!uE(t)&&!(!t.hasAttribute(iu)||!t.hasAttribute(ou))){var r=parseInt(t.getAttribute(iu),10),i=parseInt(t.getAttribute(ou),10),o=n.getCellMeta(r,i);o.readOnly&&e.preventDefault()}}function g0e(e,n){var t=e.target;if(!!uE(t)&&!(!t.hasAttribute(iu)||!t.hasAttribute(ou))){var r=parseInt(t.getAttribute(iu),10),i=parseInt(t.getAttribute(ou),10),o=n.getCellMeta(r,i);if(!o.readOnly){var a=null;e.target.checked?a=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:a=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,n.setDataAtCell(r,i,a)}}}function uE(e){return e.tagName==="INPUT"&&e.getAttribute("type")==="checkbox"}var u2={exports:{}};(function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,o){function a(u,c){if(!i[u]){if(!r[u]){var f=typeof $h=="function"&&$h;if(!c&&f)return f(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[u]={exports:{}};r[u][0].call(d.exports,function(g){return a(r[u][1][g]||g)},d,d.exports,t,r,i,o)}return i[u].exports}for(var s=typeof $h=="function"&&$h,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(t,r,i){(function(o){var a,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,u=Math.floor,c="[BigNumber Error] ",f=c+"Number primitive has more than 15 significant digits: ",h=1e14,d=14,g=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,m=1e9;function w(L){var X=0|L;return 0<L||L===X?X:X-1}function C(L){for(var X,te,oe=1,ie=L.length,de=L[0]+"";oe<ie;){for(X=L[oe++]+"",te=d-X.length;te--;X="0"+X);de+=X}for(ie=de.length;de.charCodeAt(--ie)===48;);return de.slice(0,ie+1||1)}function E(L,X){var te,oe,ie=L.c,de=X.c,y=L.s,S=X.s,b=L.e,_=X.e;if(!y||!S)return null;if(te=ie&&!ie[0],oe=de&&!de[0],te||oe)return te?oe?0:-S:y;if(y!=S)return y;if(te=y<0,oe=b==_,!ie||!de)return oe?0:!ie^te?1:-1;if(!oe)return _<b^te?1:-1;for(S=(b=ie.length)<(_=de.length)?b:_,y=0;y<S;y++)if(ie[y]!=de[y])return ie[y]>de[y]^te?1:-1;return b==_?0:_<b^te?1:-1}function k(L,X,te,oe){if(L<X||te<L||L!==(L<0?l(L):u(L)))throw Error(c+(oe||"Argument")+(typeof L=="number"?L<X||te<L?" out of range: ":" not an integer: ":" not a primitive number: ")+String(L))}function $(L){var X=L.c.length-1;return w(L.e/d)==X&&L.c[X]%2!=0}function D(L,X){return(1<L.length?L.charAt(0)+"."+L.slice(1):L)+(X<0?"e":"e+")+X}function Y(L,X,te){var oe,ie;if(X<0){for(ie=te+".";++X;ie+=te);L=ie+L}else if(++X>(oe=L.length)){for(ie=te,X-=oe;--X;ie+=te);L+=ie}else X<oe&&(L=L.slice(0,X)+"."+L.slice(X));return L}(a=function L(X){var te,oe,ie,de,y,S,b,_,A,N,I=re.prototype={constructor:re,toString:null,valueOf:null},R=new re(1),P=20,H=4,V=-7,q=21,K=-1e7,ce=1e7,ue=!1,ge=1,fe=0,be={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Ee="0123456789abcdefghijklmnopqrstuvwxyz";function re(T,M){var F,Q,U,J,z,j,Z,G,ne=this;if(!(ne instanceof re))return new re(T,M);if(M==null){if(T instanceof re)return ne.s=T.s,ne.e=T.e,void(ne.c=(T=T.c)?T.slice():T);if((j=typeof T=="number")&&0*T==0){if(ne.s=1/T<0?(T=-T,-1):1,T===~~T){for(J=0,z=T;10<=z;z/=10,J++);return ne.e=J,void(ne.c=[T])}G=String(T)}else{if(G=String(T),!s.test(G))return ie(ne,G,j);ne.s=G.charCodeAt(0)==45?(G=G.slice(1),-1):1}-1<(J=G.indexOf("."))&&(G=G.replace(".","")),0<(z=G.search(/e/i))?(J<0&&(J=z),J+=+G.slice(z+1),G=G.substring(0,z)):J<0&&(J=G.length)}else{if(k(M,2,Ee.length,"Base"),G=String(T),M==10)return Ge(ne=new re(T instanceof re?T:G),P+ne.e+1,H);if(j=typeof T=="number"){if(0*T!=0)return ie(ne,G,j,M);if(ne.s=1/T<0?(G=G.slice(1),-1):1,re.DEBUG&&15<G.replace(/^0\.0*|\./,"").length)throw Error(f+T);j=!1}else ne.s=G.charCodeAt(0)===45?(G=G.slice(1),-1):1;for(F=Ee.slice(0,M),J=z=0,Z=G.length;z<Z;z++)if(F.indexOf(Q=G.charAt(z))<0){if(Q=="."){if(J<z){J=Z;continue}}else if(!U&&(G==G.toUpperCase()&&(G=G.toLowerCase())||G==G.toLowerCase()&&(G=G.toUpperCase()))){U=!0,z=-1,J=0;continue}return ie(ne,String(T),j,M)}-1<(J=(G=oe(G,M,10,ne.s)).indexOf("."))?G=G.replace(".",""):J=G.length}for(z=0;G.charCodeAt(z)===48;z++);for(Z=G.length;G.charCodeAt(--Z)===48;);if(G=G.slice(z,++Z)){if(Z-=z,j&&re.DEBUG&&15<Z&&(g<T||T!==u(T)))throw Error(f+ne.s*T);if(ce<(J=J-z-1))ne.c=ne.e=null;else if(J<K)ne.c=[ne.e=0];else{if(ne.e=J,ne.c=[],z=(J+1)%d,J<0&&(z+=d),z<Z){for(z&&ne.c.push(+G.slice(0,z)),Z-=d;z<Z;)ne.c.push(+G.slice(z,z+=d));G=G.slice(z),z=d-G.length}else z-=Z;for(;z--;G+="0");ne.c.push(+G)}}else ne.c=[ne.e=0]}function He(T,M,F,Q){var U,J,z,j,Z;if(F==null?F=H:k(F,0,8),!T.c)return T.toString();if(U=T.c[0],z=T.e,M==null)Z=C(T.c),Z=Q==1||Q==2&&(z<=V||q<=z)?D(Z,z):Y(Z,z,"0");else if(J=(T=Ge(new re(T),M,F)).e,j=(Z=C(T.c)).length,Q==1||Q==2&&(M<=J||J<=V)){for(;j<M;Z+="0",j++);Z=D(Z,J)}else if(M-=z,Z=Y(Z,J,"0"),j<J+1){if(0<--M)for(Z+=".";M--;Z+="0");}else if(0<(M+=J-j))for(J+1==j&&(Z+=".");M--;Z+="0");return T.s<0&&U?"-"+Z:Z}function Te(T,M){for(var F,Q=1,U=new re(T[0]);Q<T.length;Q++){if(!(F=new re(T[Q])).s){U=F;break}M.call(U,F)&&(U=F)}return U}function Ue(T,M,F){for(var Q=1,U=M.length;!M[--U];M.pop());for(U=M[0];10<=U;U/=10,Q++);return(F=Q+F*d-1)>ce?T.c=T.e=null:T.c=F<K?[T.e=0]:(T.e=F,M),T}function Ge(T,M,F,Q){var U,J,z,j,Z,G,ne,pe=T.c,Re=p;if(pe){e:{for(U=1,j=pe[0];10<=j;j/=10,U++);if((J=M-U)<0)J+=d,z=M,ne=(Z=pe[G=0])/Re[U-z-1]%10|0;else if((G=l((J+1)/d))>=pe.length){if(!Q)break e;for(;pe.length<=G;pe.push(0));Z=ne=0,z=(J%=d)-d+(U=1)}else{for(Z=j=pe[G],U=1;10<=j;j/=10,U++);ne=(z=(J%=d)-d+U)<0?0:Z/Re[U-z-1]%10|0}if(Q=Q||M<0||pe[G+1]!=null||(z<0?Z:Z%Re[U-z-1]),Q=F<4?(ne||Q)&&(F==0||F==(T.s<0?3:2)):5<ne||ne==5&&(F==4||Q||F==6&&(0<J?0<z?Z/Re[U-z]:0:pe[G-1])%10&1||F==(T.s<0?8:7)),M<1||!pe[0])return pe.length=0,Q?(M-=T.e+1,pe[0]=Re[(d-M%d)%d],T.e=-M||0):pe[0]=T.e=0,T;if(J==0?(pe.length=G,j=1,G--):(pe.length=G+1,j=Re[d-J],pe[G]=0<z?u(Z/Re[U-z]%Re[z])*j:0),Q)for(;;){if(G==0){for(J=1,z=pe[0];10<=z;z/=10,J++);for(z=pe[0]+=j,j=1;10<=z;z/=10,j++);J!=j&&(T.e++,pe[0]==h&&(pe[0]=1));break}if(pe[G]+=j,pe[G]!=h)break;pe[G--]=0,j=1}for(J=pe.length;pe[--J]===0;pe.pop());}T.e>ce?T.c=T.e=null:T.e<K&&(T.c=[T.e=0])}return T}function Me(T){var M,F=T.e;return F===null?T.toString():(M=C(T.c),M=F<=V||q<=F?D(M,F):Y(M,F,"0"),T.s<0?"-"+M:M)}return re.clone=L,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=function(T){var M,F;if(T!=null){if(typeof T!="object")throw Error(c+"Object expected: "+T);if(T.hasOwnProperty(M="DECIMAL_PLACES")&&(k(F=T[M],0,m,M),P=F),T.hasOwnProperty(M="ROUNDING_MODE")&&(k(F=T[M],0,8,M),H=F),T.hasOwnProperty(M="EXPONENTIAL_AT")&&((F=T[M])&&F.pop?(k(F[0],-m,0,M),k(F[1],0,m,M),V=F[0],q=F[1]):(k(F,-m,m,M),V=-(q=F<0?-F:F))),T.hasOwnProperty(M="RANGE"))if((F=T[M])&&F.pop)k(F[0],-m,-1,M),k(F[1],1,m,M),K=F[0],ce=F[1];else{if(k(F,-m,m,M),!F)throw Error(c+M+" cannot be zero: "+F);K=-(ce=F<0?-F:F)}if(T.hasOwnProperty(M="CRYPTO")){if((F=T[M])!==!!F)throw Error(c+M+" not true or false: "+F);if(F){if(typeof crypto=="undefined"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw ue=!F,Error(c+"crypto unavailable");ue=F}else ue=F}if(T.hasOwnProperty(M="MODULO_MODE")&&(k(F=T[M],0,9,M),ge=F),T.hasOwnProperty(M="POW_PRECISION")&&(k(F=T[M],0,m,M),fe=F),T.hasOwnProperty(M="FORMAT")){if(typeof(F=T[M])!="object")throw Error(c+M+" not an object: "+F);be=F}if(T.hasOwnProperty(M="ALPHABET")){if(typeof(F=T[M])!="string"||/^.$|[+-.\s]|(.).*\1/.test(F))throw Error(c+M+" invalid: "+F);Ee=F}}return{DECIMAL_PLACES:P,ROUNDING_MODE:H,EXPONENTIAL_AT:[V,q],RANGE:[K,ce],CRYPTO:ue,MODULO_MODE:ge,POW_PRECISION:fe,FORMAT:be,ALPHABET:Ee}},re.isBigNumber=function(T){return T instanceof re||T&&T._isBigNumber===!0||!1},re.maximum=re.max=function(){return Te(arguments,I.lt)},re.minimum=re.min=function(){return Te(arguments,I.gt)},re.random=(de=9007199254740992,y=Math.random()*de&2097151?function(){return u(Math.random()*de)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(T){var M,F,Q,U,J,z=0,j=[],Z=new re(R);if(T==null?T=P:k(T,0,m),U=l(T/d),ue)if(crypto.getRandomValues){for(M=crypto.getRandomValues(new Uint32Array(U*=2));z<U;)9e15<=(J=131072*M[z]+(M[z+1]>>>11))?(F=crypto.getRandomValues(new Uint32Array(2)),M[z]=F[0],M[z+1]=F[1]):(j.push(J%1e14),z+=2);z=U/2}else{if(!crypto.randomBytes)throw ue=!1,Error(c+"crypto unavailable");for(M=crypto.randomBytes(U*=7);z<U;)9e15<=(J=281474976710656*(31&M[z])+1099511627776*M[z+1]+4294967296*M[z+2]+16777216*M[z+3]+(M[z+4]<<16)+(M[z+5]<<8)+M[z+6])?crypto.randomBytes(7).copy(M,z):(j.push(J%1e14),z+=7);z=U/7}if(!ue)for(;z<U;)(J=y())<9e15&&(j[z++]=J%1e14);for(U=j[--z],T%=d,U&&T&&(J=p[d-T],j[z]=u(U/J)*J);j[z]===0;j.pop(),z--);if(z<0)j=[Q=0];else{for(Q=-1;j[0]===0;j.splice(0,1),Q-=d);for(z=1,J=j[0];10<=J;J/=10,z++);z<d&&(Q-=d-z)}return Z.e=Q,Z.c=j,Z}),re.sum=function(){for(var T=1,M=arguments,F=new re(M[0]);T<M.length;)F=F.plus(M[T++]);return F},oe=function(){var T="0123456789";function M(F,Q,U,J){for(var z,j,Z=[0],G=0,ne=F.length;G<ne;){for(j=Z.length;j--;Z[j]*=Q);for(Z[0]+=J.indexOf(F.charAt(G++)),z=0;z<Z.length;z++)Z[z]>U-1&&(Z[z+1]==null&&(Z[z+1]=0),Z[z+1]+=Z[z]/U|0,Z[z]%=U)}return Z.reverse()}return function(F,Q,U,J,z){var j,Z,G,ne,pe,Re,xe,Be,qe=F.indexOf("."),Ye=P,Ne=H;for(0<=qe&&(ne=fe,fe=0,F=F.replace(".",""),Re=(Be=new re(Q)).pow(F.length-qe),fe=ne,Be.c=M(Y(C(Re.c),Re.e,"0"),10,U,T),Be.e=Be.c.length),G=ne=(xe=M(F,Q,U,z?(j=Ee,T):(j=T,Ee))).length;xe[--ne]==0;xe.pop());if(!xe[0])return j.charAt(0);if(qe<0?--G:(Re.c=xe,Re.e=G,Re.s=J,xe=(Re=te(Re,Be,Ye,Ne,U)).c,pe=Re.r,G=Re.e),qe=xe[Z=G+Ye+1],ne=U/2,pe=pe||Z<0||xe[Z+1]!=null,pe=Ne<4?(qe!=null||pe)&&(Ne==0||Ne==(Re.s<0?3:2)):ne<qe||qe==ne&&(Ne==4||pe||Ne==6&&1&xe[Z-1]||Ne==(Re.s<0?8:7)),Z<1||!xe[0])F=pe?Y(j.charAt(1),-Ye,j.charAt(0)):j.charAt(0);else{if(xe.length=Z,pe)for(--U;++xe[--Z]>U;)xe[Z]=0,Z||(++G,xe=[1].concat(xe));for(ne=xe.length;!xe[--ne];);for(qe=0,F="";qe<=ne;F+=j.charAt(xe[qe++]));F=Y(F,G,j.charAt(0))}return F}}(),te=function(){function T(Q,U,J){var z,j,Z,G,ne=0,pe=Q.length,Re=U%v,xe=U/v|0;for(Q=Q.slice();pe--;)ne=((j=Re*(Z=Q[pe]%v)+(z=xe*Z+(G=Q[pe]/v|0)*Re)%v*v+ne)/J|0)+(z/v|0)+xe*G,Q[pe]=j%J;return ne&&(Q=[ne].concat(Q)),Q}function M(Q,U,J,z){var j,Z;if(J!=z)Z=z<J?1:-1;else for(j=Z=0;j<J;j++)if(Q[j]!=U[j]){Z=Q[j]>U[j]?1:-1;break}return Z}function F(Q,U,J,z){for(var j=0;J--;)Q[J]-=j,j=Q[J]<U[J]?1:0,Q[J]=j*z+Q[J]-U[J];for(;!Q[0]&&1<Q.length;Q.splice(0,1));}return function(Q,U,J,z,j){var Z,G,ne,pe,Re,xe,Be,qe,Ye,Ne,Ke,yt,Gn,ir,Kn,Ct,_e,le=Q.s==U.s?1:-1,he=Q.c,ke=U.c;if(!(he&&he[0]&&ke&&ke[0]))return new re(Q.s&&U.s&&(he?!ke||he[0]!=ke[0]:ke)?he&&he[0]==0||!ke?0*le:le/0:NaN);for(Ye=(qe=new re(le)).c=[],le=J+(G=Q.e-U.e)+1,j||(j=h,G=w(Q.e/d)-w(U.e/d),le=le/d|0),ne=0;ke[ne]==(he[ne]||0);ne++);if(ke[ne]>(he[ne]||0)&&G--,le<0)Ye.push(1),pe=!0;else{for(ir=he.length,Ct=ke.length,le+=2,1<(Re=u(j/(ke[ne=0]+1)))&&(ke=T(ke,Re,j),he=T(he,Re,j),Ct=ke.length,ir=he.length),Gn=Ct,Ke=(Ne=he.slice(0,Ct)).length;Ke<Ct;Ne[Ke++]=0);_e=ke.slice(),_e=[0].concat(_e),Kn=ke[0],ke[1]>=j/2&&Kn++;do{if(Re=0,(Z=M(ke,Ne,Ct,Ke))<0){if(yt=Ne[0],Ct!=Ke&&(yt=yt*j+(Ne[1]||0)),1<(Re=u(yt/Kn)))for(j<=Re&&(Re=j-1),Be=(xe=T(ke,Re,j)).length,Ke=Ne.length;M(xe,Ne,Be,Ke)==1;)Re--,F(xe,Ct<Be?_e:ke,Be,j),Be=xe.length,Z=1;else Re==0&&(Z=Re=1),Be=(xe=ke.slice()).length;if(Be<Ke&&(xe=[0].concat(xe)),F(Ne,xe,Ke,j),Ke=Ne.length,Z==-1)for(;M(ke,Ne,Ct,Ke)<1;)Re++,F(Ne,Ct<Ke?_e:ke,Ke,j),Ke=Ne.length}else Z===0&&(Re++,Ne=[0]);Ye[ne++]=Re,Ne[0]?Ne[Ke++]=he[Gn]||0:(Ne=[he[Gn]],Ke=1)}while((Gn++<ir||Ne[0]!=null)&&le--);pe=Ne[0]!=null,Ye[0]||Ye.splice(0,1)}if(j==h){for(ne=1,le=Ye[0];10<=le;le/=10,ne++);Ge(qe,J+(qe.e=ne+G*d-1)+1,z,pe)}else qe.e=G,qe.r=+pe;return qe}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,_=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,ie=function(T,M,F,Q){var U,J=F?M:M.replace(N,"");if(A.test(J))T.s=isNaN(J)?null:J<0?-1:1,T.c=T.e=null;else{if(!F&&(J=J.replace(S,function(z,j,Z){return U=(Z=Z.toLowerCase())=="x"?16:Z=="b"?2:8,Q&&Q!=U?z:j}),Q&&(U=Q,J=J.replace(b,"$1").replace(_,"0.$1")),M!=J))return new re(J,U);if(re.DEBUG)throw Error(c+"Not a"+(Q?" base "+Q:"")+" number: "+M);T.c=T.e=T.s=null}},I.absoluteValue=I.abs=function(){var T=new re(this);return T.s<0&&(T.s=1),T},I.comparedTo=function(T,M){return E(this,new re(T,M))},I.decimalPlaces=I.dp=function(T,M){var F,Q,U;if(T!=null)return k(T,0,m),M==null?M=H:k(M,0,8),Ge(new re(this),T+this.e+1,M);if(!(F=this.c))return null;if(Q=((U=F.length-1)-w(this.e/d))*d,U=F[U])for(;U%10==0;U/=10,Q--);return Q<0&&(Q=0),Q},I.dividedBy=I.div=function(T,M){return te(this,new re(T,M),P,H)},I.dividedToIntegerBy=I.idiv=function(T,M){return te(this,new re(T,M),0,1)},I.exponentiatedBy=I.pow=function(T,M){var F,Q,U,J,z,j,Z,G,ne=this;if((T=new re(T)).c&&!T.isInteger())throw Error(c+"Exponent not an integer: "+Me(T));if(M!=null&&(M=new re(M)),z=14<T.e,!ne.c||!ne.c[0]||ne.c[0]==1&&!ne.e&&ne.c.length==1||!T.c||!T.c[0])return G=new re(Math.pow(+Me(ne),z?2-$(T):+Me(T))),M?G.mod(M):G;if(j=T.s<0,M){if(M.c?!M.c[0]:!M.s)return new re(NaN);(Q=!j&&ne.isInteger()&&M.isInteger())&&(ne=ne.mod(M))}else{if(9<T.e&&(0<ne.e||ne.e<-1||(ne.e==0?1<ne.c[0]||z&&24e7<=ne.c[1]:ne.c[0]<8e13||z&&ne.c[0]<=9999975e7)))return J=ne.s<0&&$(T)?-0:0,-1<ne.e&&(J=1/J),new re(j?1/J:J);fe&&(J=l(fe/d+2))}for(Z=z?(F=new re(.5),j&&(T.s=1),$(T)):(U=Math.abs(+Me(T)))%2,G=new re(R);;){if(Z){if(!(G=G.times(ne)).c)break;J?G.c.length>J&&(G.c.length=J):Q&&(G=G.mod(M))}if(U){if((U=u(U/2))===0)break;Z=U%2}else if(Ge(T=T.times(F),T.e+1,1),14<T.e)Z=$(T);else{if((U=+Me(T))==0)break;Z=U%2}ne=ne.times(ne),J?ne.c&&ne.c.length>J&&(ne.c.length=J):Q&&(ne=ne.mod(M))}return Q?G:(j&&(G=R.div(G)),M?G.mod(M):J?Ge(G,fe,H,void 0):G)},I.integerValue=function(T){var M=new re(this);return T==null?T=H:k(T,0,8),Ge(M,M.e+1,T)},I.isEqualTo=I.eq=function(T,M){return E(this,new re(T,M))===0},I.isFinite=function(){return!!this.c},I.isGreaterThan=I.gt=function(T,M){return 0<E(this,new re(T,M))},I.isGreaterThanOrEqualTo=I.gte=function(T,M){return(M=E(this,new re(T,M)))===1||M===0},I.isInteger=function(){return!!this.c&&w(this.e/d)>this.c.length-2},I.isLessThan=I.lt=function(T,M){return E(this,new re(T,M))<0},I.isLessThanOrEqualTo=I.lte=function(T,M){return(M=E(this,new re(T,M)))===-1||M===0},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return 0<this.s},I.isZero=function(){return!!this.c&&this.c[0]==0},I.minus=function(T,M){var F,Q,U,J,z=this,j=z.s;if(M=(T=new re(T,M)).s,!j||!M)return new re(NaN);if(j!=M)return T.s=-M,z.plus(T);var Z=z.e/d,G=T.e/d,ne=z.c,pe=T.c;if(!Z||!G){if(!ne||!pe)return ne?(T.s=-M,T):new re(pe?z:NaN);if(!ne[0]||!pe[0])return pe[0]?(T.s=-M,T):new re(ne[0]?z:H==3?-0:0)}if(Z=w(Z),G=w(G),ne=ne.slice(),j=Z-G){for((U=(J=j<0)?(j=-j,ne):(G=Z,pe)).reverse(),M=j;M--;U.push(0));U.reverse()}else for(Q=(J=(j=ne.length)<(M=pe.length))?j:M,j=M=0;M<Q;M++)if(ne[M]!=pe[M]){J=ne[M]<pe[M];break}if(J&&(U=ne,ne=pe,pe=U,T.s=-T.s),0<(M=(Q=pe.length)-(F=ne.length)))for(;M--;ne[F++]=0);for(M=h-1;j<Q;){if(ne[--Q]<pe[Q]){for(F=Q;F&&!ne[--F];ne[F]=M);--ne[F],ne[Q]+=h}ne[Q]-=pe[Q]}for(;ne[0]==0;ne.splice(0,1),--G);return ne[0]?Ue(T,ne,G):(T.s=H==3?-1:1,T.c=[T.e=0],T)},I.modulo=I.mod=function(T,M){var F,Q,U=this;return T=new re(T,M),!U.c||!T.s||T.c&&!T.c[0]?new re(NaN):!T.c||U.c&&!U.c[0]?new re(U):(ge==9?(Q=T.s,T.s=1,F=te(U,T,0,3),T.s=Q,F.s*=Q):F=te(U,T,0,ge),(T=U.minus(F.times(T))).c[0]||ge!=1||(T.s=U.s),T)},I.multipliedBy=I.times=function(T,M){var F,Q,U,J,z,j,Z,G,ne,pe,Re,xe,Be,qe,Ye,Ne=this,Ke=Ne.c,yt=(T=new re(T,M)).c;if(!(Ke&&yt&&Ke[0]&&yt[0]))return!Ne.s||!T.s||Ke&&!Ke[0]&&!yt||yt&&!yt[0]&&!Ke?T.c=T.e=T.s=null:(T.s*=Ne.s,Ke&&yt?(T.c=[0],T.e=0):T.c=T.e=null),T;for(Q=w(Ne.e/d)+w(T.e/d),T.s*=Ne.s,(Z=Ke.length)<(pe=yt.length)&&(Be=Ke,Ke=yt,yt=Be,U=Z,Z=pe,pe=U),U=Z+pe,Be=[];U--;Be.push(0));for(qe=h,Ye=v,U=pe;0<=--U;){for(F=0,Re=yt[U]%Ye,xe=yt[U]/Ye|0,J=U+(z=Z);U<J;)F=((G=Re*(G=Ke[--z]%Ye)+(j=xe*G+(ne=Ke[z]/Ye|0)*Re)%Ye*Ye+Be[J]+F)/qe|0)+(j/Ye|0)+xe*ne,Be[J--]=G%qe;Be[J]=F}return F?++Q:Be.splice(0,1),Ue(T,Be,Q)},I.negated=function(){var T=new re(this);return T.s=-T.s||null,T},I.plus=function(T,M){var F,Q=this,U=Q.s;if(M=(T=new re(T,M)).s,!U||!M)return new re(NaN);if(U!=M)return T.s=-M,Q.minus(T);var J=Q.e/d,z=T.e/d,j=Q.c,Z=T.c;if(!J||!z){if(!j||!Z)return new re(U/0);if(!j[0]||!Z[0])return Z[0]?T:new re(j[0]?Q:0*U)}if(J=w(J),z=w(z),j=j.slice(),U=J-z){for((F=0<U?(z=J,Z):(U=-U,j)).reverse();U--;F.push(0));F.reverse()}for((U=j.length)-(M=Z.length)<0&&(F=Z,Z=j,j=F,M=U),U=0;M;)U=(j[--M]=j[M]+Z[M]+U)/h|0,j[M]=h===j[M]?0:j[M]%h;return U&&(j=[U].concat(j),++z),Ue(T,j,z)},I.precision=I.sd=function(T,M){var F,Q,U;if(T!=null&&T!==!!T)return k(T,1,m),M==null?M=H:k(M,0,8),Ge(new re(this),T,M);if(!(F=this.c))return null;if(Q=(U=F.length-1)*d+1,U=F[U]){for(;U%10==0;U/=10,Q--);for(U=F[0];10<=U;U/=10,Q++);}return T&&this.e+1>Q&&(Q=this.e+1),Q},I.shiftedBy=function(T){return k(T,-g,g),this.times("1e"+T)},I.squareRoot=I.sqrt=function(){var T,M,F,Q,U,J=this,z=J.c,j=J.s,Z=J.e,G=P+4,ne=new re("0.5");if(j!==1||!z||!z[0])return new re(!j||j<0&&(!z||z[0])?NaN:z?J:1/0);if((F=(j=Math.sqrt(+Me(J)))==0||j==1/0?(((M=C(z)).length+Z)%2==0&&(M+="0"),j=Math.sqrt(+M),Z=w((Z+1)/2)-(Z<0||Z%2),new re(M=j==1/0?"1e"+Z:(M=j.toExponential()).slice(0,M.indexOf("e")+1)+Z)):new re(j+"")).c[0]){for((j=(Z=F.e)+G)<3&&(j=0);;)if(U=F,F=ne.times(U.plus(te(J,U,G,1))),C(U.c).slice(0,j)===(M=C(F.c)).slice(0,j)){if(F.e<Z&&--j,(M=M.slice(j-3,j+1))!="9999"&&(Q||M!="4999")){+M&&(+M.slice(1)||M.charAt(0)!="5")||(Ge(F,F.e+P+2,1),T=!F.times(F).eq(J));break}if(!Q&&(Ge(U,U.e+P+2,0),U.times(U).eq(J))){F=U;break}G+=4,j+=4,Q=1}}return Ge(F,F.e+P+1,H,T)},I.toExponential=function(T,M){return T!=null&&(k(T,0,m),T++),He(this,T,M,1)},I.toFixed=function(T,M){return T!=null&&(k(T,0,m),T=T+this.e+1),He(this,T,M)},I.toFormat=function(T,M,F){var Q;if(F==null)T!=null&&M&&typeof M=="object"?(F=M,M=null):T&&typeof T=="object"?(F=T,T=M=null):F=be;else if(typeof F!="object")throw Error(c+"Argument not an object: "+F);if(Q=this.toFixed(T,M),this.c){var U,J=Q.split("."),z=+F.groupSize,j=+F.secondaryGroupSize,Z=F.groupSeparator||"",G=J[0],ne=J[1],pe=this.s<0,Re=pe?G.slice(1):G,xe=Re.length;if(j&&(U=z,z=j,xe-=j=U),0<z&&0<xe){for(U=xe%z||z,G=Re.substr(0,U);U<xe;U+=z)G+=Z+Re.substr(U,z);0<j&&(G+=Z+Re.slice(U)),pe&&(G="-"+G)}Q=ne?G+(F.decimalSeparator||"")+((j=+F.fractionGroupSize)?ne.replace(new RegExp("\\d{"+j+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):ne):G}return(F.prefix||"")+Q+(F.suffix||"")},I.toFraction=function(T){var M,F,Q,U,J,z,j,Z,G,ne,pe,Re,xe=this,Be=xe.c;if(T!=null&&(!(j=new re(T)).isInteger()&&(j.c||j.s!==1)||j.lt(R)))throw Error(c+"Argument "+(j.isInteger()?"out of range: ":"not an integer: ")+Me(j));if(!Be)return new re(xe);for(M=new re(R),G=F=new re(R),Q=Z=new re(R),Re=C(Be),J=M.e=Re.length-xe.e-1,M.c[0]=p[(z=J%d)<0?d+z:z],T=!T||0<j.comparedTo(M)?0<J?M:G:j,z=ce,ce=1/0,j=new re(Re),Z.c[0]=0;ne=te(j,M,0,1),(U=F.plus(ne.times(Q))).comparedTo(T)!=1;)F=Q,Q=U,G=Z.plus(ne.times(U=G)),Z=U,M=j.minus(ne.times(U=M)),j=U;return U=te(T.minus(F),Q,0,1),Z=Z.plus(U.times(G)),F=F.plus(U.times(Q)),Z.s=G.s=xe.s,pe=te(G,Q,J*=2,H).minus(xe).abs().comparedTo(te(Z,F,J,H).minus(xe).abs())<1?[G,Q]:[Z,F],ce=z,pe},I.toNumber=function(){return+Me(this)},I.toPrecision=function(T,M){return T!=null&&k(T,1,m),He(this,T,M,2)},I.toString=function(T){var M,F=this,Q=F.s,U=F.e;return U===null?Q?(M="Infinity",Q<0&&(M="-"+M)):M="NaN":(M=T==null?U<=V||q<=U?D(C(F.c),U):Y(C(F.c),U,"0"):T===10?Y(C((F=Ge(new re(F),P+U+1,H)).c),F.e,"0"):(k(T,2,Ee.length,"Base"),oe(Y(C(F.c),U,"0"),10,T,Q,!0)),Q<0&&F.c[0]&&(M="-"+M)),M},I.valueOf=I.toJSON=function(){return Me(this)},I._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(I[Symbol.toStringTag]="BigNumber",I[Symbol.for("nodejs.util.inspect.custom")]=I.valueOf),X!=null&&re.set(X),re}()).default=a.BigNumber=a,r!==void 0&&r.exports?r.exports=a:(o||(o=typeof self!="undefined"&&self?self:window),o.BigNumber=a)})(this)},{}],2:[function(t,r,i){r.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(o){var a=o%10;return~~(o%100/10)==1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(t,r,i){function o(w,C){return function(E){if(Array.isArray(E))return E}(w)||function(E,k){var $=[],D=!0,Y=!1,L=void 0;try{for(var X,te=E[Symbol.iterator]();!(D=(X=te.next()).done)&&($.push(X.value),!k||$.length!==k);D=!0);}catch(oe){Y=!0,L=oe}finally{try{D||te.return==null||te.return()}finally{if(Y)throw L}}return $}(w,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=t("./globalState"),s=t("./validating"),l=t("./parsing"),u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c={general:{scale:1024,suffixes:u,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:u,marker:"d"}},f={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function h(w){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},E=2<arguments.length?arguments[2]:void 0;if(typeof C=="string"&&(C=l.parseFormat(C)),!s.validateFormat(C))return"ERROR: invalid format";var k=C.prefix||"",$=C.postfix||"",D=function(Y,L,X){switch(L.output){case"currency":return L=m(L,a.currentCurrencyDefaultFormat()),function(Ee,re,He){var Te=He.currentCurrency(),Ue=Object.assign({},f,re),Ge=void 0,Me="",T=!!Ue.totalLength||!!Ue.forceAverage||Ue.average,M=re.currencyPosition||Te.position,F=re.currencySymbol||Te.symbol;Ue.spaceSeparated&&(Me=" "),M==="infix"&&(Ge=Me+F+Me);var Q=v({instance:Ee,providedFormat:re,state:He,decimalSeparator:Ge});return M==="prefix"&&(Q=Ee._value<0&&Ue.negative==="sign"?"-".concat(Me).concat(F).concat(Q.slice(1)):F+Me+Q),M&&M!=="postfix"||(Q=Q+(Me=T?"":Me)+F),Q}(Y,L,a);case"percent":return L=m(L,a.currentPercentageDefaultFormat()),function(Ee,re,He,Te){var Ue=re.prefixSymbol,Ge=v({instance:Te(100*Ee._value),providedFormat:re,state:He}),Me=Object.assign({},f,re);return Ue?"%".concat(Me.spaceSeparated?" ":"").concat(Ge):"".concat(Ge).concat(Me.spaceSeparated?" ":"","%")}(Y,L,a,X);case"byte":return L=m(L,a.currentByteDefaultFormat()),R=Y,H=a,V=X,q=(P=L).base||"binary",K=c[q],ce=d(R._value,K.suffixes,K.scale),ue=ce.value,ge=ce.suffix,fe=v({instance:V(ue),providedFormat:P,state:H,defaults:H.currentByteDefaultFormat()}),be=H.currentAbbreviations(),"".concat(fe).concat(be.spaced?" ":"").concat(ge);case"time":return L=m(L,a.currentTimeDefaultFormat()),_=Y,A=Math.floor(_._value/60/60),N=Math.floor((_._value-60*A*60)/60),I=Math.round(_._value-60*A*60-60*N),"".concat(A,":").concat(N<10?"0":"").concat(N,":").concat(I<10?"0":"").concat(I);case"ordinal":return L=m(L,a.currentOrdinalDefaultFormat()),te=Y,oe=L,de=(ie=a).currentOrdinal(),y=Object.assign({},f,oe),S=v({instance:te,providedFormat:oe,state:ie}),b=de(te._value),"".concat(S).concat(y.spaceSeparated?" ":"").concat(b);case"number":default:return v({instance:Y,providedFormat:L,numbro:X})}var te,oe,ie,de,y,S,b,_,A,N,I,R,P,H,V,q,K,ce,ue,ge,fe,be}(w,C,E);return D=(D=k+D)+$}function d(w,C,E){var k=C[0],$=Math.abs(w);if(E<=$){for(var D=1;D<C.length;++D){var Y=Math.pow(E,D),L=Math.pow(E,D+1);if(Y<=$&&$<L){k=C[D],w/=Y;break}}k===C[0]&&(w/=Math.pow(E,C.length-1),k=C[C.length-1])}return{value:w,suffix:k}}function g(w){for(var C="",E=0;E<w;E++)C+="0";return C}function p(w,C){return w.toString().indexOf("e")!==-1?function(E,k){var $=E.toString(),D=o($.split("e"),2),Y=D[0],L=D[1],X=o(Y.split("."),2),te=X[0],oe=X[1],ie=oe===void 0?"":oe;if(0<+L)$=te+ie+g(L-ie.length);else{var de=".";de=+te<0?"-0".concat(de):"0".concat(de);var y=(g(-L-1)+Math.abs(te)+ie).substr(0,k);y.length<k&&(y+=g(k-y.length)),$=de+y}return 0<+L&&0<k&&($+=".".concat(g(k))),$}(w,C):(Math.round(+"".concat(w,"e+").concat(C))/Math.pow(10,C)).toFixed(C)}function v(w){var C=w.instance,E=w.providedFormat,k=w.state,$=k===void 0?a:k,D=w.decimalSeparator,Y=w.defaults,L=Y===void 0?$.currentDefaults():Y,X=C._value;if(X===0&&$.hasZeroFormat())return $.getZeroFormat();if(!isFinite(X))return X.toString();var te,oe,ie,de,y,S,b,_,A=Object.assign({},f,L,E),N=A.totalLength,I=N?0:A.characteristic,R=A.optionalCharacteristic,P=A.forceAverage,H=!!N||!!P||A.average,V=N?-1:H&&E.mantissa===void 0?0:A.mantissa,q=!N&&(E.optionalMantissa===void 0?V===-1:A.optionalMantissa),K=A.trimMantissa,ce=A.thousandSeparated,ue=A.spaceSeparated,ge=A.negative,fe=A.forceSign,be=A.exponential,Ee="";if(H){var re=function(T){var M=T.value,F=T.forceAverage,Q=T.abbreviations,U=T.spaceSeparated,J=U!==void 0&&U,z=T.totalLength,j=z===void 0?0:z,Z="",G=Math.abs(M),ne=-1;if(G>=Math.pow(10,12)&&!F||F==="trillion"?(Z=Q.trillion,M/=Math.pow(10,12)):G<Math.pow(10,12)&&G>=Math.pow(10,9)&&!F||F==="billion"?(Z=Q.billion,M/=Math.pow(10,9)):G<Math.pow(10,9)&&G>=Math.pow(10,6)&&!F||F==="million"?(Z=Q.million,M/=Math.pow(10,6)):(G<Math.pow(10,6)&&G>=Math.pow(10,3)&&!F||F==="thousand")&&(Z=Q.thousand,M/=Math.pow(10,3)),Z&&(Z=(J?" ":"")+Z),j){var pe=M.toString().split(".")[0];ne=Math.max(j-pe.length,0)}return{value:M,abbreviation:Z,mantissaPrecision:ne}}({value:X,forceAverage:P,abbreviations:$.currentAbbreviations(),spaceSeparated:ue,totalLength:N});X=re.value,Ee+=re.abbreviation,N&&(V=re.mantissaPrecision)}if(be){var He=(oe=(te={value:X,characteristicPrecision:I}).value,ie=te.characteristicPrecision,de=ie===void 0?0:ie,y=o(oe.toExponential().split("e"),2),S=y[0],b=y[1],_=+S,de&&1<de&&(_*=Math.pow(10,de-1),b=0<=(b=+b-(de-1))?"+".concat(b):b),{value:_,abbreviation:"e".concat(b)});X=He.value,Ee=He.abbreviation+Ee}var Te,Ue,Ge,Me=function(T,M,F,Q,U){if(Q===-1)return T;var J=p(M,Q),z=o(J.toString().split("."),2),j=z[0],Z=z[1],G=Z===void 0?"":Z;if(G.match(/^0+$/)&&(F||U))return j;var ne=G.match(/0+$/);return U&&ne?"".concat(j,".").concat(G.toString().slice(0,ne.index)):J.toString()}(X.toString(),X,q,V,K);return Me=function(T,M,F,Q,U){var J=Q.currentDelimiters(),z=J.thousands;U=U||J.decimal;var j=J.thousandsSize||3,Z=T.toString(),G=Z.split(".")[0],ne=Z.split(".")[1];return F&&(M<0&&(G=G.slice(1)),function(pe,Re){for(var xe=[],Be=0,qe=pe;0<qe;qe--)Be===Re&&(xe.unshift(qe),Be=0),Be++;return xe}(G.length,j).forEach(function(pe,Re){G=G.slice(0,pe+Re)+z+G.slice(pe+Re)}),M<0&&(G="-".concat(G))),Z=ne?G+U+ne:G}(Me=function(T,M,F,Q){var U=T,J=o(U.toString().split("."),2),z=J[0],j=J[1];if(z.match(/^-?0$/)&&F)return j?"".concat(z.replace("0",""),".").concat(j):z.replace("0","");if(z.length<Q)for(var Z=Q-z.length,G=0;G<Z;G++)U="0".concat(U);return U.toString()}(Me,0,R,I),X,ce,$,D),(H||be)&&(Me=Me+Ee),(fe||X<0)&&(Te=Me,Ge=ge,Me=(Ue=X)===0?Te:+Te==0?Te.replace("-",""):0<Ue?"+".concat(Te):Ge==="sign"?Te:"(".concat(Te.replace("-",""),")")),Me}function m(w,C){if(!w)return C;var E=Object.keys(w);return E.length===1&&E[0]==="output"?C:w}r.exports=function(w){return{format:function(){for(var C=arguments.length,E=new Array(C),k=0;k<C;k++)E[k]=arguments[k];return h.apply(void 0,E.concat([w]))},getByteUnit:function(){for(var C=arguments.length,E=new Array(C),k=0;k<C;k++)E[k]=arguments[k];return function($){var D=c.general;return d($._value,D.suffixes,D.scale).suffix}.apply(void 0,E.concat([w]))},getBinaryByteUnit:function(){for(var C=arguments.length,E=new Array(C),k=0;k<C;k++)E[k]=arguments[k];return function($){var D=c.binary;return d($._value,D.suffixes,D.scale).suffix}.apply(void 0,E.concat([w]))},getDecimalByteUnit:function(){for(var C=arguments.length,E=new Array(C),k=0;k<C;k++)E[k]=arguments[k];return function($){var D=c.decimal;return d($._value,D.suffixes,D.scale).suffix}.apply(void 0,E.concat([w]))},formatOrDefault:m}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(t,r,i){var o=t("./en-US"),a=t("./validating"),s=t("./parsing"),l={},u=void 0,c={},f=null,h={};function d(p){u=p}function g(){return c[u]}l.languages=function(){return Object.assign({},c)},l.currentLanguage=function(){return u},l.currentCurrency=function(){return g().currency},l.currentAbbreviations=function(){return g().abbreviations},l.currentDelimiters=function(){return g().delimiters},l.currentOrdinal=function(){return g().ordinal},l.currentDefaults=function(){return Object.assign({},g().defaults,h)},l.currentOrdinalDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().ordinalFormat)},l.currentByteDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().byteFormat)},l.currentPercentageDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().percentageFormat)},l.currentCurrencyDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().currencyFormat)},l.currentTimeDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().timeFormat)},l.setDefaults=function(p){p=s.parseFormat(p),a.validateFormat(p)&&(h=p)},l.getZeroFormat=function(){return f},l.setZeroFormat=function(p){return f=typeof p=="string"?p:null},l.hasZeroFormat=function(){return f!==null},l.languageData=function(p){if(p){if(c[p])return c[p];throw new Error('Unknown tag "'.concat(p,'"'))}return g()},l.registerLanguage=function(p){var v=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!a.validateLanguage(p))throw new Error("Invalid language data");c[p.languageTag]=p,v&&d(p.languageTag)},l.setLanguage=function(p){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o.languageTag;if(!c[p]){var m=p.split("-")[0],w=Object.keys(c).find(function(C){return C.split("-")[0]===m});return c[w]?void d(w):void d(v)}d(p)},l.registerLanguage(o),u=o.languageTag,r.exports=l},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(t,r,i){r.exports=function(o){return{loadLanguagesInNode:function(a){return s=o,void a.forEach(function(l){var u=void 0;try{u=t("../languages/".concat(l))}catch{console.error('Unable to load "'.concat(l,'". No matching language file found.'))}u&&s.registerLanguage(u)});var s}}}},{}],6:[function(t,r,i){var o=t("bignumber.js");function a(s,l,u){var c=new o(s._value),f=l;return u.isNumbro(l)&&(f=l._value),f=new o(f),s._value=c.minus(f).toNumber(),s}r.exports=function(s){return{add:function(l,u){return f=u,h=s,d=new o((c=l)._value),g=f,h.isNumbro(f)&&(g=f._value),g=new o(g),c._value=d.plus(g).toNumber(),c;var c,f,h,d,g},subtract:function(l,u){return a(l,u,s)},multiply:function(l,u){return f=u,h=s,d=new o((c=l)._value),g=f,h.isNumbro(f)&&(g=f._value),g=new o(g),c._value=d.times(g).toNumber(),c;var c,f,h,d,g},divide:function(l,u){return f=u,h=s,d=new o((c=l)._value),g=f,h.isNumbro(f)&&(g=f._value),g=new o(g),c._value=d.dividedBy(g).toNumber(),c;var c,f,h,d,g},set:function(l,u){return c=l,h=f=u,s.isNumbro(f)&&(h=f._value),c._value=h,c;var c,f,h},difference:function(l,u){return c=u,a(h=(f=s)(l._value),c,f),Math.abs(h._value);var c,f,h}}}},{"bignumber.js":1}],7:[function(t,r,i){function o(v,m){for(var w=0;w<m.length;w++){var C=m[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}var a=t("./globalState"),s=t("./validating"),l=t("./loading")(p),u=t("./unformatting"),c=t("./formatting")(p),f=t("./manipulating")(p),h=t("./parsing"),d=function(){function v(C){(function(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")})(this,v),this._value=C}var m,w;return m=v,(w=[{key:"clone",value:function(){return p(this._value)}},{key:"format",value:function(){var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return c.format(this,C)}},{key:"formatCurrency",value:function(C){return typeof C=="string"&&(C=h.parseFormat(C)),(C=c.formatOrDefault(C,a.currentCurrencyDefaultFormat())).output="currency",c.format(this,C)}},{key:"formatTime",value:function(){var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return C.output="time",c.format(this,C)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(C){return f.difference(this,C)}},{key:"add",value:function(C){return f.add(this,C)}},{key:"subtract",value:function(C){return f.subtract(this,C)}},{key:"multiply",value:function(C){return f.multiply(this,C)}},{key:"divide",value:function(C){return f.divide(this,C)}},{key:"set",value:function(C){return f.set(this,g(C))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&o(m.prototype,w),v}();function g(v){var m=v;return p.isNumbro(v)?m=v._value:typeof v=="string"?m=p.unformat(v):isNaN(v)&&(m=NaN),m}function p(v){return new d(g(v))}p.version="2.1.2",p.isNumbro=function(v){return v instanceof d},p.language=a.currentLanguage,p.registerLanguage=a.registerLanguage,p.setLanguage=a.setLanguage,p.languages=a.languages,p.languageData=a.languageData,p.zeroFormat=a.setZeroFormat,p.defaultFormat=a.currentDefaults,p.setDefaults=a.setDefaults,p.defaultCurrencyFormat=a.currentCurrencyDefaultFormat,p.validate=s.validate,p.loadLanguagesInNode=l.loadLanguagesInNode,p.unformat=u.unformat,r.exports=p},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(t,r,i){r.exports={parseFormat:function(o){var a,s,l,u,c,f,h,d,g,p,v,m,w,C,E,k,$,D,Y,L,X=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof o!="string"?o:(s=X,o=(l=(a=o).match(/^{([^}]*)}/))?(s.prefix=l[1],a.slice(l[0].length)):a,c=X,function(te,oe){if(te.indexOf("$")===-1){if(te.indexOf("%")===-1)return te.indexOf("bd")!==-1?(oe.output="byte",oe.base="general"):te.indexOf("b")!==-1?(oe.output="byte",oe.base="binary"):te.indexOf("d")!==-1?(oe.output="byte",oe.base="decimal"):te.indexOf(":")===-1?te.indexOf("o")!==-1&&(oe.output="ordinal"):oe.output="time";oe.output="percent"}else oe.output="currency"}(o=(f=(u=o).match(/{([^}]*)}$/))?(c.postfix=f[1],u.slice(0,-f[0].length)):u,X),h=X,(d=o.match(/[1-9]+[0-9]*/))&&(h.totalLength=+d[0]),g=X,(p=o.split(".")[0].match(/0+/))&&(g.characteristic=p[0].length),function(te,oe){if(te.indexOf(".")!==-1){var ie=te.split(".")[0];oe.optionalCharacteristic=ie.indexOf("0")===-1}}(o,X),v=X,o.indexOf("a")!==-1&&(v.average=!0),w=X,(m=o).indexOf("K")!==-1?w.forceAverage="thousand":m.indexOf("M")!==-1?w.forceAverage="million":m.indexOf("B")!==-1?w.forceAverage="billion":m.indexOf("T")!==-1&&(w.forceAverage="trillion"),function(te,oe){var ie=te.split(".")[1];if(ie){var de=ie.match(/0+/);de&&(oe.mantissa=de[0].length)}}(o,X),E=X,(C=o).match(/\[\.]/)?E.optionalMantissa=!0:C.match(/\./)&&(E.optionalMantissa=!1),k=X,o.indexOf(",")!==-1&&(k.thousandSeparated=!0),$=X,o.indexOf(" ")!==-1&&($.spaceSeparated=!0),Y=X,(D=o).match(/^\+?\([^)]*\)$/)&&(Y.negative="parenthesis"),D.match(/^\+?-/)&&(Y.negative="sign"),L=X,o.match(/^\+/)&&(L.forceSign=!0),X)}}},{}],9:[function(t,r,i){var o=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function a(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",f=3<arguments.length?arguments[3]:void 0,h=4<arguments.length?arguments[4]:void 0,d=5<arguments.length?arguments[5]:void 0,g=6<arguments.length?arguments[6]:void 0;if(l!=="")return l===h?0:function p(v,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",C=3<arguments.length?arguments[3]:void 0,E=4<arguments.length?arguments[4]:void 0,k=5<arguments.length?arguments[5]:void 0,$=6<arguments.length?arguments[6]:void 0;if(!isNaN(+v))return+v;var D="",Y=v.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Y!==v)return-1*p(Y,m,w,C,E,k,$);for(var L=0;L<o.length;L++){var X=o[L];if((D=v.replace(X.key,""))!==v)return p(D,m,w,C,E,k,$)*X.factor}if((D=v.replace("%",""))!==v)return p(D,m,w,C,E,k,$)/100;var te=parseFloat(v);if(!isNaN(te)){var oe=C(te);if(oe&&oe!=="."&&(D=v.replace(new RegExp("".concat(a(oe),"$")),""))!==v)return p(D,m,w,C,E,k,$);var ie={};Object.keys(k).forEach(function(N){ie[k[N]]=N});for(var de=Object.keys(ie).sort().reverse(),y=de.length,S=0;S<y;S++){var b=de[S],_=ie[b];if((D=v.replace(b,""))!==v){var A=void 0;switch(_){case"thousand":A=Math.pow(10,3);break;case"million":A=Math.pow(10,6);break;case"billion":A=Math.pow(10,9);break;case"trillion":A=Math.pow(10,12)}return p(D,m,w,C,E,k,$)*A}}}}(function(p,v){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",w=p.replace(m,"");return w=(w=w.replace(new RegExp("([0-9])".concat(a(v.thousands),"([0-9])"),"g"),"$1$2")).replace(v.decimal,".")}(l,u,c),u,c,f,h,d,g)}r.exports={unformat:function(l,u){var c,f,h,d=t("./globalState"),g=d.currentDelimiters(),p=d.currentCurrency().symbol,v=d.currentOrdinal(),m=d.getZeroFormat(),w=d.currentAbbreviations(),C=void 0;if(typeof l=="string")C=function(E,k){if(!E.indexOf(":")||k.thousands===":")return!1;var $=E.split(":");if($.length!==3)return!1;var D=+$[0],Y=+$[1],L=+$[2];return!isNaN(D)&&!isNaN(Y)&&!isNaN(L)}(l,g)?(c=l.split(":"),f=+c[0],h=+c[1],+c[2]+60*h+3600*f):s(l,g,p,v,m,w,u);else{if(typeof l!="number")return;C=l}if(C!==void 0)return C}}},{"./globalState":4}],10:[function(t,r,i){function o(g){return function(p){if(Array.isArray(p)){for(var v=0,m=new Array(p.length);v<p.length;v++)m[v]=p[v];return m}}(g)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}var s=t("./unformatting"),l=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,u={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(g,p){return p.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(g){return g.output==="byte"}},characteristic:{type:"number",restriction:function(g){return 0<=g},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(g){return 0<=g},message:"value must be positive"},{restriction:function(g,p){return!p.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(g){return 0<=g},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(g,p){return p.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(g){return g.match(l)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function f(g){return!!s.unformat(g)}function h(g,p,v){var m=3<arguments.length&&arguments[3]!==void 0&&arguments[3],w=Object.keys(g).map(function(C){if(!p[C])return console.error("".concat(v," Invalid key: ").concat(C)),!1;var E=g[C],k=p[C];if(typeof k=="string"&&(k={type:k}),k.type==="format"){if(!h(E,u,"[Validate ".concat(C,"]"),!0))return!1}else if(a(E)!==k.type)return console.error("".concat(v," ").concat(C,' type mismatched: "').concat(k.type,'" expected, "').concat(a(E),'" provided')),!1;if(k.restrictions&&k.restrictions.length)for(var $=k.restrictions.length,D=0;D<$;D++){var Y=k.restrictions[D],L=Y.restriction,X=Y.message;if(!L(E,g))return console.error("".concat(v," ").concat(C," invalid value: ").concat(X)),!1}return k.restriction&&!k.restriction(E,g)?(console.error("".concat(v," ").concat(C," invalid value: ").concat(k.message)),!1):k.validValues&&k.validValues.indexOf(E)===-1?(console.error("".concat(v," ").concat(C," invalid value: must be among ").concat(JSON.stringify(k.validValues),', "').concat(E,'" provided')),!1):!(k.children&&!h(E,k.children,"[Validate ".concat(C,"]")))});return m||w.push.apply(w,o(Object.keys(p).map(function(C){var E=p[C];if(typeof E=="string"&&(E={type:E}),E.mandatory){var k=E.mandatory;if(typeof k=="function"&&(k=k(g)),k&&g[C]===void 0)return console.error("".concat(v,' Missing mandatory key "').concat(C,'"')),!1}return!0}))),w.reduce(function(C,E){return C&&E},!0)}function d(g){return h(g,u,"[Validate format]")}r.exports={validate:function(g,p){var v=f(g),m=d(p);return v&&m},validateFormat:d,validateInput:f,validateLanguage:function(g){return h(g,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(u2);var ps=u2.exports,p0e="numeric";function cE(e,n,t,r,i,o,a){var s=o;if(dr(s)){var l=a.numericFormat,u=l&&l.culture||"-",c=l&&l.pattern,f=a.className||"",h=f.length?f.split(" "):[];if(typeof u!="undefined"&&!ps.languages()[u]){var d=u.replace("-",""),g=ps.allLanguages?ps.allLanguages[u]:ps[d];g&&ps.registerLanguage(g)}ps.setLanguage(u),s=ps(s).format(c||"0"),h.indexOf("htLeft")<0&&h.indexOf("htCenter")<0&&h.indexOf("htRight")<0&&h.indexOf("htJustify")<0&&h.push("htRight"),h.indexOf("htNumeric")<0&&h.push("htNumeric"),a.className=h.join(" ")}fa(e,n,t,r,i,s,a)}cE.RENDERER_TYPE=p0e;var v0e="password";function fE(e,n,t,r,i,o,a){fa.apply(this,[e,n,t,r,i,o,a]);var s=a.hashLength||n.innerHTML.length,l=a.hashSymbol||"*",u="";Le(s-1,function(){u+=l}),ta(n,u)}fE.RENDERER_TYPE=v0e;function m0e(){Ji(ru),Ji(Zf),Ji(lE),Ji(sE),Ji(cE),Ji(fE),Ji(fa)}var y0e="autocomplete";function Jv(e,n){var t=e;if(t==null&&(t=""),this.allowEmpty&&t===""){n(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(t,c2(t,n)):c2(t,n)(this.source):n(!0)}Jv.VALIDATOR_TYPE=y0e;function c2(e,n){var t=e;return function(r){for(var i=!1,o=0,a=r.length;o<a;o++)if(t===r[o]){i=!0;break}n(i)}}var b0e=Object.is||function(n,t){return n===t?n!==0||1/n==1/t:n!=n&&t!=t},w0e=En,_0e=zd,S0e=rn,C0e=Zn,f2=b0e,h2=mn,R0e=Ha,O0e=Yd;_0e("search",function(e,n,t){return[function(i){var o=C0e(this),a=i==null?void 0:R0e(i,e);return a?w0e(a,i,o):new RegExp(i)[e](h2(o))},function(r){var i=S0e(this),o=h2(r),a=t(n,i,o);if(a.done)return a.value;var s=i.lastIndex;f2(s,0)||(i.lastIndex=0);var l=O0e(i,o);return f2(i.lastIndex,s)||(i.lastIndex=s),l===null?-1:l.index}]});function d2(e){var n=new Date(e);return isNaN(new Date("".concat(e,"T00:00")).getDate())?n:new Date(n.getTime()+n.getTimezoneOffset()*6e4)}var E0e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getNormalizedDate:d2}),T0e="date";function hE(e,n){var t=SH(QB,this.instance),r=e,i=!0;r==null&&(r="");var o=we(r,this.dateFormat||t.defaultDateFormat,!0).isValid(),a=we(new Date(r)).isValid()||o;if(this.allowEmpty&&r===""&&(a=!0,o=!0),a||(i=!1),!a&&o&&(i=!0),a&&!o)if(this.correctFormat===!0){var s=k0e(r,this.dateFormat),l=this.instance.toVisualRow(this.row),u=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(l,u,s,"dateValidator"),i=!0}else i=!1;n(i)}hE.VALIDATOR_TYPE=T0e;function k0e(e,n){var t=we(d2(e)),r=we(e,n),i=e.search(/[A-z]/g)>-1,o;return t.isValid()&&t.format("x")===r.format("x")||!r.isValid()||i?o=t:o=r,o.format(n)}var A0e="numeric";function dE(e,n){var t=e;t==null&&(t=""),this.allowEmpty&&t===""?n(!0):n(t===""?!1:dr(e))}dE.VALIDATOR_TYPE=A0e;var M0e=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],x0e="time";function gE(e,n){var t=this.timeFormat||"h:mm:ss a",r=!0,i=e;i===null&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;var o=/^\d{1,2}$/.test(i);o&&(i+=":00");var a=we(i,M0e,!0).isValid()?we(i):we(i,t),s=a.isValid(),l=we(i,t,!0).isValid()&&!o;if(this.allowEmpty&&i===""&&(s=!0,l=!0),s||(r=!1),!s&&l&&(r=!0),s&&!l)if(this.correctFormat===!0){var u=a.format(t),c=this.instance.toVisualRow(this.row),f=this.instance.toVisualColumn(this.col);this.instance.setDataAtCell(c,f,u,"timeValidator"),r=!0}else r=!1;n(r)}gE.VALIDATOR_TYPE=x0e;function P0e(){Yl(Jv),Yl(hE),Yl(dE),Yl(gE)}var I0e="autocomplete",$0e={CELL_TYPE:I0e,editor:QO,renderer:ru,validator:Jv},D0e="checkbox",N0e={CELL_TYPE:D0e,editor:KB,renderer:lE},L0e="date",H0e={CELL_TYPE:L0e,editor:JB,renderer:ru,validator:hE},F0e="dropdown",B0e={CELL_TYPE:F0e,editor:nE,renderer:ru,validator:Jv},V0e="handsontable",W0e={CELL_TYPE:V0e,editor:KO,renderer:ru},j0e="numeric",U0e={CELL_TYPE:j0e,editor:n2,renderer:cE,validator:dE,dataType:"number"},z0e="password",Y0e={CELL_TYPE:z0e,editor:i2,renderer:fE,copyable:!1},G0e="time",K0e={CELL_TYPE:G0e,editor:gs,renderer:fa,validator:gE};function X0e(){qr($0e),qr(N0e),qr(H0e),qr(B0e),qr(W0e),qr(U0e),qr(Y0e),qr(UB),qr(K0e)}function q0e(e,n){return eRe(e)||J0e(e,n)||Q0e(e,n)||Z0e()}function Z0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(e,n){if(!!e){if(typeof e=="string")return g2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g2(e,n)}}function g2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function J0e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function eRe(e){if(Array.isArray(e))return e}function tRe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nRe(e,n,t){return n&&p2(e.prototype,n),t&&p2(e,t),e}var v2=new Map([["plugin",ame],["cell-type",oF],["editor",_H],["renderer",ZH],["validator",QH]]),rRe="base",vs=new WeakMap,pE=[],wi=null,wt=function(){function e(n){var t=this;tRe(this,e),li(this,"hot",n,{writable:!1}),vs.set(this,{hooks:{}}),wi=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return t.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(r){return t.onUpdateSettings(r)}),this.hot.addHook("beforeInit",function(){return t.init()})}return nRe(e,[{key:"init",value:function(){var t=this;this.pluginName=this.hot.getPluginName(this);var r=this.constructor.PLUGIN_DEPS,i=Array.isArray(r)?r:[];if(i.length>0){var o=[];if(i.forEach(function(u){var c=u.split(":"),f=q0e(c,2),h=f[0],d=f[1];if(!v2.has(h))throw new Error('Unknown plugin dependency type "'.concat(h,'" was found.'));v2.get(h)(d)||o.push(" - ".concat(d," (").concat(h,")"))}),o.length>0){var a=["The ".concat(this.pluginName,` plugin requires the following modules:
`),"".concat(o.join(`
`),`
`)].join("");pE.push(a)}}wi||(wi=H0()),wi.indexOf("UndoRedo")>=0&&wi.splice(wi.indexOf("UndoRedo"),1),wi.indexOf(this.pluginName)>=0&&wi.splice(wi.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",function(){t.isEnabled&&t.isEnabled()&&t.enablePlugin()});var s=wi.length===0;if(s){if(pE.length>0){var l=["".concat(pE.join(`
`),`
`),"You have to import and register them manually."].join("");throw new Error(l)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,r){vs.get(this).hooks[t]=vs.get(this).hooks[t]||[];var i=vs.get(this).hooks[t];this.hot.addHook(t,r),i.push(r),vs.get(this).hooks[t]=i}},{key:"removeHooks",value:function(t){var r=this;B(vs.get(this).hooks[t]||[],function(i){r.hot.removeHook(t,i)})}},{key:"clearHooks",value:function(){var t=this,r=vs.get(this).hooks;st(r,function(i,o){return t.removeHooks(o)}),r.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){B(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(t){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin(t))}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),st(this,function(r,i){i!=="hot"&&(t[i]=null)}),delete this.t,delete this.hot}}],[{key:"PLUGIN_KEY",get:function(){return rRe}}]),e}();function iRe(e,n){return lRe(e)||sRe(e,n)||aRe(e,n)||oRe()}function oRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aRe(e,n){if(!!e){if(typeof e=="string")return m2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m2(e,n)}}function m2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function sRe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function lRe(e){if(Array.isArray(e))return e}function uRe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function y2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cRe(e,n,t){return n&&y2(e.prototype,n),t&&y2(e,t),e}var fRe=function(){function e(n){uRe(this,e),this.hot=n,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return cRe(e,[{key:"addRow",value:function(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){var r=this.hot.getColHeader(0);if(r!=null){var i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}},{key:"addColumn",value:function(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(t)!==null&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),B(this.rows,function(r){t(r.row,Jt(r.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),B(this.columns,function(r){t(r.col,jt(r.table))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,r){this.settings||(this.settings={}),this.settings[t]=r}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1)),this.samples.forEach(function(i){B(i.strings,function(o){r.appendChild(t.createColElement(o.col))})}),r}},{key:"createRow",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment(),a=i.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,a),o.appendChild(a)),this.samples.forEach(function(s){B(s.strings,function(l){var u=l.col,c=r.hot.getCellMeta(t,u);c.col=u,c.row=t;var f=r.hot.getCellRenderer(c),h=i.createElement("td");h.setAttribute("ghost-table",1),f(r.hot,h,t,u,r.hot.colToProp(u),l.value,c),o.appendChild(h)})}),o}},{key:"appendColumnHeadersRow",value:function(){var t=this,r=this.hot.rootDocument,i=r.createDocumentFragment(),o=[];if(this.hot.hasRowHeaders()){var a=r.createElement("th");o.push([-1,a]),i.appendChild(a)}this.samples.forEach(function(s){B(s.strings,function(l){var u=l.col,c=r.createElement("th");o.push([u,c]),i.appendChild(c)})}),this.table.tHead.appendChild(i),B(o,function(s){var l=iRe(s,2),u=l[0],c=l[1];t.hot.view.appendColHeader(u,c)})}},{key:"createCol",value:function(t){var r=this,i=this.hot.rootDocument,o=i.createDocumentFragment();return this.samples.forEach(function(a){B(a.strings,function(s){var l=s.row,u=r.hot.getCellMeta(l,t);u.col=t,u.row=l;var c=r.hot.getCellRenderer(u),f=i.createElement("td"),h=i.createElement("tr");f.setAttribute("ghost-table",1),c(r.hot,f,l,t,r.hot.colToProp(t),s.value,u),h.appendChild(f),o.appendChild(h)})}),o}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var r=this.hot.rootDocument.createElement("col");return r.style.width="".concat(this.hot.view.wt.wtTable.getStretchedColumnWidth(t),"px"),r}},{key:"createTable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("table"),a=r.createElement("thead"),s=r.createElement("tbody"),l=r.createElement("colgroup"),u=r.createElement("tr"),c=r.createElement("th");return this.isVertical()&&o.appendChild(l),this.isHorizontal()&&(u.appendChild(c),a.appendChild(u),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(a),this.isVertical()&&s.appendChild(u),o.appendChild(s),ve(o,t),i.appendChild(o),{fragment:i,table:o,tHead:a,tBody:s,colGroup:l,tr:u,th:c}}},{key:"createContainer",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=this.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("div"),a="htGhostTable htAutoSize ".concat(t.trim());return ve(o,a),i.appendChild(o),{fragment:i,container:o}}},{key:"isVertical",value:function(){return!!(this.rows.length&&!this.columns.length)}},{key:"isHorizontal",value:function(){return!!(this.columns.length&&!this.rows.length)}}]),e}(),vE=fRe;function hRe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dRe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function b2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gRe(e,n,t){return n&&b2(e.prototype,n),t&&b2(e,t),e}var pRe=function(){function e(n){dRe(this,e),this.samples=null,this.dataFactory=n,this.customSampleCount=null,this.allowDuplicates=!1}return gRe(e,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:e.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,r){return this.generateSamples("row",r,t)}},{key:"generateColumnSamples",value:function(t,r){return this.generateSamples("col",r,t)}},{key:"generateSamples",value:function(t,r,i){var o=this,a=new Map,s=typeof i=="number"?{from:i,to:i}:i,l=s.from,u=s.to;return Le(l,u,function(c){var f=o.generateSample(t,r,c);a.set(c,f)}),a}},{key:"generateSample",value:function(t,r,i){var o=this;if(t!=="row"&&t!=="col")throw new Error("Unsupported sample type");var a=new Map,s=t==="row"?"col":"row",l=[];return Le(r.from,r.to,function(u){var c=t==="row"?o.dataFactory(i,u):o.dataFactory(u,i),f=c.value,h=c.bundleSeed,d=typeof h=="string"&&h.length>0,g;d?g=h:rt(f)?g="".concat(Object.keys(f).length):Array.isArray(f)?g="".concat(f.length):g="".concat(zt(f).length),a.has(g)||a.set(g,{needed:o.getSampleCount(),strings:[]});var p=a.get(g);if(p.needed){var v=l.indexOf(f)>-1;(!v||o.allowDuplicates||d)&&(p.strings.push(hRe({value:f},s,u)),l.push(f),p.needed-=1)}}),a}}],[{key:"SAMPLE_COUNT",get:function(){return 3}}]),e}(),w2=pRe;function em(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?em=function(t){return typeof t}:em=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function _2(e,n){return bRe(e)||yRe(e,n)||mRe(e,n)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(e,n){if(!!e){if(typeof e=="string")return S2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S2(e,n)}}function S2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function yRe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function bRe(e){if(Array.isArray(e))return e}function wRe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function C2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _Re(e,n,t){return n&&C2(e.prototype,n),t&&C2(e,t),e}function ms(){return typeof Reflect!="undefined"&&Reflect.get?ms=Reflect.get:ms=function(n,t,r){var i=SRe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},ms.apply(this,arguments)}function SRe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=no(e),e!==null););return e}function CRe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&mE(e,n)}function mE(e,n){return mE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},mE(e,n)}function RRe(e){var n=ERe();return function(){var r=no(e),i;if(n){var o=no(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ORe(this,i)}}function ORe(e,n){if(n&&(em(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R2(e)}function R2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ERe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function no(e){return no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},no(e)}De.getSingleton().register("modifyAutoColumnSizeSeed");var Jf="autoColumnSize",TRe=10,yE=new WeakMap,kRe="autoColumnSize",ARe=function(e){CRe(t,e);var n=RRe(t);function t(r){var i;return wRe(this,t),i=n.call(this,r),yE.set(R2(i),{cachedColumnHeaders:[]}),i.ghostTable=new vE(i.hot),i.samplesGenerator=new w2(function(o,a){var s=i.hot.getCellMeta(o,a),l="";s.spanned||(l=i.hot.getDataAtCell(o,a));var u="";return i.hot.hasHook("modifyAutoColumnSizeSeed")&&(u=i.hot.runHooks("modifyAutoColumnSizeSeed",u,s,l)),{value:l,bundleSeed:u}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredColumns=0,i.columnWidthsMap=new sa,i.hot.columnIndexMapper.registerMap(kRe,i.columnWidthsMap),i.addHook("beforeColumnResize",function(o,a,s){return i.onBeforeColumnResize(o,a,s)}),i}return _Re(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[Jf]!==!1&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[Jf];o&&o.useHeaders!==null&&o.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",o.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData()}),this.addHook("beforeChange",function(a){return i.onBeforeChange(a)}),this.addHook("afterFormulasValuesUpdate",function(a){return i.onAfterFormulasValuesUpdate(a)}),this.addHook("beforeViewRender",function(a){return i.onBeforeViewRender(a)}),this.addHook("modifyColWidth",function(a,s){return i.getColumnWidth(s,a)}),this.addHook("afterInit",function(){return i.onAfterInit()}),ms(no(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var i=this.findColumnsWhereHeaderWasChanged();i.length&&(this.clearCache(i),this.calculateVisibleColumnsWidth()),ms(no(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=this;ms(no(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeColumnResize",function(o,a,s){return i.onBeforeColumnResize(o,a,s)})}},{key:"calculateVisibleColumnsWidth",value:function(){var i=this.hot.countRows();if(!!i){var o=this.hot.renderCall,a=this.getFirstVisibleColumn(),s=this.getLastVisibleColumn();a===-1||s===-1||this.calculateColumnsWidth({from:a,to:s},void 0,o)}}},{key:"calculateColumnsWidth",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=typeof o=="number"?{from:o,to:o}:o,u=typeof a=="number"?{from:a,to:a}:a;Le(l.from,l.to,function(c){var f=i.hot.toPhysicalColumn(c);if(f===null&&(f=c),s||i.columnWidthsMap.getValueAtIndex(f)===null&&!i.hot._getColWidthFromSettings(f)){var h=i.samplesGenerator.generateColumnSamples(c,u);B(h,function(d){var g=_2(d,2),p=g[0],v=g[1];return i.ghostTable.addColumn(p,v)})}}),this.ghostTable.columns.length&&(this.hot.batchExecution(function(){i.ghostTable.getWidths(function(c,f){var h=i.hot.toPhysicalColumn(c);i.columnWidthsMap.setValueAtIndex(h,f)})},!0),this.measuredColumns=l.to+1,this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},a=0,s=this.hot.countCols()-1,l=null;this.inProgress=!0;var u=function f(){if(!i.hot){qc(l),i.inProgress=!1;return}i.calculateColumnsWidth({from:a,to:Math.min(a+t.CALCULATION_STEP,s)},o),a=a+t.CALCULATION_STEP+1,a<s?l=pS(f):(qc(l),i.inProgress=!1,i.hot.view.adjustElementsSize())},c=this.getSyncCalculationLimit();this.firstCalculation&&c>=0&&(this.calculateColumnsWidth({from:0,to:c},o),this.firstCalculation=!1,a=c+1),a<s?u():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[Jf],o=i&&kt(i,"samplingRatio")?i.samplingRatio:void 0,a=i&&kt(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),a&&this.samplesGenerator.setAllowDuplicates(a)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&this.hot.view.wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[Jf],o=t.SYNC_CALCULATION_LIMIT,a=this.hot.countCols()-1;return rt(i)&&(o=i.syncLimit,wC(o)?o=A0(a,o):o>>=0),Math.min(o,a)}},{key:"getColumnWidth",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o;return s===void 0&&(s=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(i)),a&&typeof s=="number"&&(s=Math.max(s,LC.DEFAULT_WIDTH))),s}},{key:"getFirstVisibleColumn",value:function(){var i=this.hot.view.wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getFirstVisibleColumn();if(o!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var a=i.wtTable.getFirstRenderedColumn();if(a!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(a)}return-1}},{key:"getLastVisibleColumn",value:function(){var i=this.hot.view.wt;if(i.wtViewport.columnsVisibleCalculator){var o=i.wtTable.getLastVisibleColumn();if(o!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)}if(i.wtViewport.columnsRenderCalculator){var a=i.wtTable.getLastRenderedColumn();if(a!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(a)}return-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var i=this.hot.getColHeader(),o=yE.get(this),a=o.cachedColumnHeaders,s=Qt(i,function(l,u,c){var f=a.length;return(f-1<c||a[c]!==u)&&l.push(c),f-1<c?a.push(u):a[c]=u,l},[]);return s}},{key:"clearCache",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.length?this.hot.batchExecution(function(){B(o,function(a){i.columnWidthsMap.setValueAtIndex(a,null)})},!0):this.columnWidthsMap.clear()}},{key:"isNeedRecalculate",value:function(){return!!lr(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),function(i){return i===null}).length}},{key:"onBeforeViewRender",value:function(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){i.hot&&i.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(i){var o=this,a=it(i,function(s){var l=_2(s,2),u=l[1];return o.hot.toPhysicalColumn(o.hot.propToCol(u))});this.clearCache(Array.from(new Set(a)))}},{key:"onBeforeColumnResize",value:function(i,o,a){var s=i;return a&&(this.calculateColumnsWidth(o,void 0,!0),s=this.getColumnWidth(o,void 0,!1)),s}},{key:"onAfterInit",value:function(){yE.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"onAfterFormulasValuesUpdate",value:function(i){var o=lr(i,function(s){var l;return je((l=s.address)===null||l===void 0?void 0:l.col)}),a=it(o,function(s){return s.address.col});this.clearCache(Array.from(new Set(a)))}},{key:"destroy",value:function(){this.ghostTable.clean(),ms(no(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Jf}},{key:"PLUGIN_PRIORITY",get:function(){return TRe}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),t}(wt),ys={horizontal:"horizontal",vertical:"vertical"};function MRe(e,n,t,r){var i=t.length,o=t?t[0].length:0,a=[],s=n.row-e.row,l=n.col-e.col;if(["down","up"].indexOf(r)!==-1){for(var u=[],c=0;c<l;c++){var f=parseInt(t[0][c],10),h=parseInt(t[i-1][c],10),d=(r==="down"?h-f:f-h)/(i-1)||0;u.push(d)}a.push(u)}if(["right","left"].indexOf(r)!==-1)for(var g=0;g<s;g++){var p=parseInt(t[g][0],10),v=parseInt(t[g][o-1],10),m=(r==="right"?v-p:p-v)/(o-1)||0;a.push([m])}return a}function xRe(e,n){var t,r,i;return n[0]===e[0]&&n[1]<e[1]?(i="left",t=new ae(n[0],n[1]),r=new ae(n[2],e[1]-1)):n[2]===e[2]&&n[0]===e[0]&&n[3]>e[3]?(i="right",t=new ae(n[0],e[3]+1),r=new ae(n[2],n[3])):n[0]<e[0]&&n[1]===e[1]?(i="up",t=new ae(n[0],n[1]),r=new ae(e[0]-1,n[3])):n[2]>e[2]&&n[1]===e[1]&&(i="down",t=new ae(e[2]+1,n[1]),r=new ae(n[2],n[3])),t&&t.normalize(),r&&r.normalize(),{directionOfDrag:i,startOfDragCoords:t,endOfDragCoords:r}}function PRe(e){var n={};return e===!0?(n.directions=Object.keys(ys),n.autoInsertRow=!0):rt(e)?(je(e.autoInsertRow)?e.direction===ys.horizontal?n.autoInsertRow=!1:n.autoInsertRow=e.autoInsertRow:n.autoInsertRow=!1,je(e.direction)?n.directions=[e.direction]:n.directions=Object.keys(ys)):typeof e=="string"?(n.directions=[e],n.autoInsertRow=!0):(n.directions=[],n.autoInsertRow=!1),n}function tm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tm=function(t){return typeof t}:tm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function IRe(e){return NRe(e)||DRe(e)||O2(e)||$Re()}function $Re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DRe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NRe(e){if(Array.isArray(e))return bE(e)}function LRe(e,n){return BRe(e)||FRe(e,n)||O2(e,n)||HRe()}function HRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2(e,n){if(!!e){if(typeof e=="string")return bE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bE(e,n)}}function bE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function FRe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function BRe(e){if(Array.isArray(e))return e}function VRe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function E2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WRe(e,n,t){return n&&E2(e.prototype,n),t&&E2(e,t),e}function bs(){return typeof Reflect!="undefined"&&Reflect.get?bs=Reflect.get:bs=function(n,t,r){var i=jRe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},bs.apply(this,arguments)}function jRe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ro(e),e!==null););return e}function URe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&wE(e,n)}function wE(e,n){return wE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},wE(e,n)}function zRe(e){var n=GRe();return function(){var r=ro(e),i;if(n){var o=ro(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return YRe(this,i)}}function YRe(e,n){if(n&&(tm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T2(e)}function T2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GRe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(e)}De.getSingleton().register("modifyAutofillRange");De.getSingleton().register("beforeAutofill");De.getSingleton().register("afterAutofill");var KRe="autofill",XRe=20,qRe="insert_row",ZRe=200,QRe=function(e){URe(t,e);var n=zRe(t);function t(r){var i;return VRe(this,t),i=n.call(this,r),i.eventManager=new Rt(T2(i)),i.addingStarted=!1,i.mouseDownOnCellCorner=!1,i.mouseDragOutside=!1,i.handleDraggedCells=0,i.directions=[],i.autoInsertRow=!1,i}return WRe(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(o){return i.onAfterCellCornerMouseDown(o)}),this.addHook("afterOnCellCornerDblClick",function(o){return i.onCellCornerDblClick(o)}),this.addHook("beforeOnCellMouseOver",function(o,a){return i.onBeforeCellMouseOver(a)}),bs(ro(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),bs(ro(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),bs(ro(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var i=this,o=this.hot.getSelectedRangeLast(),a=o.getTopLeftCorner(),s=a.row,l=a.col,u=o.getBottomRightCorner(),c=u.row,f=u.col,h=this.hot.runHooks("modifyCopyableRange",[{startRow:s,startCol:l,endRow:c,endCol:f}]),d=[],g=[],p=[];return B(h,function(v){for(var m=v.startRow;m<=v.endRow;m+=1)d.indexOf(m)===-1&&d.push(m);for(var w=v.startCol;w<=v.endCol;w+=1)g.indexOf(w)===-1&&g.push(w)}),B(d,function(v){var m=[];B(g,function(w){m.push(i.hot.getCopyableData(v,w))}),p.push(m)}),p}},{key:"fillIn",value:function(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;var i=this.hot.selection.highlight.getFill().getVisualCorners(),o=LRe(i,4),a=o[0],s=o[1],l=o[2],u=o[3],c=this.hot.getSelectedRangeLast(),f=c.getTopLeftCorner(),h=c.getBottomRightCorner();this.resetSelectionOfDraggedArea();var d=[f.row,f.col,h.row,h.col],g=this.hot.runHooks("modifyAutofillRange",[Math.min(f.row,a),Math.min(f.col,s),Math.max(h.row,l),Math.max(h.col,u)],d),p=xRe(d,g),v=p.directionOfDrag,m=p.startOfDragCoords,w=p.endOfDragCoords;if(m&&m.row>-1&&m.col>-1){var C=this.getSelectionData(),E=c.clone(),k=new fn(m,m,w),$=this.hot.runHooks("beforeAutofill",C,E,k,v);if($===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;var D=MRe(m,w,C,v),Y=$,L=$;if(["up","left"].indexOf(v)>-1&&!(L.length===1&&L[0].length===0))if(Y=[],v==="up")for(var X=w.row-m.row+1,te=X%L.length,oe=0;oe<X;oe++)Y.push(L[(oe+(L.length-te))%L.length]);else for(var ie=w.col-m.col+1,de=ie%L[0].length,y=0;y<L.length;y++){Y.push([]);for(var S=0;S<ie;S++)Y[y].push(L[y][(S+(L[y].length-de))%L[y].length])}this.hot.populateFromArray(m.row,m.col,Y,w.row,w.col,"".concat(this.pluginName,".fill"),null,v,D),this.setSelection(g),this.hot.runHooks("afterAutofill",Y,E,k,v),this.hot.render()}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(i){return i.row<0&&(i.row=0),i.col<0&&(i.col=0),i}},{key:"getCoordsOfDragAndDropBorders",value:function(i){var o=this.hot.getSelectedRangeLast(),a=o.getBottomRightCorner(),s=i;if(this.directions.includes(ys.vertical)&&this.directions.includes(ys.horizontal)){var l=o.getTopLeftCorner();(a.col<=i.col||l.col>=i.col)&&(s=new ae(a.row,i.col)),(a.row<i.row||l.row>i.row)&&(s=new ae(i.row,a.col))}else if(this.directions.includes(ys.vertical))s=new ae(i.row,a.col);else if(this.directions.includes(ys.horizontal))s=new ae(a.row,i.col);else return;return this.reduceSelectionAreaIfNeeded(s)}},{key:"showBorder",value:function(i){var o=this.getCoordsOfDragAndDropBorders(i);o&&this.redrawBorders(o)}},{key:"addRow",value:function(){var i=this;this.hot._registerTimeout(function(){i.hot.alter(qRe,void 0,1,"".concat(i.pluginName,".fill")),i.addingStarted=!1},ZRe)}},{key:"addNewRowIfNeeded",value:function(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){var i=this.hot.getSelectedLast(),o=this.hot.selection.highlight.getFill().getVisualCorners(),a=this.hot.countRows();i[2]<a-1&&o[2]===a-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(i){for(var o=this.hot.getData(),a=this.hot.countRows(),s,l=i[2]+1;l<a;l++){for(var u=i[1];u<=i[3];u++){var c=o[l][u];if(c)return-1}var f=o[l][i[1]-1],h=o[l][i[3]+1];(!!f||!!h)&&(s=l)}return s}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(i,o){this.hot.selection.highlight.getFill().clear().add(new ae(i[0],i[1])).add(new ae(o,i[3])).commit()}},{key:"setSelection",value:function(i){var o;(o=this.hot).selectCell.apply(o,IRe(it(i,function(a){return Math.max(a,0)})).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var i=this.hot.getSelectedLast(),o=this.getIndexOfLastAdjacentFilledInRow(i);return o===-1||o===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(i,o),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(i){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(i).commit(),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(i){var o=this.hot.rootDocument.documentElement,a=Wt(this.hot.table).top-(this.hot.rootWindow.pageYOffset||o.scrollTop)+Jt(this.hot.table),s=Wt(this.hot.table).left-(this.hot.rootWindow.pageXOffset||o.scrollLeft)+jt(this.hot.table);return i.clientY>a&&i.clientX<=s}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(o,"mousemove",function(a){return i.onMouseMove(a)})}},{key:"onCellCornerDblClick",value:function(){var i=this.selectAdjacent();i&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(i){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(i),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(i){var o=this.getIfMouseWasDraggedOutside(i);this.addingStarted===!1&&this.handleDraggedCells>0&&o?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var i=PRe(this.hot.getSettings().fillHandle);this.directions=i.directions,this.autoInsertRow=i.autoInsertRow}},{key:"destroy",value:function(){bs(ro(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return KRe}},{key:"PLUGIN_PRIORITY",get:function(){return XRe}}]),t}(wt);function nm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nm=function(t){return typeof t}:nm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function JRe(e,n){return rOe(e)||nOe(e,n)||tOe(e,n)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(e,n){if(!!e){if(typeof e=="string")return k2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k2(e,n)}}function k2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function nOe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function rOe(e){if(Array.isArray(e))return e}function iOe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function A2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oOe(e,n,t){return n&&A2(e.prototype,n),t&&A2(e,t),e}function au(){return typeof Reflect!="undefined"&&Reflect.get?au=Reflect.get:au=function(n,t,r){var i=aOe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},au.apply(this,arguments)}function aOe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=da(e),e!==null););return e}function sOe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_E(e,n)}function _E(e,n){return _E=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_E(e,n)}function lOe(e){var n=fOe();return function(){var r=da(e),i;if(n){var o=da(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uOe(this,i)}}function uOe(e,n){if(n&&(nm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cOe(e)}function cOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fOe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function da(e){return da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},da(e)}var rm="autoRowSize",hOe=40,dOe="autoRowSize",gOe=function(e){sOe(t,e);var n=lOe(t);function t(r){var i;return iOe(this,t),i=n.call(this,r),i.rowHeightsMap=void 0,i.headerHeight=null,i.ghostTable=new vE(i.hot),i.samplesGenerator=new w2(function(o,a){var s;return o>=0?s=i.hot.getDataAtCell(o,a):o===-1&&(s=i.hot.getColHeader(a)),{value:s}}),i.firstCalculation=!0,i.inProgress=!1,i.measuredRows=0,i.rowHeightsMap=new sa,i.hot.rowIndexMapper.registerMap(dOe,i.rowHeightsMap),i.addHook("beforeRowResize",function(o,a,s){return i.onBeforeRowResize(o,a,s)}),i}return oOe(t,[{key:"isEnabled",value:function(){var i=this.hot.getSettings()[rm];return i===!0||rt(i)}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return i.onAfterLoadData()}),this.addHook("beforeChange",function(o){return i.onBeforeChange(o)}),this.addHook("beforeColumnResize",function(){return i.recalculateAllRowsHeight()}),this.addHook("beforeViewRender",function(o){return i.onBeforeViewRender(o)}),this.addHook("modifyRowHeight",function(o,a){return i.getRowHeight(a,o)}),this.addHook("modifyColumnHeaderHeight",function(){return i.getColumnHeaderHeight()}),au(da(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this;this.headerHeight=null,au(da(t.prototype),"disablePlugin",this).call(this),this.addHook("beforeRowResize",function(o,a,s){return i.onBeforeRowResize(o,a,s)})}},{key:"calculateRowsHeight",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=typeof o=="number"?{from:o,to:o}:o,u=typeof a=="number"?{from:a,to:a}:a;if(this.hot.getColHeader(0)!==null){var c=this.samplesGenerator.generateRowSamples(-1,u);this.ghostTable.addColumnHeadersRow(c.get(-1))}Le(l.from,l.to,function(f){if(s||i.rowHeightsMap.getValueAtIndex(f)===null){var h=i.samplesGenerator.generateRowSamples(f,u);B(h,function(d){var g=JRe(d,2),p=g[0],v=g[1];return i.ghostTable.addRow(p,v)})}}),this.ghostTable.rows.length&&(this.hot.batchExecution(function(){i.ghostTable.getHeights(function(f,h){f<0?i.headerHeight=h:i.rowHeightsMap.setValueAtIndex(i.hot.toPhysicalRow(f),h)})},!0),this.measuredRows=l.to+1,this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},a=0,s=this.hot.countRows()-1,l=null;this.inProgress=!0;var u=function f(){if(!i.hot){qc(l),i.inProgress=!1;return}i.calculateRowsHeight({from:a,to:Math.min(a+t.CALCULATION_STEP,s)},o),a=a+t.CALCULATION_STEP+1,a<s?l=pS(f):(qc(l),i.inProgress=!1,i.hot.view.adjustElementsSize(!0),i.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&i.hot.view.wt.wtOverlays.leftOverlay.clone.draw())},c=this.getSyncCalculationLimit();this.firstCalculation&&c>=0&&(this.calculateRowsHeight({from:0,to:c},o),this.firstCalculation=!1,a=c+1),a<s?u():(this.inProgress=!1,this.hot.view.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var i=this.hot.getSettings()[rm],o=i&&kt(i,"samplingRatio")?i.samplingRatio:void 0,a=i&&kt(i,"allowSampleDuplicates")?i.allowSampleDuplicates:void 0;o&&!isNaN(o)&&this.samplesGenerator.setSampleCount(parseInt(o,10)),a&&this.samplesGenerator.setAllowDuplicates(a)}},{key:"recalculateAllRowsHeight",value:function(){Dl(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var i=this.hot.getSettings()[rm],o=t.SYNC_CALCULATION_LIMIT,a=this.hot.countRows()-1;return rt(i)&&(o=i.syncLimit,wC(o)?o=A0(a,o):o>>=0),Math.min(o,a)}},{key:"getRowHeight",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=i<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(i)),s=o;return a!==null&&a>(o||0)&&(s=a),s}},{key:"getColumnHeaderHeight",value:function(){return this.headerHeight}},{key:"getFirstVisibleRow",value:function(){var i=this.hot.view.wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getFirstVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var i=this.hot.view.wt;return i.wtViewport.rowsVisibleCalculator?i.wtTable.getLastVisibleRow():i.wtViewport.rowsRenderCalculator?i.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.headerHeight=null,this.rowHeightsMap.init()}},{key:"clearCacheByRange",value:function(i){var o=this,a=typeof i=="number"?{from:i,to:i}:i,s=a.from,l=a.to;this.hot.batchExecution(function(){Le(Math.min(s,l),Math.max(s,l),function(u){o.rowHeightsMap.setValueAtIndex(u,null)})},!0)}},{key:"isNeedRecalculate",value:function(){return!!lr(this.rowHeightsMap.getValues().slice(0,this.measuredRows),function(i){return i===null}).length}},{key:"onBeforeViewRender",value:function(){var i=this.hot.renderCall,o=this.hot.getSettings().fixedRowsBottom,a=this.getFirstVisibleRow(),s=this.getLastVisibleRow();if(!(a===-1||s===-1)){if(this.calculateRowsHeight({from:a,to:s},void 0,i),o){var l=this.hot.countRows()-1;this.calculateRowsHeight({from:l-o,to:l})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(i,o){this.clearCacheByRange({from:i,to:o}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(i,o,a){var s=i;return a&&(this.calculateRowsHeight(o,void 0,!0),s=this.getRowHeight(o)),s}},{key:"onAfterLoadData",value:function(){var i=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){i.hot&&i.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(i){var o=null;i.length===1?o=i[0][0]:i.length>1&&(o={from:i[0][0],to:i[i.length-1][0]}),o!==null&&this.clearCacheByRange(o)}},{key:"destroy",value:function(){this.ghostTable.clean(),au(da(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return rm}},{key:"PLUGIN_PRIORITY",get:function(){return hOe}},{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),t}(wt);function im(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?im=function(t){return typeof t}:im=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function pOe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function M2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vOe(e,n,t){return n&&M2(e.prototype,n),t&&M2(e,t),e}function eh(){return typeof Reflect!="undefined"&&Reflect.get?eh=Reflect.get:eh=function(n,t,r){var i=mOe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},eh.apply(this,arguments)}function mOe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ws(e),e!==null););return e}function yOe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&SE(e,n)}function SE(e,n){return SE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},SE(e,n)}function bOe(e){var n=SOe();return function(){var r=ws(e),i;if(n){var o=ws(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return wOe(this,i)}}function wOe(e,n){if(n&&(im(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Oe(e)}function _Oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SOe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ws(e)}var x2=SF("physicallyIndexed"),COe=x2.getListWithInsertedItems,ROe=x2.getListWithRemovedItems,OOe=function(e){yOe(t,e);var n=bOe(t);function t(){return pOe(this,t),n.call(this,function(r){return r})}return vOe(t,[{key:"insert",value:function(i,o){var a=iR(this.indexedValues,o);this.indexedValues=COe(a,i,o,this.initValueOrFn),eh(ws(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){var o=ROe(this.indexedValues,i);this.indexedValues=rR(o,i),eh(ws(t.prototype),"remove",this).call(this,i)}}]),t}(cs),EOe=OOe;function om(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?om=function(t){return typeof t}:om=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function TOe(e){return xOe(e)||MOe(e)||AOe(e)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(e,n){if(!!e){if(typeof e=="string")return CE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CE(e,n)}}function MOe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xOe(e){if(Array.isArray(e))return CE(e)}function CE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function POe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function P2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IOe(e,n,t){return n&&P2(e.prototype,n),t&&P2(e,t),e}function th(){return typeof Reflect!="undefined"&&Reflect.get?th=Reflect.get:th=function(n,t,r){var i=$Oe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},th.apply(this,arguments)}function $Oe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=_s(e),e!==null););return e}function DOe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&RE(e,n)}function RE(e,n){return RE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},RE(e,n)}function NOe(e){var n=FOe();return function(){var r=_s(e),i;if(n){var o=_s(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LOe(this,i)}}function LOe(e,n){if(n&&(om(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HOe(e)}function HOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FOe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(e)}var I2=SF("physicallyIndexed"),BOe=I2.getListWithInsertedItems,VOe=I2.getListWithRemovedItems,WOe=function(e){DOe(t,e);var n=NOe(t);function t(){return POe(this,t),n.call(this,function(r){return r})}return IOe(t,[{key:"insert",value:function(i,o){var a=this;this.indexedValues=BOe(this.indexedValues,i,o,function(s,l){return a.getNextValue(l)}),th(_s(t.prototype),"insert",this).call(this,i,o)}},{key:"remove",value:function(i){this.indexedValues=VOe(this.indexedValues,i),th(_s(t.prototype),"remove",this).call(this,i)}},{key:"getNextValue",value:function(i){return Math.max.apply(Math,TOe(this.getValues()))+1+i}}]),t}(cs),jOe=WOe;function am(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?am=function(t){return typeof t}:am=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function UOe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zOe(e,n,t){return n&&$2(e.prototype,n),t&&$2(e,t),e}function su(){return typeof Reflect!="undefined"&&Reflect.get?su=Reflect.get:su=function(n,t,r){var i=YOe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},su.apply(this,arguments)}function YOe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ga(e),e!==null););return e}function GOe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&OE(e,n)}function OE(e,n){return OE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},OE(e,n)}function KOe(e){var n=ZOe();return function(){var r=ga(e),i;if(n){var o=ga(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XOe(this,i)}}function XOe(e,n){if(n&&(am(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qOe(e)}function qOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZOe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ga(e)}var EE="bindRowsWithHeaders",QOe=210,JOe="loose",eEe=new Map([["loose",EOe],["strict",jOe]]),tEe=function(e){GOe(t,e);var n=KOe(t);function t(r){var i;return UOe(this,t),i=n.call(this,r),i.headerIndexes=null,i}return zOe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[EE]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[EE];typeof o!="string"&&(o=JOe);var a=eEe.get(o);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new a),this.addHook("modifyRowHeader",function(s){return i.onModifyRowHeader(s)}),su(ga(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),su(ga(t.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(i){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(i))}},{key:"destroy",value:function(){su(ga(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return EE}},{key:"PLUGIN_PRIORITY",get:function(){return QOe}}]),t}(wt);function sm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sm=function(t){return typeof t}:sm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function D2(e){return oEe(e)||iEe(e)||rEe(e)||nEe()}function nEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rEe(e,n){if(!!e){if(typeof e=="string")return TE(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TE(e,n)}}function iEe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oEe(e){if(Array.isArray(e))return TE(e)}function TE(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function aEe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function N2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sEe(e,n,t){return n&&N2(e.prototype,n),t&&N2(e,t),e}function Ss(){return typeof Reflect!="undefined"&&Reflect.get?Ss=Reflect.get:Ss=function(n,t,r){var i=lEe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ss.apply(this,arguments)}function lEe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=io(e),e!==null););return e}function uEe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&kE(e,n)}function kE(e,n){return kE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},kE(e,n)}function cEe(e){var n=hEe();return function(){var r=io(e),i;if(n){var o=io(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fEe(this,i)}}function fEe(e,n){if(n&&(sm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(e)}function lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hEe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},io(e)}function dEe(e,n,t){gEe(e,n),n.set(e,t)}function gEe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AE(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L2(e,n){var t=H2(e,n,"get");return pEe(e,t)}function pEe(e,n){return n.get?n.get.call(e):n.value}function ME(e,n,t){var r=H2(e,n,"set");return vEe(e,r,t),t}function H2(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function vEe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}var F2="collapsibleColumns",mEe=290,B2=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),uu=new WeakMap,yEe=function(e){uEe(t,e);var n=cEe(t);function t(){var r;aEe(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o)),AE(lu(r),"nestedHeadersPlugin",null),AE(lu(r),"eventManager",new Rt(lu(r))),AE(lu(r),"headerStateManager",null),dEe(lu(r),uu,{writable:!0,value:null}),r}return sEe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[F2]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings(),a=o.nestedHeaders;a||Nt("You need to configure the Nested Headers plugin in order to use collapsible headers."),ME(this,uu,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("afterGetColHeader",function(s,l){return i.onAfterGetColHeader(s,l)}),this.addHook("beforeOnCellMouseDown",function(s,l,u){return i.onBeforeOnCellMouseDown(s,l,u)}),Ss(io(t.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){if(!!this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){var i=this.hot.getSettings(),o=i.collapsibleColumns;typeof o=="boolean"?this.headerStateManager.mapState(function(a){return{collapsible:a.origColspan>1}}):Array.isArray(o)&&this.headerStateManager.mergeStateWith(o)}Ss(io(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),ME(this,uu,null),this.nestedHeadersPlugin=null,this.clearButtons(),Ss(io(t.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(!!this.hot.view){var i=this.hot.view.wt.getSetting("columnHeaders").length,o=this.hot.view.wt.wtTable.THEAD,a=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,s=this.hot.view.wt.wtOverlays.topLeftCornerOverlay?this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null,l=function(c){c&&c.parentNode.removeChild(c)};Le(0,i-1,function(u){var c=o.childNodes[u],f=a.childNodes[u],h=s?s.childNodes[u]:null;Le(0,c.childNodes.length-1,function(d){var g=c.childNodes[d].querySelector(".collapsibleIndicator");l(g),f&&f.childNodes[d]&&(g=f.childNodes[d].querySelector(".collapsibleIndicator"),l(g)),s&&h&&h.childNodes[d]&&(g=h.childNodes[d].querySelector(".collapsibleIndicator"),l(g))})})}}},{key:"expandSection",value:function(i){this.toggleCollapsibleSection([i],"expand")}},{key:"collapseSection",value:function(i){this.toggleCollapsibleSection([i],"collapse")}},{key:"toggleAllCollapsibleSections",value:function(i){var o=this,a=this.headerStateManager.mapNodes(function(s){var l=s.collapsible,u=s.origColspan,c=s.headerLevel,f=s.columnIndex;if(l===!0&&u>1)return{row:o.headerStateManager.levelToRowCoords(c),col:f}});this.toggleCollapsibleSection(a,i)}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(i,o){var a=this;if(!B2.has(o))throw new Error("Unsupported action is passed (".concat(o,")."));if(!!Array.isArray(i)){var s=lr(i,function(v){var m=v.row;return m<0}),l=s.length>0;B(s,function(v){var m,w=v.row,C=v.col,E=(m=a.headerStateManager.getHeaderSettings(w,C))!==null&&m!==void 0?m:{},k=E.collapsible,$=E.isCollapsed;if(!k||$&&o==="collapse"||!$&&o==="expand")return l=!1,!1});var u=[],c=[];l&&B(s,function(v){var m=v.row,w=v.col,C=a.headerStateManager.triggerNodeModification(o,m,w),E=C.colspanCompensation,k=C.affectedColumns,$=C.rollbackModification;E>0&&(c.push.apply(c,D2(k)),u.push($))});var f=this.getCollapsedColumns(),h=[];o==="collapse"?h=AS([].concat(D2(f),c)):o==="expand"&&(h=lr(f,function(v){return!c.includes(v)}));var d=B2.get(o),g=this.hot.runHooks(d.beforeHook,f,h,l);if(g===!1){B(u,function(v){v()});return}this.hot.batchExecution(function(){B(c,function(v){L2(a,uu).setValueAtIndex(a.hot.toPhysicalColumn(v),d.hideColumn)})},!0);var p=this.getCollapsedColumns().length!==f.length;this.hot.runHooks(d.afterHook,f,h,l,p),this.hot.render(),this.hot.view.adjustElementsSize(!0)}}},{key:"getCollapsedColumns",value:function(){return L2(this,uu).getHiddenIndexes()}},{key:"generateIndicator",value:function(i,o){var a=this.hot.rootDocument.createElement("div"),s=this.headerStateManager.getHeaderSettings(i,o);return ve(a,"collapsibleIndicator"),s.isCollapsed?(ve(a,"collapsed"),na(a,"+")):(ve(a,"expanded"),na(a,"-")),a}},{key:"onAfterGetColHeader",value:function(i,o){var a,s=o.parentNode,l=s.parentNode,u=-1*l.childNodes.length+Array.prototype.indexOf.call(l.childNodes,s),c=(a=this.headerStateManager.getHeaderSettings(u,i))!==null&&a!==void 0?a:{},f=c.collapsible,h=c.origColspan;if(f&&h>1&&i>=this.hot.getSettings().fixedColumnsLeft){var d=this.generateIndicator(u,i);o.querySelector("div:first-child").appendChild(d)}}},{key:"onBeforeOnCellMouseDown",value:function(i,o){ze(i.target,"collapsibleIndicator")&&(ze(i.target,"expanded")?(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"collapse")):ze(i.target,"collapsed")&&(this.eventManager.fireEvent(i.target,"mouseup"),this.toggleCollapsibleSection([o],"expand")),Lt(i))}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){ME(this,uu,null),Ss(io(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return F2}},{key:"PLUGIN_PRIORITY",get:function(){return mEe}},{key:"PLUGIN_DEPS",get:function(){return["plugin:NestedHeaders"]}}]),t}(wt);function V2(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function bEe(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?V2(Object(t),!0).forEach(function(r){wEe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V2(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function wEe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W2(e,n){return REe(e)||CEe(e,n)||SEe(e,n)||_Ee()}function _Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SEe(e,n){if(!!e){if(typeof e=="string")return j2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j2(e,n)}}function j2(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function CEe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function REe(e){if(Array.isArray(e))return e}function OEe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function U2(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EEe(e,n,t){return n&&U2(e.prototype,n),t&&U2(e,t),e}var TEe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],kEe=!1,AEe=!0,MEe=!0,xEe=function(){function e(n,t){OEe(this,e),this.hot=n,this.sortingStates=new uv,this.sortEmptyCells=kEe,this.indicator=AEe,this.headerAction=MEe,this.compareFunctionFactory=void 0,this.mapName=t,this.hot.columnIndexMapper.registerMap(t,this.sortingStates)}return EEe(e,[{key:"updateAllColumnsProperties",value:function(t){var r=this;!rt(t)||st(t,function(i,o){TEe.includes(o)&&(r[o]=i)})}},{key:"getAllColumnsProperties",value:function(){var t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(t.compareFunctionFactory=this.compareFunctionFactory),t}},{key:"getSortOrderOfColumn",value:function(t){var r;return(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))===null||r===void 0?void 0:r.sortOrder}},{key:"getIndexOfColumnInSortQueue",value:function(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(function(r){var i=W2(r,1),o=i[0];return o===t})}},{key:"getNumberOfSortedColumns",value:function(){return this.sortingStates.getLength()}},{key:"isListOfSortedColumnsEmpty",value:function(){return this.getNumberOfSortedColumns()===0}},{key:"isColumnSorted",value:function(t){return rt(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}},{key:"getSortStates",value:function(){var t=this;if(this.sortingStates===null)return[];var r=this.sortingStates.getEntries();return r.map(function(i){var o=W2(i,2),a=o[0],s=o[1];return bEe({column:t.hot.toVisualColumn(a)},s)})}},{key:"getColumnSortState",value:function(t){var r=this.getSortOrderOfColumn(t);if(je(r))return{column:t,sortOrder:r}}},{key:"setSortStates",value:function(t){this.sortingStates.clear();for(var r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}]),e}(),lm="asc",um="desc",PEe="colHeader";function IEe(e){if(rt(e)===!1)return!1;var n=e.column,t=e.sortOrder;return Number.isInteger(n)&&[lm,um].includes(t)}function $Ee(e){if(e.some(function(t){return IEe(t)===!1}))return!1;var n=e.map(function(t){var r=t.column;return r});return new Set(n).size===n.length}function z2(e){if(e!==um)return e===lm?um:lm}function Y2(e){var n=e.querySelector(".".concat(PEe));return n}function G2(e,n){if(e<0||!n.parentNode)return!1;var t=n.parentNode.parentNode.childNodes,r=Array.from(t).indexOf(n.parentNode)-t.length;return r===-1}function xE(e,n,t){return e===-1&&n>=0&&oa(t)===!1}var DEe="ascending",NEe="descending",K2="indicatorDisabled",X2="columnSorting",q2="sortAction",Z2=new Map([[lm,DEe],[um,NEe]]);function LEe(e,n,t,r){var i=[X2];if(r&&i.push(q2),t===!1)return i.push(K2),i;var o=e.getSortOrderOfColumn(n);return je(o)&&i.push(Z2.get(o)),i}function HEe(){return Array.from(Z2.values()).concat(q2,K2,X2)}function Q2(e,n,t){var r=n.locale;return function(i,o){var a=t.sortEmptyCells;return typeof i=="string"&&(i=i.toLocaleLowerCase(r)),typeof o=="string"&&(o=o.toLocaleLowerCase(r)),i===o?_i:cn(i)?cn(o)?_i:a&&e==="asc"?Gt:Kt:cn(o)?a&&e==="asc"?Kt:Gt:isNaN(i)&&!isNaN(o)?e==="asc"?Kt:Gt:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?e==="asc"?Gt:Kt:i>o?e==="asc"?Kt:Gt:_i}}var J2="default";function FEe(e,n,t){return function(r,i){var o=parseFloat(r),a=parseFloat(i),s=t.sortEmptyCells;if(o===a||isNaN(o)&&isNaN(a))return _i;if(s){if(cn(r))return e==="asc"?Gt:Kt;if(cn(i))return e==="asc"?Kt:Gt}return isNaN(o)?Kt:isNaN(a)?Gt:o<a?e==="asc"?Gt:Kt:o>a?e==="asc"?Kt:Gt:_i}}var BEe="numeric";function VEe(e,n,t){var r=n.checkedTemplate,i=n.uncheckedTemplate,o=t.sortEmptyCells;return function(a,s){var l=cn(a),u=cn(s),c=l?i:a,f=u?i:s,h=c===i||c===r,d=f===i||f===r;if(o===!1){if(l&&u===!1)return Kt;if(l===!1&&u)return Gt}return h===!1&&d?e==="asc"?Gt:Kt:h&&d===!1?e==="asc"?Kt:Gt:h===!1&&d===!1?Q2(e,n,t)(a,s):c===i&&f===r?e==="asc"?Gt:Kt:c===r&&f===i?e==="asc"?Kt:Gt:_i}}var WEe="checkbox";function jEe(e,n,t){return function(r,i){var o=t.sortEmptyCells;if(r===i)return _i;if(cn(r))return cn(i)?_i:o&&e==="asc"?Gt:Kt;if(cn(i))return o&&e==="asc"?Kt:Gt;var a=n.dateFormat,s=we(r,a),l=we(i,a);return s.isValid()?l.isValid()?l.isAfter(s)?e==="asc"?Gt:Kt:l.isBefore(s)?e==="asc"?Kt:Gt:_i:Gt:Kt}}var UEe="date",PE=Pr("sorting.compareFunctionFactory"),cm=PE.register,eV=PE.getItem,zEe=PE.hasItem,tV=Pr("sorting.mainSortComparator"),nV=tV.register,YEe=tV.getItem;function rV(e){return zEe(e)?eV(e):eV(J2)}cm(BEe,FEe);cm(WEe,VEe);cm(UEe,jEe);cm(J2,Q2);function iV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GEe(e,n,t){return n&&iV(e.prototype,n),t&&iV(e,t),e}function oV(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var aV=function e(n){oV(this,e),this.data=n,this.next=null,this.prev=null},KEe=function(){function e(){oV(this,e),this.first=null,this.last=null}return GEe(e,[{key:"push",value:function(t){var r=new aV(t);if(this.first===null)this.first=r,this.last=r;else{var i=this.last;this.last=r,r.prev=i,i.next=r}}},{key:"unshift",value:function(t){var r=new aV(t);if(this.first===null)this.first=r,this.last=r;else{var i=this.first;this.first=r,r.next=i,i.prev=r}}},{key:"inorder",value:function(t){for(var r=this.first;r;)t(r),r=r.next}},{key:"remove",value:function(t){if(this.first===null)return!1;for(var r=this.first,i,o;r;){if(r.data===t)return i=r.next,o=r.prev,i&&(i.prev=o),o&&(o.next=i),r===this.first&&(this.first=i),r===this.last&&(this.last=o),!0;r=r.next}return!1}},{key:"hasCycle",value:function(){for(var t=this.first,r=this.first;;){if(t===null||(t=t.next,t===null))return!1;if(t=t.next,r=r.next,t===r)return!0}}},{key:"pop",value:function(){if(this.last===null)return null;var t=this.last;return this.last=this.last.prev,t}},{key:"shift",value:function(){if(this.first===null)return null;var t=this.first;return this.first=this.first.next,t}},{key:"recursiveReverse",value:function(){function t(i,o){!o||(t(o,o.next),o.next=i)}if(!!this.first){t(this.first,this.first.next),this.first.next=null;var r=this.first;this.first=this.last,this.last=r}}},{key:"reverse",value:function(){if(!(!this.first||!this.first.next)){for(var t=this.first.next,r=this.first,i;t;)i=t.next,t.next=r,r.prev=t,r=t,t=i;this.first.next=null,this.last.prev=null,i=this.first,this.first=r,this.last=i}}}]),e}(),sV=KEe,XEe=function(n,t){var r=n.toString(),i=t.toString();return r===i?0:r<i?-1:1};function IE(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XEe,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.length;if(Math.abs(r-t)<=1)return[];var i=Math.ceil((t+r)/2);return IE(e,n,t,i),IE(e,n,i,r),qEe(e,n,t,i,r)}function qEe(e,n,t,r,i){for(var o=new sV,a=new sV,s=r-t,l=i-r,u=Math.max(s,l),c=i-t,f=0;f<u;f+=1)f<s&&o.push(e[t+f]),f<l&&a.push(e[r+f]);for(var h=0;h<c;)o.first&&a.first?n(o.first.data,a.first.data)>0?e[t+h]=a.shift().data:e[t+h]=o.shift().data:o.first?e[t+h]=o.shift().data:e[t+h]=a.shift().data,h+=1;return e}var _i=0,Gt=-1,Kt=1;function ZEe(e,n){for(var t=YEe(n),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];IE(e,t.apply(void 0,i))}function lV(e){return tTe(e)||eTe(e)||JEe(e)||QEe()}function QEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,n){if(!!e){if(typeof e=="string")return uV(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uV(e,n)}}function uV(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function eTe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tTe(e){if(Array.isArray(e))return e}function nTe(e,n){return function(t,r){var i=lV(t),o=i.slice(1),a=lV(r),s=a.slice(1);return function(u){var c=e[u],f=n[u],h=o[u],d=s[u],g=f.columnSorting,p=g.compareFunctionFactory?g.compareFunctionFactory:rV(f.type),v=p(c,f,g)(h,d);return v}(0)}}function fm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fm=function(t){return typeof t}:fm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var rTe=["column"],iTe=["column"];function cu(e){return lTe(e)||sTe(e)||aTe(e)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(e,n){if(!!e){if(typeof e=="string")return $E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $E(e,n)}}function sTe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lTe(e){if(Array.isArray(e))return $E(e)}function $E(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function cV(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function fV(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?cV(Object(t),!0).forEach(function(r){uTe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cV(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function uTe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function hV(e,n){if(e==null)return{};var t=cTe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function cTe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function fTe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hTe(e,n,t){return n&&dV(e.prototype,n),t&&dV(e,t),e}function Cs(){return typeof Reflect!="undefined"&&Reflect.get?Cs=Reflect.get:Cs=function(n,t,r){var i=dTe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Cs.apply(this,arguments)}function dTe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=oo(e),e!==null););return e}function gTe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&DE(e,n)}function DE(e,n){return DE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},DE(e,n)}function pTe(e){var n=yTe();return function(){var r=oo(e),i;if(n){var o=oo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return vTe(this,i)}}function vTe(e,n){if(n&&(fm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mTe(e)}function mTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yTe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oo(e)}var NE="columnSorting",bTe=50,gV="append",wTe="replace";nV(NE,nTe);De.getSingleton().register("beforeColumnSort");De.getSingleton().register("afterColumnSort");var pV=function(e){gTe(t,e);var n=pTe(t);function t(r){var i;return fTe(this,t),i=n.call(this,r),i.columnStatesManager=null,i.columnMetaCache=null,i.pluginKey=NE,i.indexesSequenceCache=null,i}return hTe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnStatesManager=new xEe(this.hot,"".concat(this.pluginKey,".sortingStates")),this.columnMetaCache=new sa(function(o){var a=i.hot.toVisualColumn(o);return a===null&&(a=o),i.getMergedPluginSettings(a)}),this.hot.columnIndexMapper.registerMap("".concat(this.pluginKey,".columnMeta"),this.columnMetaCache),this.addHook("afterGetColHeader",function(o,a){return i.onAfterGetColHeader(o,a)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(o,a){return i.onAfterOnCellMouseDown(o,a)}),this.addHook("afterInit",function(){return i.loadOrSortBySettings()}),this.addHook("afterLoadData",function(o,a){return i.onAfterLoadData(a)}),this.hot.view&&this.loadOrSortBySettings(),Cs(oo(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=this,o=function(s,l){var u=Y2(l);G2(s,l)===!1||u===null||i.updateHeaderClasses(u)};this.hot.addHook("afterGetColHeader",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("afterGetColHeader",o)}),this.hot.batchExecution(function(){i.indexesSequenceCache!==null&&(i.hot.rowIndexMapper.setIndexesSequence(i.indexesSequenceCache.getValues()),i.hot.rowIndexMapper.unregisterMap(i.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap("".concat(this.pluginKey,".columnMeta")),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,Cs(oo(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){var o=this.getSortConfig(),a=this.getNormalizedSortConfigs(i),s=this.areValidSortConfigs(a),l=this.hot.runHooks("beforeColumnSort",o,a,s);l!==!1&&(o.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new RF),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),s&&(this.columnStatesManager.setSortStates(a),this.sortByPresetSortStates(a),this.saveAllSortSettings(a)),this.hot.runHooks("afterColumnSort",o,s?a:o,s),s&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(i){return je(i)?this.columnStatesManager.getColumnSortState(i):this.columnStatesManager.getSortStates()}},{key:"setSortConfig",value:function(i){var o=this.getNormalizedSortConfigs(i);this.areValidSortConfigs(o)&&this.columnStatesManager.setSortStates(o)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(i)?i.slice(0,1):[i]}},{key:"areValidSortConfigs",value:function(i){var o=this.hot.countCols();return $Ee(i)&&i.every(function(a){var s=a.column;return s<=o&&s>=0})}},{key:"saveAllSortSettings",value:function(i){var o=this,a=this.columnStatesManager.getAllColumnsProperties(),s=function(u){var c=u.column,f=hV(u,rTe);return fV({column:o.hot.toPhysicalColumn(c)},f)};a.initialConfig=it(i,s),this.hot.runHooks("persistentStateSave","columnSorting",a)}},{key:"getAllSavedSortSettings",value:function(){var i=this,o={};this.hot.runHooks("persistentStateLoad","columnSorting",o);var a=o.value,s=function(u){var c=u.column,f=hV(u,iTe);return fV({column:i.hot.toVisualColumn(c)},f)};return je(a)&&Array.isArray(a.initialConfig)&&(a.initialConfig=it(a.initialConfig,s)),a}},{key:"getColumnNextConfig",value:function(i){var o=this.columnStatesManager.getSortOrderOfColumn(i);if(je(o)){var a=z2(o);return je(a)?{column:i,sortOrder:a}:void 0}var s=this.hot.countCols();if(Number.isInteger(i)&&i>=0&&i<s)return{column:i,sortOrder:z2()}}},{key:"getNextSortConfig",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gV,a=this.columnStatesManager.getIndexOfColumnInSortQueue(i),s=a!==-1,l=this.getSortConfig(),u=this.getColumnNextConfig(i);if(s){if(Dt(u))return[].concat(cu(l.slice(0,a)),cu(l.slice(a+1)));if(o===gV)return[].concat(cu(l.slice(0,a)),cu(l.slice(a+1)),[u]);if(o===wTe)return[].concat(cu(l.slice(0,a)),[u],cu(l.slice(a+1)))}return je(u)?l.concat(u):l}},{key:"getPluginColumnConfig",value:function(i){if(rt(i)){var o=i[this.pluginKey];if(rt(o))return o}return{}}},{key:"getMergedPluginSettings",value:function(i){var o=this.hot.getSettings()[this.pluginKey],a=this.columnStatesManager.getAllColumnsProperties(),s=this.hot.getCellMeta(0,i),l=Object.getPrototypeOf(s);return Array.isArray(l.columns)?Object.assign(a,o,this.getPluginColumnConfig(l.columns[i])):xt(l.columns)?Object.assign(a,o,this.getPluginColumnConfig(l.columns(i))):Object.assign(a,o)}},{key:"getFirstCellSettings",value:function(i){var o=this.hot.getCellMeta(0,i),a=Object.create(o);return a[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(i)),a}},{key:"getNumberOfRowsToSort",value:function(i){var o=this.hot.getSettings();return o.maxRows<=i?o.maxRows:i-o.minSpareRows}},{key:"sortByPresetSortStates",value:function(i){var o=this;if(i.length===0){this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());return}for(var a=[],s=this.hot.countRows(),l=function(v){return it(i,function(m){return o.hot.getDataAtCell(v,m.column)})},u=0;u<this.getNumberOfRowsToSort(s);u+=1)a.push([this.hot.toPhysicalRow(u)].concat(l(u)));var c=it(a,function(p){return p[0]});ZEe(a,this.pluginKey,it(i,function(p){return p.sortOrder}),it(i,function(p){return o.getFirstCellSettings(p.column)}));for(var f=a.length;f<s;f+=1)a.push([f].concat(l(f)));var h=it(a,function(p){return p[0]}),d=new Map(it(c,function(p,v){return[p,h[v]]})),g=it(this.hot.rowIndexMapper.getIndexesSequence(),function(p){return d.has(p)?d.get(p):p});this.hot.rowIndexMapper.setIndexesSequence(g)}},{key:"loadOrSortBySettings",value:function(){var i=this.getAllSavedSortSettings();if(rt(i))this.sortBySettings(i);else{var o=this.hot.getSettings()[this.pluginKey];this.sortBySettings(o)}}},{key:"sortBySettings",value:function(i){if(rt(i)){this.columnStatesManager.updateAllColumnsProperties(i);var o=i.initialConfig;(Array.isArray(o)||rt(o))&&this.sort(o)}else this.hot.render()}},{key:"onAfterGetColHeader",value:function(i,o){var a=Y2(o);if(!(G2(i,o)===!1||a===null)){var s=this.getFirstCellSettings(i)[this.pluginKey],l=s.indicator,u=s.headerAction;this.updateHeaderClasses(a,this.columnStatesManager,i,l,u)}}},{key:"updateHeaderClasses",value:function(i){if(Je(i,HEe()),this.enabled!==!1){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];ve(i,LEe.apply(void 0,a))}}},{key:"onUpdateSettings",value:function(i){Cs(oo(t.prototype),"onUpdateSettings",this).call(this),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),je(i[this.pluginKey])&&this.sortBySettings(i[this.pluginKey])}},{key:"onAfterLoadData",value:function(i){i===!0&&this.hot.view&&this.loadOrSortBySettings()}},{key:"wasClickableHeaderClicked",value:function(i,o){var a=this.getFirstCellSettings(o)[this.pluginKey],s=a.headerAction;return s&&i.target.nodeName==="SPAN"}},{key:"onBeforeOnCellMouseDown",value:function(i,o,a,s){xE(o.row,o.col,i)!==!1&&this.wasClickableHeaderClicked(i,o.col)&&Rv()&&(s.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){xE(o.row,o.col,i)!==!1&&this.wasClickableHeaderClicked(i,o.col)&&(Rv()&&(this.hot.deselectCell(),this.hot.selectColumns(o.col)),this.sort(this.getColumnNextConfig(o.col)))}},{key:"destroy",value:function(){var i;(i=this.columnStatesManager)===null||i===void 0||i.destroy(),Cs(oo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return NE}},{key:"PLUGIN_PRIORITY",get:function(){return bTe}}]),t}(wt),_Te=et,vV=We,LE=Qe,STe=Vo,CTe=$x,RTe=uD,mV=lt,OTe=vV.RangeError,yV=vV.String,bV=Math.floor,HE=LE(RTe),wV=LE("".slice),nh=LE(1 .toFixed),fu=function(e,n,t){return n===0?t:n%2==1?fu(e,n-1,t*e):fu(e*e,n/2,t)},ETe=function(e){for(var n=0,t=e;t>=4096;)n+=12,t/=4096;for(;t>=2;)n+=1,t/=2;return n},hu=function(e,n,t){for(var r=-1,i=t;++r<6;)i+=n*e[r],e[r]=i%1e7,i=bV(i/1e7)},FE=function(e,n){for(var t=6,r=0;--t>=0;)r+=e[t],e[t]=bV(r/n),r=r%n*1e7},_V=function(e){for(var n=6,t="";--n>=0;)if(t!==""||n===0||e[n]!==0){var r=yV(e[n]);t=t===""?r:t+HE("0",7-r.length)+r}return t},TTe=mV(function(){return nh(8e-5,3)!=="0.000"||nh(.9,0)!=="1"||nh(1.255,2)!=="1.25"||nh(1000000000000000100,0)!=="1000000000000000128"})||!mV(function(){nh({})});_Te({target:"Number",proto:!0,forced:TTe},{toFixed:function(n){var t=CTe(this),r=STe(n),i=[0,0,0,0,0,0],o="",a="0",s,l,u,c;if(r<0||r>20)throw OTe("Incorrect fraction digits");if(t!=t)return"NaN";if(t<=-1e21||t>=1e21)return yV(t);if(t<0&&(o="-",t=-t),t>1e-21)if(s=ETe(t*fu(2,69,1))-69,l=s<0?t*fu(2,-s,1):t/fu(2,s,1),l*=4503599627370496,s=52-s,s>0){for(hu(i,0,l),u=r;u>=7;)hu(i,1e7,0),u-=7;for(hu(i,fu(10,u,1),0),u=s-1;u>=23;)FE(i,1<<23),u-=23;FE(i,1<<u),hu(i,1,1),FE(i,2),a=_V(i)}else hu(i,0,l),hu(i,1<<-s,0),a=_V(i)+HE("0",r);return r>0?(c=a.length,a=o+(c<=r?"0."+HE("0",r-c)+a:wV(a,0,c-r)+"."+wV(a,c-r))):a=o+a,a}});function kTe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function SV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ATe(e,n,t){return n&&SV(e.prototype,n),t&&SV(e,t),e}var MTe=function(){function e(n,t){kTe(this,e),this.plugin=n,this.hot=this.plugin.hot,this.endpoints=[],this.settings=t,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[]}return ATe(e,[{key:"getEndpoint",value:function(t){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}},{key:"getAllEndpoints",value:function(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(t){return this.parseSettings(t.call(this))}},{key:"parseSettings",value:function(t){var r=this,i=[],o=t;if(!o&&typeof this.settings=="function"){this.settingsType="function";return}return o||(o=this.settings),B(o,function(a){var s={};r.assignSetting(a,s,"ranges",[[0,r.hot.countRows()-1]]),r.assignSetting(a,s,"reversedRowCoords",!1),r.assignSetting(a,s,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),r.assignSetting(a,s,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),r.assignSetting(a,s,"sourceColumn",a.destinationColumn),r.assignSetting(a,s,"type","sum"),r.assignSetting(a,s,"forceNumeric",!1),r.assignSetting(a,s,"suppressDataTypeErrors",!0),r.assignSetting(a,s,"suppressDataTypeErrors",!0),r.assignSetting(a,s,"customFunction",null),r.assignSetting(a,s,"readOnly",!0),r.assignSetting(a,s,"roundFloat",!1),i.push(s)}),i}},{key:"assignSetting",value:function(t,r,i,o){if(i==="ranges"&&t[i]===void 0){r[i]=o;return}else if(i==="ranges"&&t[i].length===0)return;if(t[i]===void 0){if(o instanceof Error)throw o;r[i]=o}else i==="destinationRow"&&r.reversedRowCoords?r[i]=this.hot.countRows()-t[i]-1:r[i]=t[i]}},{key:"resetSetupBeforeStructureAlteration",value:function(t,r,i){if(this.settingsType==="function"){var o=t.indexOf("row")>-1?"row":"col",a=this.getAllEndpoints();B(a,function(s){o==="row"&&s.destinationRow>=r&&(t==="insert_row"?s.alterRowOffset=i:t==="remove_row"&&(s.alterRowOffset=-1*i)),o==="col"&&s.destinationColumn>=r&&(t==="insert_col"?s.alterColumnOffset=i:t==="remove_col"&&(s.alterColumnOffset=-1*i))}),this.resetAllEndpoints(a,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(t,r,i,o,a){var s=this,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){var u=function p(){return s.hot.removeHook("beforeViewRender",p),s.refreshAllEndpoints()};this.hot.addHookOnce("beforeViewRender",u);return}var c=t.indexOf("row")>-1?"row":"col",f=t.indexOf("remove")>-1?-1:1,h=this.getAllEndpoints(),d=t.indexOf("move_row")===0,g=r;B(h,function(p){c==="row"&&p.destinationRow>=g&&(p.alterRowOffset=f*i),c==="col"&&p.destinationColumn>=g&&(p.alterColumnOffset=f*i)}),this.resetAllEndpoints(h,!d),d?B(h,function(p){s.extendEndpointRanges(p,g,o[0],o.length),s.recreatePhysicalRanges(p),s.clearOffsetInformation(p)}):B(h,function(p){s.shiftEndpointCoordinates(p,g)}),l&&this.refreshAllEndpoints()}},{key:"clearOffsetInformation",value:function(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(t,r,i,o){B(t.ranges,function(a){a[1]&&(r>=a[0]&&r<=a[1]?i>a[1]?a[1]+=o:i<a[0]&&(a[0]-=o):i>=a[0]&&i<=a[1]&&(a[1]-=o,r<=a[0]&&(a[0]+=1,a[1]+=1)))})}},{key:"recreatePhysicalRanges",value:function(t){var r=this,i=t.ranges,o=[],a=[];B(i,function(s){var l=[];if(s[1])for(var u=s[0];u<=s[1];u++)l.push(r.hot.toPhysicalRow(u));else l.push(r.hot.toPhysicalRow(s[0]));a.push(l)}),B(a,function(s){var l=[];B(s,function(u,c){c===0?l.push(u):s[c]!==s[c-1]+1&&(l.push(s[c-1]),o.push(l),l=[],l.push(u)),c===s.length-1&&(l.push(u),o.push(l))})}),t.ranges=o}},{key:"shiftEndpointCoordinates",value:function(t,r){t.alterRowOffset&&t.alterRowOffset!==0?(t.destinationRow+=t.alterRowOffset||0,B(t.ranges,function(i){B(i,function(o,a){o>=r&&(i[a]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&t.alterColumnOffset!==0&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=r.some(function(a){var s=a.alterRowOffset||0,l=a.alterColumnOffset||0;return a.destinationRow+s>=t.hot.countRows()||a.destinationColumn+l>=t.hot.countCols()});o||(this.cellsToSetCache=[],B(r,function(a){t.resetEndpointValue(a,i)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}},{key:"refreshAllEndpoints",value:function(){var t=this;this.cellsToSetCache=[],B(this.getAllEndpoints(),function(r){t.currentEndpoint=r,t.plugin.calculate(r),t.setEndpointValue(r,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(t){var r=this,i=[];this.cellsToSetCache=[],B(t,function(o,a,s){"".concat(o[2]||"")!=="".concat(o[3])&&B(r.getAllEndpoints(),function(l,u){r.hot.propToCol(s[a][1])===l.sourceColumn&&i.indexOf(u)===-1&&i.push(u)})}),B(i,function(o){r.refreshEndpoint(r.getEndpoint(o))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=t.alterRowOffset||0,o=t.alterColumnOffset||0,a=[this.hot.toVisualRow(t.destinationRow),this.hot.toVisualColumn(t.destinationColumn)],s=a[0],l=a[1];if(l!==null&&s!==null){var u=this.hot.getCellMeta(s,l);u.readOnly=!1,u.className=""}this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?o:0)),""])}},{key:"setEndpointValue",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=-1*t.alterRowOffset||0,a=-1*t.alterColumnOffset||0,s=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}var l=this.hot.toVisualRow(t.destinationRow+o);if(l!==null){var u=this.hot.getCellMeta(l,t.destinationColumn+a);(r==="init"||u.readOnly!==t.readOnly)&&(u.readOnly=t.readOnly,u.className="columnSummaryResult")}t.roundFloat&&!isNaN(t.result)&&(t.result=t.result.toFixed(t.roundFloat)),i?this.hot.setDataAtCell(s,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([s,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"throwOutOfBoundsWarning",value:function(){Nt("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}]),e}(),xTe=MTe;function hm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hm=function(t){return typeof t}:hm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}var CV;function PTe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ITe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function RV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $Te(e,n,t){return n&&RV(e.prototype,n),t&&RV(e,t),e}function dm(){return typeof Reflect!="undefined"&&Reflect.get?dm=Reflect.get:dm=function(n,t,r){var i=DTe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},dm.apply(this,arguments)}function DTe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=du(e),e!==null););return e}function NTe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&BE(e,n)}function BE(e,n){return BE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},BE(e,n)}function LTe(e){var n=BTe();return function(){var r=du(e),i;if(n){var o=du(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HTe(this,i)}}function HTe(e,n){if(n&&(hm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BTe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(e)}var VE="columnSummary",VTe=220,WTe=function(e){NTe(t,e);var n=LTe(t);function t(r){var i;return ITe(this,t),i=n.call(this,r),i.endpoints=null,i}return $Te(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[VE]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.settings=this.hot.getSettings()[VE],this.endpoints=new xTe(this,this.settings),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeCreateRow",function(o,a,s){return i.endpoints.resetSetupBeforeStructureAlteration("insert_row",o,a,null,s)}),this.addHook("beforeCreateCol",function(o,a,s){return i.endpoints.resetSetupBeforeStructureAlteration("insert_col",o,a,null,s)}),this.addHook("beforeRemoveRow",function(){for(var o,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_row"].concat(s))}),this.addHook("beforeRemoveCol",function(){for(var o,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(o=i.endpoints).resetSetupBeforeStructureAlteration.apply(o,["remove_col"].concat(s))}),this.addHook("afterCreateRow",function(o,a,s){return i.endpoints.resetSetupAfterStructureAlteration("insert_row",o,a,null,s)}),this.addHook("afterCreateCol",function(o,a,s){return i.endpoints.resetSetupAfterStructureAlteration("insert_col",o,a,null,s)}),this.addHook("afterRemoveRow",function(){for(var o,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_row"].concat(s))}),this.addHook("afterRemoveCol",function(){for(var o,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(o=i.endpoints).resetSetupAfterStructureAlteration.apply(o,["remove_col"].concat(s))}),this.addHook("afterRowMove",function(){return i.onAfterRowMove.apply(i,arguments)}),dm(du(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(i){switch(i.type.toLowerCase()){case"sum":i.result=this.calculateSum(i);break;case"min":i.result=this.calculateMinMax(i,i.type);break;case"max":i.result=this.calculateMinMax(i,i.type);break;case"count":i.result=this.countEntries(i);break;case"average":i.result=this.calculateAverage(i);break;case"custom":i.result=i.customFunction.call(this,i);break}}},{key:"calculateSum",value:function(i){var o=this,a=0;return st(i.ranges,function(s){a+=o.getPartialSum(s,i.sourceColumn)}),a}},{key:"getPartialSum",value:function(i,o){var a=0,s=i[1]||i[0],l=null,u=0;do{l=this.getCellValue(s,o)||0;var c=("".concat(l).split(".")[1]||[]).length||1;c>u&&(u=c),a+=l||0,s-=1}while(s>=i[0]);return Math.round(a*Math.pow(10,u))/Math.pow(10,u)}},{key:"calculateMinMax",value:function(i,o){var a=this,s=null;return st(i.ranges,function(l){var u=a.getPartialMinMax(l,i.sourceColumn,o);if(s===null&&u!==null&&(s=u),u!==null)switch(o){case"min":s=Math.min(s,u);break;case"max":s=Math.max(s,u);break}}),s===null?"Not enough data":s}},{key:"getPartialMinMax",value:function(i,o,a){var s=null,l=i[1]||i[0],u;do{if(u=this.getCellValue(l,o)||null,s===null)s=u;else if(u!==null)switch(a){case"min":s=Math.min(s,u);break;case"max":s=Math.max(s,u);break}l-=1}while(l>=i[0]);return s}},{key:"countEmpty",value:function(i,o){var a,s=0,l=i[1]||i[0];do a=this.getCellValue(l,o),a||(s+=1),l-=1;while(l>=i[0]);return s}},{key:"countEntries",value:function(i){var o=this,a=0,s=i.ranges;return st(s,function(l){var u=l[1]===void 0?1:l[1]-l[0]+1,c=o.countEmpty(l,i.sourceColumn);a+=u,a-=c}),a}},{key:"calculateAverage",value:function(i){var o=this.calculateSum(i),a=this.countEntries(i);return o/a}},{key:"getCellValue",value:function(i,o){var a=this.hot.toVisualRow(i),s=this.hot.toVisualColumn(o),l=this.hot.getSourceDataAtCell(i,o),u="";if(a!==null&&s!==null&&(u=this.hot.getCellMeta(a,s).className||""),u.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof l=="string"&&(l=l.replace(/,/,".")),l=parseFloat(l)),isNaN(l)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Mt(CV||(CV=PTe(["ColumnSummary plugin: cell at (",", ",`) is not in a 
          numeric format. Cannot do the calculation.`],["ColumnSummary plugin: cell at (",", ",`) is not in a\\x20
          numeric format. Cannot do the calculation.`])),i,o));return l}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(i,o){i&&o!=="ColumnSummary.reset"&&o!=="ColumnSummary.set"&&o!=="loadData"&&this.endpoints.refreshChangedEndpoints(i)}},{key:"onAfterRowMove",value:function(i,o){this.endpoints.resetSetupBeforeStructureAlteration("move_row",i[0],i.length,i,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",o,i.length,i,this.pluginName)}}],[{key:"PLUGIN_KEY",get:function(){return VE}},{key:"PLUGIN_PRIORITY",get:function(){return VTe}}]),t}(wt);function jTe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function OV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UTe(e,n,t){return n&&OV(e.prototype,n),t&&OV(e,t),e}var zTe=function(){function e(n){jTe(this,e),this.container=null,this.rootDocument=n,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return UTe(e,[{key:"setPosition",value:function(t,r){this.editorStyle.left="".concat(t,"px"),this.editorStyle.top="".concat(r,"px")}},{key:"setSize",value:function(t,r){if(t&&r){var i=this.getInputElement();i.style.width="".concat(t,"px"),i.style.height="".concat(r,"px")}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){var r=this.getInputElement();r.readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return this.editorStyle.display==="block"}},{key:"setValue",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t||"";this.getInputElement().value=r}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return this.container=this.rootDocument.createElement("div"),ve(this.container,e.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),ve(t,e.CLASS_EDITOR),ve(r,e.CLASS_INPUT),t.appendChild(r),this.container.appendChild(t),t}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(e.CLASS_INPUT))}},{key:"destroy",value:function(){var t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}}],[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),e}(),YTe=zTe,at="---------";function GTe(){return{name:at}}function KTe(e){return it(e,function(n){return{start:n.getTopLeftCorner(),end:n.getBottomRightCorner()}})}function gm(e){return ze(e,"htSeparator")}function XTe(e){return ze(e,"htSubmenu")}function pm(e){return ze(e,"htDisabled")}function vm(e){return ze(e,"htSelectionDisabled")}function Rs(e){var n=e.getSelected();return!n||n[0]<0?null:n}function qTe(e,n){if(e.indexOf(n)!==-1)return e;var t=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(t," ").concat(n)}function ZTe(e,n){if(e.indexOf(n)!==-1)return e;var t=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(t," ").concat(n)}function Os(e,n){var t={};return B(e,function(r){r.forAll(function(i,o){i>=0&&o>=0&&(t[i]||(t[i]=[]),t[i][o]=n(i,o))})}),t}function pa(e,n,t,r,i){B(e,function(o){o.forAll(function(a,s){a>=0&&s>=0&&QTe(a,s,n,t,r,i)})})}function QTe(e,n,t,r,i,o){var a=i(e,n),s=r;a.className&&(t==="vertical"?s=qTe(a.className,r):s=ZTe(a.className,r)),o(e,n,"className",s)}function Si(e,n){var t=!1;return Array.isArray(e)&&B(e,function(r){return r.forAll(function(i,o){if(i>=0&&o>=0&&n(i,o))return t=!0,!1}),t}),t}function ao(e){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(e)}function JTe(e,n){return!e.hidden||!(typeof e.hidden=="function"&&e.hidden.call(n))}function EV(e,n){for(var t=e.slice(0),r=0;r<t.length&&t[r].name===n;)t.shift();return t}function eke(e,n){var t=e.slice(0);return t.reverse(),t=EV(t,n),t.reverse(),t}function tke(e){var n=[];return B(e,function(t,r){r>0?n[n.length-1].name!==t.name&&n.push(t):n.push(t)}),n}function nke(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at,t=e.slice(0);return t=EV(t,n),t=eke(t,n),t=tke(t),t}function rke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function TV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ike(e,n,t){return n&&TV(e.prototype,n),t&&TV(e,t),e}var oke=250,ake=250,kV=function(){function e(n){rke(this,e),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(n)}return ike(e,[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){t.wasLastActionShow===!1&&t.runLocalHooks("hide")},ake)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oke;this.showDebounced=$C(function(i){t.wasLastActionShow&&t.runLocalHooks("show",i.from.row,i.from.col)},r)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),e}();Ot(kV,nr);var ske=kV;function mm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mm=function(t){return typeof t}:mm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function WE(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function lke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function AV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uke(e,n,t){return n&&AV(e.prototype,n),t&&AV(e,t),e}function Es(){return typeof Reflect!="undefined"&&Reflect.get?Es=Reflect.get:Es=function(n,t,r){var i=cke(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Es.apply(this,arguments)}function cke(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=so(e),e!==null););return e}function fke(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&jE(e,n)}function jE(e,n){return jE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jE(e,n)}function hke(e){var n=gke();return function(){var r=so(e),i;if(n){var o=so(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return dke(this,i)}}function dke(e,n){if(n&&(mm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MV(e)}function MV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gke(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},so(e)}var UE="comments",pke=60,ym=new WeakMap,Ci="comment",gu="value",xV="style",bm="readOnly",vke=function(e){fke(t,e);var n=hke(t);function t(r){var i;return lke(this,t),i=n.call(this,r),i.editor=null,i.displaySwitch=null,i.eventManager=null,i.range={},i.mouseDown=!1,i.contextMenuEvent=!1,i.timer=null,ym.set(MV(i),{tempEditorDimensions:{},cellBelowCursor:null}),i}return uke(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[UE]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.editor||(this.editor=new YTe(this.hot.rootDocument)),this.eventManager||(this.eventManager=new Rt(this)),this.displaySwitch||(this.displaySwitch=new ske(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(o){return i.addToContextMenu(o)}),this.addHook("afterRenderer",function(o,a,s,l,u,c){return i.onAfterRenderer(o,c)}),this.addHook("afterScrollHorizontally",function(){return i.hide()}),this.addHook("afterScrollVertically",function(){return i.hide()}),this.addHook("afterBeginEditing",function(){return i.onAfterBeginEditing()}),this.displaySwitch.addLocalHook("hide",function(){return i.hide()}),this.displaySwitch.addLocalHook("show",function(o,a){return i.showAtCell(o,a)}),this.registerListeners(),Es(so(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Es(so(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){Es(so(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var i=this,o=this.hot.rootDocument;this.eventManager.addEventListener(o,"mouseover",function(a){return i.onMouseOver(a)}),this.eventManager.addEventListener(o,"mousedown",function(a){return i.onMouseDown(a)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return i.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(a){return i.onEditorMouseDown(a)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(a){return i.onEditorMouseUp(a)})}},{key:"setRange",value:function(i){this.range=i}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(i){var o=Zi(i.target,"TD","TBODY");return!!(o&&ze(o,"htCommentCell")&&Zi(o,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(i){return this.editor.getInputElement()===i.target}},{key:"setComment",value:function(i){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var o=this.editor.getValue(),a="";i!=null?a=i:o!=null&&(a=o);var s=this.range.from.row,l=this.range.from.col;this.updateCommentMeta(s,l,WE({},gu,a)),this.hot.render()}},{key:"setCommentAtCell",value:function(i,o,a){this.setRange({from:new ae(i,o)}),this.setComment(a)}},{key:"removeComment",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Ci),i&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:new ae(i,o)}),this.removeComment(a)}},{key:"getComment",value:function(){var i=this.range.from.row,o=this.range.from.col;return this.getCommentMeta(i,o,gu)}},{key:"getCommentAtCell",value:function(i,o){return this.getCommentMeta(i,o,gu)}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var i=this.range.from,o=i.row,a=i.col;if(o<0||o>this.hot.countSourceRows()-1||a<0||a>this.hot.countSourceCols()-1)return!1;var s=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(s[Ci]?s[Ci][gu]:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(i,o){return this.setRange({from:new ae(i,o)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){var i,o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!a&&(!this.range.from||!this.editor.isVisible()))){var s=this.hot,l=s.rowIndexMapper,u=s.columnIndexMapper,c=this.range.from,f=c.row,h=c.col,d=l.getRenderableFromVisualIndex(f),g=u.getRenderableFromVisualIndex(h),p=d===null;d===null&&(d=l.getRenderableFromVisualIndex(l.getFirstNotHiddenIndex(f,-1))),g===null&&(g=u.getRenderableFromVisualIndex(u.getFirstNotHiddenIndex(h,-1)));var v=d===null,m=g===null;d=(i=d)!==null&&i!==void 0?i:0,g=(o=g)!==null&&o!==void 0?o:0;var w=this.hot,C=w.rootWindow,E=w.view.wt,k=E.wtTable,$=E.wtOverlays,D=E.wtViewport,Y=$.scrollableElement,L=k.getCell({row:d,col:g}),X=Wt(L),te=m?0:k.getStretchedColumnWidth(g),oe=p&&!v?Jt(L):0,ie=X.top,de=X.left;D.hasVerticalScroll()&&Y!==C&&(ie-=$.topOverlay.getScrollPosition()),D.hasHorizontalScroll()&&Y!==C&&(de-=$.leftOverlay.getScrollPosition());var y=de+te,S=ie+oe,b=this.getCommentMeta(f,h,xV),_=this.getCommentMeta(f,h,bm);b?this.editor.setSize(b.width,b.height):this.editor.resetSize(),this.editor.setReadOnlyState(_),this.editor.setPosition(y,S)}}},{key:"checkSelectionCommentsConsistency",value:function(){var i=this.hot.getSelectedRangeLast();if(!i)return!1;var o=!1,a=i.getTopLeftCorner();return this.getCommentMeta(a.row,a.col,gu)&&(o=!0),o}},{key:"updateCommentMeta",value:function(i,o,a){var s=this.hot.getCellMeta(i,o)[Ci],l;s?(l=Bn(s),ef(l,a)):l=a,this.hot.setCellMeta(i,o,Ci,l)}},{key:"getCommentMeta",value:function(i,o,a){var s=this.hot.getCellMeta(i,o);if(!!s[Ci])return s[Ci][a]}},{key:"onMouseDown",value:function(i){if(this.mouseDown=!0,!(!this.hot.view||!this.hot.view.wt)){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(i)){var o=Zi(i.target,"TD","TBODY"),a=null;o&&(a=this.hot.view.wt.wtTable.getCoords(o),a={row:this.hot.rowIndexMapper.getVisualFromRenderableIndex(a.row),col:this.hot.columnIndexMapper.getVisualFromRenderableIndex(a.col)}),(!o||this.range.from&&a&&(this.range.from.row!==a.row||this.range.from.col!==a.col))&&this.hide()}this.contextMenuEvent=!1}}},{key:"onMouseOver",value:function(i){var o=ym.get(this),a=this.hot.rootDocument;if(o.cellBelowCursor=a.elementFromPoint(i.clientX,i.clientY),!(this.mouseDown||this.editor.isFocused()||ze(i.target,"wtBorder")||o.cellBelowCursor!==i.target||!this.editor))if(this.targetIsCellWithComment(i)){var s=this.hot.view.wt.wtTable.getCoords(i.target),l={from:new ae(this.hot.rowIndexMapper.getVisualFromRenderableIndex(s.row),this.hot.columnIndexMapper.getVisualFromRenderableIndex(s.col))};this.displaySwitch.show(l)}else Jo(i.target,a)&&!this.targetIsCommentTextArea(i)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(i,o){o[Ci]&&o[Ci][gu]&&ve(i,o.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(i){var o=ym.get(this);o.tempEditorDimensions={width:jt(i.target),height:Jt(i.target)}}},{key:"onEditorMouseUp",value:function(i){var o=ym.get(this),a=jt(i.target),s=Jt(i.target);(a!==o.tempEditorDimensions.width+1||s!==o.tempEditorDimensions.height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,WE({},xV,{width:a,height:s}))}},{key:"onContextMenuAddComment",value:function(){var i=this;this.displaySwitch.cancelHiding();var o=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,this.setRange({from:o.highlight}),this.show(),setTimeout(function(){i.hot&&(i.hot.deselectCell(),i.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,o.forAll(function(a,s){a>=0&&s>=0&&i.removeCommentAtCell(a,s,!1)}),this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var i=this,o=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,o.forAll(function(a,s){if(a>=0&&s>=0){var l=!!i.getCommentMeta(a,s,bm);i.updateCommentMeta(a,s,WE({},bm,!l))}})}},{key:"addToContextMenu",value:function(i){var o=this,a=function(){return o.hot.rowIndexMapper.getRenderableIndexesLength()>0&&o.hot.columnIndexMapper.getRenderableIndexesLength()>0};i.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return o.checkSelectionCommentsConsistency()?o.hot.getTranslatedPhrase(IR):o.hot.getTranslatedPhrase(PR)},callback:function(){return o.onContextMenuAddComment()},disabled:function(){return a()?!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner()):!0}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase($R)},callback:function(){return o.onContextMenuRemoveComment()},disabled:function(){return a()?!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner()):!0}},{key:"commentsReadOnly",name:function(){var l=this,u=this.getTranslatedPhrase(DR),c=Si(this.getSelectedRangeLast(),function(f,h){var d=l.getCellMeta(f,h)[Ci];if(d&&(d=d[bm]),d)return!0});return c&&(u=ao(u)),u},callback:function(){return o.onContextMenuMakeReadOnly()},disabled:function(){return a()?!(o.hot.getSelectedLast()&&!o.hot.selection.isSelectedByCorner())||!o.checkSelectionCommentsConsistency():!0}})}},{key:"getDisplayDelaySetting",value:function(){var i=this.hot.getSettings()[UE];if(rt(i))return i.displayDelay}},{key:"onAfterBeginEditing",value:function(){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),Es(so(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return UE}},{key:"PLUGIN_PRIORITY",get:function(){return pke}}]),t}(wt);function mke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function PV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yke(e,n,t){return n&&PV(e.prototype,n),t&&PV(e,t),e}var bke=function(){function e(n){mke(this,e),this.hot=n,this.commands={},this.commonCallback=null}return yke(e,[{key:"registerCommand",value:function(t,r){this.commands[t]=r}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=t.split(":"),l=s[0],u=s.length===2?s[1]:null,c=this.commands[l];if(!c)throw new Error("Menu command '".concat(l,"' not exists."));if(u&&c.submenu&&(c=wke(u,c.submenu.items)),c.disabled!==!0&&!(typeof c.disabled=="function"&&c.disabled.call(this.hot)===!0)&&!kt(c,"submenu")){var f=[];typeof c.callback=="function"&&f.push(c.callback),typeof this.commonCallback=="function"&&f.push(this.commonCallback),o.unshift(s.join(":")),B(f,function(h){return h.apply(r.hot,o)})}}}]),e}();function wke(e,n){var t;return B(n,function(r){var i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===e)return t=r,!1}),t}var IV=bke,Dr="alignment";function _ke(){return{key:Dr,name:function(){return this.getTranslatedPhrase(NR)},disabled:function(){return this.countRows()===0||this.countCols()===0?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(Dr,":left"),name:function(){var n=this,t=this.getTranslatedPhrase(LR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htLeft")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="horizontal",o="htLeft";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1},{key:"".concat(Dr,":center"),name:function(){var n=this,t=this.getTranslatedPhrase(HR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htCenter")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="horizontal",o="htCenter";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1},{key:"".concat(Dr,":right"),name:function(){var n=this,t=this.getTranslatedPhrase(FR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htRight")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="horizontal",o="htRight";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1},{key:"".concat(Dr,":justify"),name:function(){var n=this,t=this.getTranslatedPhrase(BR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htJustify")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="horizontal",o="htJustify";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1},{name:at},{key:"".concat(Dr,":top"),name:function(){var n=this,t=this.getTranslatedPhrase(VR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htTop")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="vertical",o="htTop";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1},{key:"".concat(Dr,":middle"),name:function(){var n=this,t=this.getTranslatedPhrase(WR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htMiddle")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="vertical",o="htMiddle";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1},{key:"".concat(Dr,":bottom"),name:function(){var n=this,t=this.getTranslatedPhrase(jR),r=Si(this.getSelectedRange(),function(i,o){var a=n.getCellMeta(i,o).className;if(a&&a.indexOf("htBottom")!==-1)return!0});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Os(t,function(a,s){return n.getCellMeta(a,s).className}),i="vertical",o="htBottom";this.runHooks("beforeCellAlignment",r,t,i,o),pa(t,i,o,function(a,s){return n.getCellMeta(a,s)},function(a,s,l,u){return n.setCellMeta(a,s,l,u)}),this.render()},disabled:!1}]}}}var wm="clear_column";function Ske(){return{key:wm,name:function(){return this.getTranslatedPhrase(OR)},callback:function(n,t){var r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled:function(){var n=Rs(this);return n?!this.selection.isSelectedByColumnHeader():!0}}}var rh="col_left";function Cke(){return{key:rh,name:function(){return this.getTranslatedPhrase(yR)},callback:function(n,t){var r=this.selection.isSelectedByCorner(),i=0;if(!r){var o=t[Math.max(t.length-1,0)];i=o.start.col}this.alter("insert_col",i,1,"ContextMenu.columnLeft"),r&&this.selectAll()},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var n=Rs(this);if(!n)return!0;if(this.selection.isSelectedByCorner()){var t=this.countCols();return t===0}return this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden:function(){return!this.getSettings().allowInsertColumn}}}var ih="col_right";function Rke(){return{key:ih,name:function(){return this.getTranslatedPhrase(bR)},callback:function(n,t){var r=this.selection.isSelectedByCorner(),i=0;if(r)i=this.countCols();else{var o,a=t[Math.max(t.length-1,0)],s=a==null||(o=a.end)===null||o===void 0?void 0:o.col;i=je(s)?s+1:0}this.alter("insert_col",i,1,"ContextMenu.columnRight"),r&&this.selectAll()},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var n=Rs(this);return n?this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols:!0},hidden:function(){return!this.getSettings().allowInsertColumn}}}var oh="make_read_only";function Oke(){return{key:oh,name:function(){var n=this,t=this.getTranslatedPhrase(RR),r=Si(this.getSelectedRange(),function(i,o){return n.getCellMeta(i,o).readOnly});return r&&(t=ao(t)),t},callback:function(){var n=this,t=this.getSelectedRange(),r=Si(t,function(i,o){return n.getCellMeta(i,o).readOnly});B(t,function(i){i.forAll(function(o,a){o>=0&&a>=0&&n.setCellMeta(o,a,"readOnly",!r)})}),this.render()},disabled:function(){return!!(this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}var _m="redo";function Eke(){return{key:_m,name:function(){return this.getTranslatedPhrase(CR)},callback:function(){this.redo()},hidden:function(){var n=this.getPlugin("undoRedo");return!n||!n.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}function Tke(e,n){return xke(e)||Mke(e,n)||Ake(e,n)||kke()}function kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ake(e,n){if(!!e){if(typeof e=="string")return $V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $V(e,n)}}function $V(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Mke(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function xke(e){if(Array.isArray(e))return e}var ah="remove_col";function Pke(){return{key:ah,name:function(){var n=this.getSelected(),t=0;if(n)if(n.length>1)t=1;else{var r=Tke(n[0],4),i=r[1],o=r[3];i-o!=0&&(t=1)}return this.getTranslatedPhrase(_R,t)},callback:function(){this.alter("remove_col",E_e(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){if(!this.isColumnModificationAllowed())return!0;var n=Rs(this);if(!n)return!0;var t=this.countCols();return this.selection.isSelectedByCorner()?t===0:this.selection.isSelectedByRowHeader()||t===0},hidden:function(){return!this.getSettings().allowRemoveColumn}}}function Ike(e,n){return Lke(e)||Nke(e,n)||Dke(e,n)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dke(e,n){if(!!e){if(typeof e=="string")return DV(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DV(e,n)}}function DV(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Nke(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Lke(e){if(Array.isArray(e))return e}var Sm="remove_row";function Hke(){return{key:Sm,name:function(){var n=this.getSelected(),t=0;if(n)if(n.length>1)t=1;else{var r=Ike(n[0],3),i=r[0],o=r[2];i-o!=0&&(t=1)}return this.getTranslatedPhrase(wR,t)},callback:function(){this.alter("remove_row",T_e(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){var n=Rs(this);if(!n)return!0;var t=this.countRows();return this.selection.isSelectedByCorner()?t===0:this.selection.isSelectedByColumnHeader()||t===0},hidden:function(){return!this.getSettings().allowRemoveRow}}}var Cm="row_above";function Fke(){return{key:Cm,name:function(){return this.getTranslatedPhrase(vR)},callback:function(n,t){var r=this.selection.isSelectedByCorner(),i=0;if(!r){var o=t[Math.max(t.length-1,0)];i=o.start.row}this.alter("insert_row",i,1,"ContextMenu.rowAbove"),r&&this.selectAll()},disabled:function(){var n=Rs(this);if(!n)return!0;if(this.selection.isSelectedByCorner()){var t=this.countRows();return t===0}return this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}}var Rm="row_below";function Bke(){return{key:Rm,name:function(){return this.getTranslatedPhrase(mR)},callback:function(n,t){var r=this.selection.isSelectedByCorner(),i=0;if(r)i=this.countRows();else{var o,a=t[Math.max(t.length-1,0)],s=a==null||(o=a.end)===null||o===void 0?void 0:o.row;i=je(s)?s+1:0}this.alter("insert_row",i,1,"ContextMenu.rowBelow"),r&&this.selectAll()},disabled:function(){var n=Rs(this);return n?this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows:!0},hidden:function(){return!this.getSettings().allowInsertRow}}}var sh="no_items";function Vke(){return{key:sh,name:function(){return this.getTranslatedPhrase(pR)},disabled:!0,isCommand:!1}}var Om="undo";function Wke(){return{key:Om,name:function(){return this.getTranslatedPhrase(SR)},callback:function(){this.undo()},hidden:function(){var n=this.getPlugin("undoRedo");return!n||!n.isEnabled()},disabled:function(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}var jn;function gr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var jke=[Cm,Rm,rh,ih,wm,Sm,ah,Om,_m,oh,Dr,at,sh],Uke=(jn={},gr(jn,at,GTe),gr(jn,sh,Vke),gr(jn,Cm,Fke),gr(jn,Rm,Bke),gr(jn,rh,Cke),gr(jn,ih,Rke),gr(jn,wm,Ske),gr(jn,Sm,Hke),gr(jn,ah,Pke),gr(jn,Om,Wke),gr(jn,_m,Eke),gr(jn,oh,Oke),gr(jn,Dr,_ke),jn);function NV(){var e={};return st(Uke,function(n,t){e[t]=n()}),e}function zke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function LV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yke(e,n,t){return n&&LV(e.prototype,n),t&&LV(e,t),e}var Gke=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zke(this,e),this.hot=n,this.predefinedItems=NV(),this.defaultOrderPattern=t}return Yke(e,[{key:"setPredefinedItems",value:function(t){var r=this,i={};this.defaultOrderPattern.length=0,st(t,function(o,a){var s="";o.name===at?(i[at]=o,s=at):isNaN(parseInt(a,10))?(o.key=o.key===void 0?a:o.key,i[a]=o,s=o.key):(i[o.key]=o,s=o.key),r.defaultOrderPattern.push(s)}),this.predefinedItems=i}},{key:"getItems",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Kke(t,this.defaultOrderPattern,this.predefinedItems)}}]),e}();function Kke(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=[],i=e;return i&&i.items?i=i.items:Array.isArray(i)||(i=n),rt(i)?st(i,function(o,a){var s=t[typeof o=="string"?o:a];s||(s=o),rt(o)?Vt(s,o):typeof s=="string"&&(s={name:s}),s.key===void 0&&(s.key=a),r.push(s)}):B(i,function(o,a){var s=t[o];!s&&jke.indexOf(o)>=0||(s||(s={name:o,key:"".concat(a)}),rt(o)&&Vt(s,o),s.key===void 0&&(s.key=a),r.push(s))}),r}var HV=Gke;function Xke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function FV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qke(e,n,t){return n&&FV(e.prototype,n),t&&FV(e,t),e}var Zke=function(){function e(n,t){Xke(this,e);var r=os(t),i=ra(t),o,a,s,l,u,c;this.rootWindow=t,this.type=this.getSourceType(n),this.type==="literal"?(o=parseInt(n.top,10),s=parseInt(n.left,10),u=n.height||0,c=n.width||0,a=o,l=s,o+=r,s+=i):this.type==="event"&&(o=parseInt(n.pageY,10),s=parseInt(n.pageX,10),u=n.target.clientHeight,c=n.target.clientWidth,a=o-r,l=s-i),this.top=o,this.topRelative=a,this.left=s,this.leftRelative=l,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=u,this.cellWidth=c}return qke(e,[{key:"getSourceType",value:function(t){var r="literal";return t instanceof Event&&(r="event"),r}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}},{key:"fitsOnRight",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),e}(),Qke=Zke;function Jke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function BV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eAe(e,n,t){return n&&BV(e.prototype,n),t&&BV(e,t),e}var VV=215,WV=function(){function e(n,t){Jke(this,e),this.hot=n,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:VV,container:this.hot.rootDocument.documentElement},this.eventManager=new Rt(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return eAe(e,[{key:"registerEvents",value:function(){for(var t=this,r=this.hot.rootWindow;r;)this.eventManager.addEventListener(r.document,"mousedown",function(i){return t.onDocumentMouseDown(i)}),this.eventManager.addEventListener(r.document,"contextmenu",function(i){return t.onDocumentContextMenu(i)}),r=Wg(r)}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"getSelectedItem",value:function(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}},{key:"hasSelectedItem",value:function(){return Array.isArray(this.hotMenu.getSelectedLast())}},{key:"setOffset",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.offset[t]=r}},{key:"isSubMenu",value:function(){return this.parentMenu!==null}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var r=$C(function(u){return t.openSubMenu(u)},300),i=this.options.minWidth||VV,o=!1,a=lr(this.menuItems,function(u){return u.key===sh&&(o=!0),JTe(u,t.hot)});if(a.length<1&&!o)a.push(NV()[sh]);else if(a.length===0)return;a=nke(a,at);var s=!1,l={data:a,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth:function(c){return je(c)&&c<i?i:c},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,maxCols:1,columns:[{data:"name",renderer:function(c,f,h,d,g,p){return t.menuItemRenderer(c,f,h,d,g,p)}}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",beforeKeyDown:function(c){return t.onBeforeKeyDown(c)},afterOnCellMouseOver:function(c,f){t.isAllSubMenusClosed()?r(f.row):t.openSubMenu(f.row)},rowHeights:function(c){return a[c].name===at?1:23},afterOnCellContextMenu:function(c){c.preventDefault(),DS()&&s&&t.hasSelectedItem()&&t.close(!0)},beforeOnCellMouseUp:function(c){t.hasSelectedItem()&&(s=!t.isCommandPassive(t.getSelectedItem()),t.executeCommand(c))},afterOnCellMouseUp:function(c){(!DS()||!oa(c))&&s&&t.hasSelectedItem()&&(Wr()||$S()?setTimeout(function(){return t.close(!0)},325):t.close(!0))},afterUnlisten:function(){!t.hasSelectedItem()&&t.isOpened()&&t.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new zO(this.container,l),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.isOpened()||(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!XTe(r))return!1;var i=this.hotMenu.getSourceDataAtRow(t),o=new e(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return o.setMenuItems(i.submenu.items),o.open(),o.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=o,o}},{key:"closeSubMenu",value:function(t){var r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];i&&(i.destroy(),delete this.hotSubMenus[r.key])}},{key:"closeAllSubMenus",value:function(){var t=this;B(this.hotMenu.getData(),function(r,i){return t.closeSubMenu(i)})}},{key:"isAllSubMenusClosed",value:function(){return Object.keys(this.hotSubMenus).length===0}},{key:"destroy",value:function(){var t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}},{key:"isOpened",value:function(){return this.hotMenu!==null}},{key:"executeCommand",value:function(t){if(!(!this.isOpened()||!this.hasSelectedItem())){var r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),!this.isCommandPassive(r)){var i=this.hot.getSelectedRange(),o=i?KTe(i):[];this.runLocalHooks("executeCommand",r.key,o,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,o,t)}}}},{key:"isCommandPassive",value:function(t){var r=t.isCommand,i=t.name,o=t.disabled,a=t.submenu,s=o===!0||typeof o=="function"&&o.call(this.hot)===!0;return r===!1||i===at||s===!0||a}},{key:"setPosition",value:function(t){var r=new Qke(t,this.container.ownerDocument.defaultView);this.options.keepInViewport?(r.fitsBelow(this.container)?this.setPositionBelowCursor(r):r.fitsAbove(this.container)?this.setPositionAboveCursor(r):this.setPositionBelowCursor(r),r.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(r):this.setPositionOnLeftOfCursor(r)):(this.setPositionBelowCursor(r),this.setPositionOnRightOfCursor(r))}},{key:"setPositionAboveCursor",value:function(t){var r=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(r=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(r,"px")}},{key:"setPositionBelowCursor",value:function(t){var r=this.offset.below+t.top+1;this.isSubMenu()&&(r=t.top-1),this.container.style.top="".concat(r,"px")}},{key:"setPositionOnRightOfCursor",value:function(t){var r;this.isSubMenu()?r=1+t.left+t.cellWidth:r=this.offset.right+1+t.left,this.container.style.left="".concat(r,"px")}},{key:"setPositionOnLeftOfCursor",value:function(t){var r=wn(this.hot.rootDocument),i=this.offset.left+t.left-this.container.offsetWidth+r+4;this.container.style.left="".concat(i,"px")}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);gm(t)||pm(t)||vm(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,r=this.hotMenu.getCell(t,0);gm(r)||pm(r)||vm(r)?this.selectPrevCell(t,0):this.hotMenu.selectCell(t,0)}},{key:"selectNextCell",value:function(t,r){var i=t+1,o=i<this.hotMenu.countRows()?this.hotMenu.getCell(i,r):null;!o||(gm(o)||pm(o)||vm(o)?this.selectNextCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"selectPrevCell",value:function(t,r){var i=t-1,o=i>=0?this.hotMenu.getCell(i,r):null;!o||(gm(o)||pm(o)||vm(o)?this.selectPrevCell(i,r):this.hotMenu.selectCell(i,r))}},{key:"menuItemRenderer",value:function(t,r,i,o,a,s){var l=this,u=t.getSourceDataAtRow(i),c=this.hot.rootDocument.createElement("div"),f=function(m){return kt(m,"submenu")},h=function(m){return new RegExp(at,"i").test(m.name)},d=function(m){return m.disabled===!0||typeof m.disabled=="function"&&m.disabled.call(l.hot)===!0},g=function(m){return m.disableSelection},p=s;typeof p=="function"&&(p=p.call(this.hot)),Mr(r),ve(c,"htItemWrapper"),r.appendChild(c),h(u)?ve(r,"htSeparator"):typeof u.renderer=="function"?(ve(r,"htCustomMenuRenderer"),r.appendChild(u.renderer(t,c,i,o,a,p))):ta(c,p),d(u)?(ve(r,"htDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):g(u)?(ve(r,"htSelectionDisabled"),this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()})):f(u)?(ve(r,"htSubmenu"),g(u)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)})):(Je(r,["htSubmenu","htDisabled"]),g(u)?this.eventManager.addEventListener(r,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(r,"mouseenter",function(){return t.selectCell(i,o,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.options.container.ownerDocument,i=t,o;return i&&(xt(i)&&(i=i.call(this.hot),i===null||Dt(i)?i="":i=i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i="".concat(this.options.className,"Sub_").concat(i),o=r.querySelector(".".concat(this.options.className,".").concat(i))),o||(o=r.createElement("div"),ve(o,"htMenu ".concat(this.options.className)),i&&ve(o,i),this.options.container.appendChild(o)),o}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(t){if(Sf(t.target)&&this.container.contains(t.target)){Lt(t);return}var r=this.hotMenu.getSelectedLast(),i=!1;switch(this.keyEvent=!0,t.keyCode){case me.ESCAPE:this.close(),i=!0;break;case me.ENTER:r&&(this.hotMenu.getSourceDataAtRow(r[0]).submenu?i=!0:(this.executeCommand(t),this.close(!0)));break;case me.ARROW_DOWN:r?this.selectNextCell(r[0],r[1]):this.selectFirstCell(),i=!0;break;case me.ARROW_UP:r?this.selectPrevCell(r[0],r[1]):this.selectLastCell(),i=!0;break;case me.ARROW_RIGHT:if(r){var o=this.openSubMenu(r[0]);o&&o.selectFirstCell()}i=!0;break;case me.ARROW_LEFT:r&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),i=!0);break}i&&(t.preventDefault(),Lt(t)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var t=this.hotMenu.view.wt.wtTable,r=this.hotMenu.getSettings().data,i=t.hider.style,o=t.holder.style,a=parseInt(i.width,10),s=Qt(r,function(l,u){return l+(u.name===at?1:26)},0);o.width="".concat(a+3,"px"),o.height="".concat(s+3,"px"),i.height=o.height}},{key:"onAfterSelection",value:function(t,r,i,o,a){this.keyEvent===!1&&(a.value=!0)}},{key:"onDocumentMouseDown",value:function(t){!this.isOpened()||(this.options.standalone&&this.hotMenu&&!Jo(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Jo(t.target,".htMenu")&&this.close(!0))}},{key:"onDocumentContextMenu",value:function(t){!this.isOpened()||ze(t.target,"htCore")&&Jo(t.target,this.hotMenu.rootElement)&&t.preventDefault()}}]),e}();Ot(WV,nr);var zE=WV;function Em(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Em=function(t){return typeof t}:Em=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function tAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nAe(e,n,t){return n&&jV(e.prototype,n),t&&jV(e,t),e}function Ts(){return typeof Reflect!="undefined"&&Reflect.get?Ts=Reflect.get:Ts=function(n,t,r){var i=rAe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ts.apply(this,arguments)}function rAe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=lo(e),e!==null););return e}function iAe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&YE(e,n)}function YE(e,n){return YE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},YE(e,n)}function oAe(e){var n=sAe();return function(){var r=lo(e),i;if(n){var o=lo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aAe(this,i)}}function aAe(e,n){if(n&&(Em(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UV(e)}function UV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sAe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lo(e){return lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lo(e)}var Tm="contextMenu",lAe=70;De.getSingleton().register("afterContextMenuDefaultOptions");De.getSingleton().register("beforeContextMenuShow");De.getSingleton().register("afterContextMenuShow");De.getSingleton().register("afterContextMenuHide");De.getSingleton().register("afterContextMenuExecute");var zV=function(e){iAe(t,e);var n=oAe(t);function t(r){var i;return tAe(this,t),i=n.call(this,r),i.eventManager=new Rt(UV(i)),i.commandExecutor=new IV(i.hot),i.itemsFactory=null,i.menu=null,i}return nAe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Tm]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[Tm];typeof o.callback=="function"&&this.commandExecutor.setCommonCallback(o.callback),this.menu=new zE(this.hot,{className:"htContextMenu",keepInViewport:!0,container:o.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),this.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),this.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),this.menu.addLocalHook("executeCommand",function(){for(var a,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return(a=i.executeCommand).call.apply(a,[i].concat(l))}),this.addHook("afterOnCellContextMenu",function(a){return i.onAfterOnCellContextMenu(a)}),Ts(lo(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ts(lo(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),Ts(lo(t.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(i){if(!!this.menu&&(this.prepareMenuItems(),this.menu.open(),!!this.menu.isOpened())){var o=0,a=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var s=this.hot.rootWindow.frameElement,l=s.getBoundingClientRect(),u=l.top,c=l.left;o=u-os(i.view),a=c-ra(i.view)}else o=-1*os(this.menu.hotMenu.rootWindow),a=-1*ra(this.menu.hotMenu.rootWindow);this.menu.setPosition({top:parseInt(i.pageY,10)+o,left:parseInt(i.pageX,10)+a})}}},{key:"close",value:function(){!this.menu||(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(i){var o;this.itemsFactory===null&&this.prepareMenuItems();for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];(o=this.commandExecutor).execute.apply(o,[i].concat(s))}},{key:"prepareMenuItems",value:function(){var i=this;this.itemsFactory=new HV(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[Tm],a={items:this.itemsFactory.getItems(o)};this.hot.runHooks("afterContextMenuDefaultOptions",a),this.itemsFactory.setPredefinedItems(a.items);var s=this.itemsFactory.getItems(o);this.hot.runHooks("beforeContextMenuSetItems",s),this.menu.setMenuItems(s),B(s,function(l){return i.commandExecutor.registerCommand(l.key,l)})}},{key:"onAfterOnCellContextMenu",value:function(i){var o=this.hot.getSettings(),a=o.rowHeaders,s=o.colHeaders;function l(c){return c.nodeName==="TD"||c.parentNode.nodeName==="TD"}var u=i.target;this.close(),!ze(u,"handsontableInput")&&(i.preventDefault(),i.stopPropagation(),!(!(a||s)&&!l(u)&&!(ze(u,"current")&&ze(u,"wtBorder")))&&this.open(i))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),Ts(lo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Tm}},{key:"PLUGIN_PRIORITY",get:function(){return lAe}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[Cm,Rm,at,rh,ih,at,Sm,ah,at,Om,_m,at,oh,at,Dr]}}]),t}(wt);zV.SEPARATOR={name:at};function uAe(e){return{key:"copy",name:function(){return this.getTranslatedPhrase(ER)},callback:function(){e.copy()},disabled:function(){if(this.countRows()===0||this.countCols()===0)return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}function cAe(e){return{key:"cut",name:function(){return this.getTranslatedPhrase(TR)},callback:function(){e.cut()},disabled:function(){if(this.countRows()===0||this.countCols()===0)return!0;var t=this.getSelected();return!t||t.length>1},hidden:!1}}function fAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function YV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hAe(e,n,t){return n&&YV(e.prototype,n),t&&YV(e,t),e}var dAe=function(){function e(){fAe(this,e),this.data={}}return hAe(e,[{key:"setData",value:function(t,r){this.data[t]=r}},{key:"getData",value:function(t){return this.data[t]||void 0}}]),e}();function gAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var pAe=function e(){gAe(this,e),this.clipboardData=new dAe},vAe=cg,mAe=FN;vAe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},mAe);function yAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bAe(e,n,t){return n&&GV(e.prototype,n),t&&GV(e,t),e}var GE=function(){function e(n){yAe(this,e),this.rootDocument=n.defaultView?n:n.ownerDocument,this.mainElement=null,this.eventManager=new Rt(this),this.listenersCount=new WeakSet,this.container=n}return bAe(e,[{key:"useSecondaryElement",value:function(){var t=SAe(this.container);this.listenersCount.has(t)||(this.listenersCount.add(t),KV(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),KV(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",Wr()||xN(this.mainElement)}}]),e}();Ot(GE,nr);var km=new WeakMap;function wAe(e){var n=new GE(e),t=km.get(e);return t=isNaN(t)?0:t,km.set(e,t+1),n}function _Ae(e){e.eventManager.clear()}var KE=function(n,t){return function(r){return t.runLocalHooks(n,r)}};function KV(e,n,t){e.addEventListener(n,"copy",KE("copy",t)),e.addEventListener(n,"cut",KE("cut",t)),e.addEventListener(n,"paste",KE("paste",t))}var Am=new WeakMap;function SAe(e){var n=Am.get(e);if(n)return n.parentElement||e.appendChild(n),n;var t=e.defaultView?e:e.ownerDocument,r=t.createElement("textarea");return Am.set(e,r),r.setAttribute("data-hot-input",""),r.className="HandsontableCopyPaste",r.tabIndex=-1,r.autocomplete="off",r.wrap="hard",r.value=" ",e.appendChild(r),r}function XV(e){if(e instanceof GE){var n=km.get(e.container);if(n=isNaN(n)?0:n,n>0&&(n-=1),_Ae(e),n<=0){n=0;var t=Am.get(e.container);t&&t.parentNode&&(t.parentNode.removeChild(t),Am.delete(e.container)),e.mainElement=null}km.set(e.container,n)}}function CAe(e,n){return TAe(e)||EAe(e,n)||OAe(e,n)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(e,n){if(!!e){if(typeof e=="string")return qV(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qV(e,n)}}function qV(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function EAe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function TAe(e){if(Array.isArray(e))return e}function lh(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lh=function(t){return typeof t}:lh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function kAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ZV(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AAe(e,n,t){return n&&ZV(e.prototype,n),t&&ZV(e,t),e}function ks(){return typeof Reflect!="undefined"&&Reflect.get?ks=Reflect.get:ks=function(n,t,r){var i=MAe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},ks.apply(this,arguments)}function MAe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=uo(e),e!==null););return e}function xAe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&XE(e,n)}function XE(e,n){return XE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},XE(e,n)}function PAe(e){var n=$Ae();return function(){var r=uo(e),i;if(n){var o=uo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return IAe(this,i)}}function IAe(e,n){if(n&&(lh(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(e)}function QV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Ae(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uo(e)}De.getSingleton().register("afterCopyLimit");De.getSingleton().register("modifyCopyableRange");De.getSingleton().register("beforeCut");De.getSingleton().register("afterCut");De.getSingleton().register("beforePaste");De.getSingleton().register("afterPaste");De.getSingleton().register("beforeCopy");De.getSingleton().register("afterCopy");var qE="copyPaste",DAe=80,NAe=1/0,LAe=1/0,As=new WeakMap,JV=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),HAe=function(e){xAe(t,e);var n=PAe(t);function t(r){var i;return kAe(this,t),i=n.call(this,r),i.columnsLimit=LAe,i.copyableRanges=[],i.focusableElement=void 0,i.pasteMode="overwrite",i.rowsLimit=NAe,i.uiContainer=i.hot.rootDocument.body,As.set(QV(i),{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),i}return AAe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[qE]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings(),a=o[qE],s=o.fragmentSelection,l=As.get(this);l.isFragmentSelectionEnabled=!!s,lh(a)==="object"&&(this.pasteMode=a.pasteMode||this.pasteMode,this.rowsLimit=isNaN(a.rowsLimit)?this.rowsLimit:a.rowsLimit,this.columnsLimit=isNaN(a.columnsLimit)?this.columnsLimit:a.columnsLimit,this.uiContainer=a.uiContainer||this.uiContainer),this.addHook("afterContextMenuDefaultOptions",function(u){return i.onAfterContextMenuDefaultOptions(u)}),this.addHook("afterOnCellMouseUp",function(){return i.onAfterOnCellMouseUp()}),this.addHook("afterSelectionEnd",function(){return i.onAfterSelectionEnd()}),this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown()}),this.focusableElement=wAe(this.uiContainer),this.focusableElement.addLocalHook("copy",function(u){return i.onCopy(u)}).addLocalHook("cut",function(u){return i.onCut(u)}).addLocalHook("paste",function(u){return i.onPaste(u)}),ks(uo(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),ks(uo(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&XV(this.focusableElement),ks(uo(t.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){var i=As.get(this);i.isTriggeredByCopy=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"cut",value:function(){var i=As.get(this);i.isTriggeredByCut=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(i){var o=this,a=[],s=[],l=[];return B(i,function(u){Le(u.startRow,u.endRow,function(c){s.indexOf(c)===-1&&s.push(c)}),Le(u.startCol,u.endCol,function(c){l.indexOf(c)===-1&&l.push(c)})}),B(s,function(u){var c=[];B(l,function(f){c.push(o.hot.getCopyableData(u,f))}),a.push(c)}),Xf(a)}},{key:"getRangedData",value:function(i){var o=this,a=[],s=[],l=[];return B(i,function(u){Le(u.startRow,u.endRow,function(c){s.indexOf(c)===-1&&s.push(c)}),Le(u.startCol,u.endCol,function(c){l.indexOf(c)===-1&&l.push(c)})}),B(s,function(u){var c=[];B(l,function(f){c.push(o.hot.getCopyableData(u,f))}),a.push(c)}),a}},{key:"paste",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;if(!(!i&&!o)){var a=new pAe;i&&a.clipboardData.setData("text/plain",i),o&&a.clipboardData.setData("text/html",o),this.getOrCreateFocusableElement(),this.onPaste(a)}}},{key:"setCopyableText",value:function(){var i=this.hot.getSelectedRangeLast();if(!!i){var o=i.getTopLeftCorner(),a=i.getBottomRightCorner(),s=o.row,l=o.col,u=a.row,c=a.col,f=Math.min(u,s+this.rowsLimit-1),h=Math.min(c,l+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:s,startCol:l,endRow:f,endCol:h}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),(u!==f||c!==h)&&this.hot.runHooks("afterCopyLimit",u-s+1,c-l+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var i=this.hot.getActiveEditor(),o=i?i.TEXTAREA:void 0;o?this.focusableElement.setFocusableElement(o):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var i=this.hot.getActiveEditor();return i&&i.isOpened()}},{key:"populateValues",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!!i.length){for(var a=i.length,s=i[0].length,l=[],u=o.getTopLeftCorner(),c=u.row,f=u.col,h=o.getBottomRightCorner(),d=h.row,g=h.col,p=c,v=f,m=c,w=f;l.length<a||p<=d;){var C=this.hot.getCellMeta(p,f),E=C.skipRowOnPaste,k=C.visualRow;if(p=k+1,E!==!0){m=k,v=f;for(var $=[],D=l.length%a;$.length<s||v<=g;){var Y=this.hot.getCellMeta(c,v),L=Y.skipColumnOnPaste,X=Y.visualCol;if(v=X+1,L!==!0){w=X;var te=$.length%s;$.push(i[D][te])}}l.push($)}}return this.hot.populateFromArray(c,f,l,void 0,void 0,"CopyPaste.paste",this.pasteMode),[c,f,m,w]}}},{key:"onCopy",value:function(i){var o=As.get(this);if(!(!this.hot.isListening()&&!o.isTriggeredByCopy||this.isEditorOpened())){this.setCopyableText(),o.isTriggeredByCopy=!1;var a=this.getRangedData(this.copyableRanges),s=!!this.hot.runHooks("beforeCopy",a,this.copyableRanges);if(s){var l=Xf(a);if(i&&i.clipboardData){var u=T0(a,this.hot.rootDocument);i.clipboardData.setData("text/plain",l),i.clipboardData.setData("text/html",[JV,u].join(""))}else typeof ClipboardEvent=="undefined"&&this.hot.rootWindow.clipboardData.setData("Text",l);this.hot.runHooks("afterCopy",a,this.copyableRanges)}i.preventDefault()}}},{key:"onCut",value:function(i){var o=As.get(this);if(!(!this.hot.isListening()&&!o.isTriggeredByCut||this.isEditorOpened())){this.setCopyableText(),o.isTriggeredByCut=!1;var a=this.getRangedData(this.copyableRanges),s=!!this.hot.runHooks("beforeCut",a,this.copyableRanges);if(s){var l=Xf(a);if(i&&i.clipboardData){var u=T0(a,this.hot.rootDocument);i.clipboardData.setData("text/plain",l),i.clipboardData.setData("text/html",[JV,u].join(""))}else typeof ClipboardEvent=="undefined"&&this.hot.rootWindow.clipboardData.setData("Text",l);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",a,this.copyableRanges)}i.preventDefault()}}},{key:"onPaste",value:function(i){if(!(!this.hot.isListening()||this.isEditorOpened())){i&&i.preventDefault&&i.preventDefault();var o;if(i&&typeof i.clipboardData!="undefined"){var a=Vg(i.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(a&&/(<table)|(<TABLE)/g.test(a)){var s=FH(a,this.hot.rootDocument);o=s.data}else o=i.clipboardData.getData("text/plain")}else typeof ClipboardEvent=="undefined"&&typeof this.hot.rootWindow.clipboardData!="undefined"&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof o=="string"&&(o=Y_e(o)),!(o&&o.length===0)&&this.hot.runHooks("beforePaste",o,this.copyableRanges)!==!1){var l=this.populateValues(o),u=CAe(l,4),c=u[0],f=u[1],h=u[2],d=u[3];this.hot.selectCell(c,f,Math.min(this.hot.countRows()-1,h),Math.min(this.hot.countCols()-1,d)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:"---------"},uAe(this),cAe(this))}},{key:"onAfterOnCellMouseUp",value:function(){!this.hot.isListening()||this.isEditorOpened()||this.hot.getSettings().fragmentSelection||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){var i=As.get(this),o=i.isFragmentSelectionEnabled;this.isEditorOpened()||(this.getOrCreateFocusableElement(),!(o&&this.focusableElement.getFocusableElement()!==this.hot.rootDocument.activeElement&&kN())&&(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(!(!this.hot.isListening()||this.isEditorOpened())){var i=this.hot.rootDocument.activeElement,o=this.hot.getActiveEditor();!o||i!==this.focusableElement.getFocusableElement()&&i!==o.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(XV(this.focusableElement),this.focusableElement=null),ks(uo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return qE}},{key:"PLUGIN_PRIORITY",get:function(){return DAe}}]),t}(wt);function eW(e,n){return"border_row".concat(e,"col").concat(n)}function uh(){return{width:1,color:"#000"}}function co(){return{hide:!0}}function FAe(){return{width:1,color:"#000",cornerVisible:!1}}function ZE(e,n){return{id:eW(e,n),border:FAe(),row:e,col:n,top:co(),right:co(),bottom:co(),left:co()}}function BAe(e,n){return kt(n,"border")&&(e.border=n.border),kt(n,"top")&&(n.top?(rt(n.top)||(n.top=uh()),e.top=n.top):(n.top=co(),e.top=n.top)),kt(n,"right")&&(n.right?(rt(n.right)||(n.right=uh()),e.right=n.right):(n.right=co(),e.right=n.right)),kt(n,"bottom")&&(n.bottom?(rt(n.bottom)||(n.bottom=uh()),e.bottom=n.bottom):(n.bottom=co(),e.bottom=n.bottom)),kt(n,"left")&&(n.left?(rt(n.left)||(n.left=uh()),e.left=n.left):(n.left=co(),e.left=n.left)),e}function fo(e,n){var t=!1;return B(e.getSelectedRange(),function(r){r.forAll(function(i,o){if(!(i<0||o<0)){var a=e.getCellMeta(i,o).borders;if(a)if(n){if(!kt(a[n],"hide")||a[n].hide===!1)return t=!0,!1}else return t=!0,!1}})}),t}function Mm(e){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(e)}function VAe(e){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(GR),r=fo(this,"bottom");return r&&(t=Mm(t)),t},callback:function(t,r){var i=fo(this,"bottom");e.prepareBorder(r,"bottom",i)}}}function WAe(e){return{key:"borders:left",name:function(){var t=this.getTranslatedPhrase(KR),r=fo(this,"left");return r&&(t=Mm(t)),t},callback:function(t,r){var i=fo(this,"left");e.prepareBorder(r,"left",i)}}}function jAe(e){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(XR)},callback:function(t,r){e.prepareBorder(r,"noBorders")},disabled:function(){return!fo(this)}}}function UAe(e){return{key:"borders:right",name:function(){var t=this.getTranslatedPhrase(YR),r=fo(this,"right");return r&&(t=Mm(t)),t},callback:function(t,r){var i=fo(this,"right");e.prepareBorder(r,"right",i)}}}function zAe(e){return{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(zR),r=fo(this,"top");return r&&(t=Mm(t)),t},callback:function(t,r){var i=fo(this,"top");e.prepareBorder(r,"top",i)}}}function xm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xm=function(t){return typeof t}:xm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function tW(e,n){return XAe(e)||KAe(e,n)||GAe(e,n)||YAe()}function YAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(e,n){if(!!e){if(typeof e=="string")return nW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nW(e,n)}}function nW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function KAe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function XAe(e){if(Array.isArray(e))return e}function qAe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZAe(e,n,t){return n&&rW(e.prototype,n),t&&rW(e,t),e}function Ms(){return typeof Reflect!="undefined"&&Reflect.get?Ms=Reflect.get:Ms=function(n,t,r){var i=QAe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ms.apply(this,arguments)}function QAe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ho(e),e!==null););return e}function JAe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&QE(e,n)}function QE(e,n){return QE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},QE(e,n)}function e1e(e){var n=r1e();return function(){var r=ho(e),i;if(n){var o=ho(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return t1e(this,i)}}function t1e(e,n){if(n&&(xm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n1e(e)}function n1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r1e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ho(e)}var Pm="customBorders",i1e=90,o1e=function(e){JAe(t,e);var n=e1e(t);function t(r){var i;return qAe(this,t),i=n.call(this,r),i.savedBorders=[],i}return ZAe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Pm]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.onAfterContextMenuDefaultOptions(o)}),this.addHook("init",function(){return i.onAfterInit()}),Ms(ho(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),Ms(ho(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),Ms(ho(t.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(i,o){var a=this,s=["top","right","bottom","left"],l=o?Object.keys(o):s,u=Jl(i),c=Kf(u);B(i,function(f){for(var h=c(f),d=tW(h,4),g=d[0],p=d[1],v=d[2],m=d[3],w=function(k){for(var $=function(L){B(l,function(X){a.prepareBorderFromCustomAdded(k,L,o,X)})},D=p;D<=m;D+=1)$(D)},C=g;C<=v;C+=1)w(C)}),this.hot.view.render()}},{key:"getBorders",value:function(i){var o=this;if(!Array.isArray(i))return this.savedBorders;var a=Jl(i),s=Kf(a),l=[];return B(i,function(u){for(var c=s(u),f=tW(c,4),h=f[0],d=f[1],g=f[2],p=f[3],v=function(C){for(var E=function(D){B(o.savedBorders,function(Y){Y.row===C&&Y.col===D&&l.push(Y)})},k=d;k<=p;k+=1)E(k)},m=h;m<=g;m+=1)v(m)}),l}},{key:"clearBorders",value:function(i){var o=this;i?this.setBorders(i):(B(this.savedBorders,function(a){o.clearBordersFromSelectionSettings(a.id),o.clearNullCellRange(),o.hot.removeCellMeta(a.row,a.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(i,o){var a=this.checkSavedBorders(i);a||this.savedBorders.push(i);var s=new fn(new ae(i.row,i.col)),l=this.checkCustomSelections(i,s,o);l||this.hot.selection.highlight.addCustomSelection({border:i,visualCellRange:s})}},{key:"prepareBorderFromCustomAdded",value:function(i,o,a,s){var l=this.hot.countRows(),u=this.hot.countCols();if(!(i>=l||o>=u)){var c=ZE(i,o);a&&(c=BAe(c,a),B(this.hot.selection.highlight.customSelections,function(f){if(c.id===f.settings.id)return Object.assign(f.settings,a),c.id=f.settings.id,c.left=f.settings.left,c.right=f.settings.right,c.top=f.settings.top,c.bottom=f.settings.bottom,!1})),this.hot.setCellMeta(i,o,"borders",c),this.insertBorderIntoSettings(c,s)}}},{key:"prepareBorderFromCustomAddedRange",value:function(i){var o=this,a=i.range,s=Math.min(a.to.row,this.hot.countRows()-1),l=Math.min(a.to.col,this.hot.countCols()-1);Le(a.from.row,s,function(u){Le(a.from.col,l,function(c){var f=ZE(u,c),h=0;u===a.from.row&&kt(i,"top")&&(h+=1,f.top=i.top),u===a.to.row&&kt(i,"bottom")&&(h+=1,f.bottom=i.bottom),c===a.from.col&&kt(i,"left")&&(h+=1,f.left=i.left),c===a.to.col&&kt(i,"right")&&(h+=1,f.right=i.right),h>0&&(o.hot.setCellMeta(u,c,"borders",f),o.insertBorderIntoSettings(f))})})}},{key:"removeAllBorders",value:function(i,o){var a=eW(i,o);this.spliceBorder(a),this.clearBordersFromSelectionSettings(a),this.clearNullCellRange(),this.hot.removeCellMeta(i,o,"borders")}},{key:"setBorder",value:function(i,o,a,s){var l=this.hot.getCellMeta(i,o).borders;if((!l||l.border===void 0)&&(l=ZE(i,o)),s){l[a]=co();var u=this.countHide(l);if(u===4)this.removeAllBorders(i,o);else{var c=this.checkCustomSelectionsFromContextMenu(l,a,s);c||this.insertBorderIntoSettings(l),this.hot.setCellMeta(i,o,"borders",l)}}else{l[a]=uh();var f=this.checkCustomSelectionsFromContextMenu(l,a,s);f||this.insertBorderIntoSettings(l),this.hot.setCellMeta(i,o,"borders",l)}}},{key:"prepareBorder",value:function(i,o,a){var s=this;B(i,function(l){var u=l.start,c=l.end;if(u.row===c.row&&u.col===c.col)o==="noBorders"?s.removeAllBorders(u.row,u.col):s.setBorder(u.row,u.col,o,a);else switch(o){case"noBorders":Le(u.col,c.col,function(f){Le(u.row,c.row,function(h){s.removeAllBorders(h,f)})});break;case"top":Le(u.col,c.col,function(f){s.setBorder(u.row,f,o,a)});break;case"right":Le(u.row,c.row,function(f){s.setBorder(f,c.col,o,a)});break;case"bottom":Le(u.col,c.col,function(f){s.setBorder(c.row,f,o,a)});break;case"left":Le(u.row,c.row,function(f){s.setBorder(f,u.col,o,a)});break}})}},{key:"createCustomBorders",value:function(i){var o=this;B(i,function(a){a.range?o.prepareBorderFromCustomAddedRange(a):o.prepareBorderFromCustomAdded(a.row,a.col,a)})}},{key:"countHide",value:function(i){var o=Object.values(i);return Qt(o,function(a,s){var l=a;return s.hide&&(l+=1),l},0)}},{key:"clearBordersFromSelectionSettings",value:function(i){var o=it(this.hot.selection.highlight.customSelections,function(a){return a.settings.id}).indexOf(i);o>-1&&this.hot.selection.highlight.customSelections[o].clear()}},{key:"clearNullCellRange",value:function(){var i=this;B(this.hot.selection.highlight.customSelections,function(o,a){if(o.cellRange===null)return i.hot.selection.highlight.customSelections[a].destroy(),i.hot.selection.highlight.customSelections.splice(a,1),!1})}},{key:"hideBorders",value:function(){var i=this;B(this.savedBorders,function(o){i.clearBordersFromSelectionSettings(o.id),i.clearNullCellRange()})}},{key:"spliceBorder",value:function(i){var o=it(this.savedBorders,function(a){return a.id}).indexOf(i);o>-1&&this.savedBorders.splice(o,1)}},{key:"checkSavedBorders",value:function(i){var o=this,a=!1,s=this.countHide(i);return s===4?(this.spliceBorder(i.id),a=!0):B(this.savedBorders,function(l,u){if(i.id===l.id)return o.savedBorders[u]=i,a=!0,!1}),a}},{key:"checkCustomSelectionsFromContextMenu",value:function(i,o,a){var s=!1;return B(this.hot.selection.highlight.customSelections,function(l){if(i.id===l.settings.id)return st(l.instanceBorders,function(u){u.toggleHiddenClass(o,a)}),s=!0,!1}),s}},{key:"checkCustomSelections",value:function(i,o,a){var s=this.countHide(i),l=!1;return s===4?(this.removeAllBorders(i.row,i.col),l=!0):B(this.hot.selection.highlight.customSelections,function(u){if(i.id===u.settings.id)return u.visualCellRange=o,u.commit(),a&&st(u.instanceBorders,function(c){c.changeBorderStyle(a,i)}),l=!0,!1}),l}},{key:"changeBorderSettings",value:function(){var i=this.hot.getSettings()[Pm];Array.isArray(i)?(i.length||(this.savedBorders=i),this.createCustomBorders(i)):i!==void 0&&this.createCustomBorders(this.savedBorders)}},{key:"onAfterContextMenuDefaultOptions",value:function(i){!this.hot.getSettings()[Pm]||i.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(UR)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[zAe(this),UAe(this),VAe(this),WAe(this),jAe(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){Ms(ho(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Pm}},{key:"PLUGIN_PRIORITY",get:function(){return i1e}}]),t}(wt);function Im(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Im=function(t){return typeof t}:Im=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function a1e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function iW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s1e(e,n,t){return n&&iW(e.prototype,n),t&&iW(e,t),e}function xs(){return typeof Reflect!="undefined"&&Reflect.get?xs=Reflect.get:xs=function(n,t,r){var i=l1e(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},xs.apply(this,arguments)}function l1e(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=go(e),e!==null););return e}function u1e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&JE(e,n)}function JE(e,n){return JE=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},JE(e,n)}function c1e(e){var n=h1e();return function(){var r=go(e),i;if(n){var o=go(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return f1e(this,i)}}function f1e(e,n){if(n&&(Im(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oW(e)}function oW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h1e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},go(e)}var aW="dragToScroll",d1e=100,g1e=function(e){u1e(t,e);var n=c1e(t);function t(r){var i;return a1e(this,t),i=n.call(this,r),i.eventManager=new Rt(oW(i)),i.boundaries=null,i.callback=null,i.listening=!1,i}return s1e(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[aW]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(o){return i.setupListening(o)}),this.addHook("afterOnCellCornerMouseDown",function(o){return i.setupListening(o)}),this.registerEvents(),xs(go(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),xs(go(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),xs(go(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(i){this.boundaries=i}},{key:"setCallback",value:function(i){this.callback=i}},{key:"check",value:function(i,o){var a=0,s=0;o<this.boundaries.top?s=o-this.boundaries.top:o>this.boundaries.bottom&&(s=o-this.boundaries.bottom),i<this.boundaries.left?a=i-this.boundaries.left:i>this.boundaries.right&&(a=i-this.boundaries.right),this.callback(a,s)}},{key:"listen",value:function(){this.listening=!0}},{key:"unlisten",value:function(){this.listening=!1}},{key:"isListening",value:function(){return this.listening}},{key:"registerEvents",value:function(){for(var i=this,o=this.hot.rootWindow,a=o;a;)this.eventManager.addEventListener(a.document,"contextmenu",function(){return i.unlisten()}),this.eventManager.addEventListener(a.document,"mouseup",function(){return i.unlisten()}),this.eventManager.addEventListener(a.document,"mousemove",function(s){return i.onMouseMove(s)}),a=Wg(a)}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(i){if(!oa(i)){var o=this.hot.view.wt.wtTable.holder;o!==this.hot.rootWindow&&(this.setBoundaries(o.getBoundingClientRect()),this.setCallback(function(a,s){a<0?o.scrollLeft-=50:a>0&&(o.scrollLeft+=50),s<0?o.scrollTop-=20:s>0&&(o.scrollTop+=20)}),this.listen())}}},{key:"onMouseMove",value:function(i){!this.isListening()||this.check(i.clientX,i.clientY)}},{key:"destroy",value:function(){xs(go(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return aW}},{key:"PLUGIN_PRIORITY",get:function(){return d1e}}]),t}(wt);function $m(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$m=function(t){return typeof t}:$m=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function p1e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function sW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v1e(e,n,t){return n&&sW(e.prototype,n),t&&sW(e,t),e}function Ps(){return typeof Reflect!="undefined"&&Reflect.get?Ps=Reflect.get:Ps=function(n,t,r){var i=m1e(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ps.apply(this,arguments)}function m1e(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=po(e),e!==null););return e}function y1e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&eT(e,n)}function eT(e,n){return eT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},eT(e,n)}function b1e(e){var n=_1e();return function(){var r=po(e),i;if(n){var o=po(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return w1e(this,i)}}function w1e(e,n){if(n&&($m(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lW(e)}function lW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _1e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},po(e)}De.getSingleton().register("afterDropdownMenuDefaultOptions");De.getSingleton().register("beforeDropdownMenuShow");De.getSingleton().register("afterDropdownMenuShow");De.getSingleton().register("afterDropdownMenuHide");De.getSingleton().register("afterDropdownMenuExecute");var tT="dropdownMenu",S1e=230,nT="changeType",uW=function(e){y1e(t,e);var n=b1e(t);function t(r){var i;return p1e(this,t),i=n.call(this,r),i.eventManager=new Rt(lW(i)),i.commandExecutor=new IV(i.hot),i.itemsFactory=null,i.menu=null,i.hot.addHook("afterGetColHeader",function(o,a){return i.onAfterGetColHeader(o,a)}),i}return v1e(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[tT]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.itemsFactory=new HV(this.hot,t.DEFAULT_ITEMS);var o=this.hot.getSettings()[tT],a={items:this.itemsFactory.getItems(o)};this.registerEvents(),typeof o.callback=="function"&&this.commandExecutor.setCommonCallback(o.callback),Ps(po(t.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){i.hot.runHooks("afterDropdownMenuDefaultOptions",a),i.itemsFactory.setPredefinedItems(a.items);var s=i.itemsFactory.getItems(o);i.menu&&i.menu.destroy(),i.menu=new zE(i.hot,{className:"htDropdownMenu",keepInViewport:!0,container:o.uiContainer||i.hot.rootDocument.body}),i.hot.runHooks("beforeDropdownMenuSetItems",s),i.menu.setMenuItems(s),i.menu.addLocalHook("beforeOpen",function(){return i.onMenuBeforeOpen()}),i.menu.addLocalHook("afterOpen",function(){return i.onMenuAfterOpen()}),i.menu.addLocalHook("afterClose",function(){return i.onMenuAfterClose()}),i.menu.addLocalHook("executeCommand",function(){for(var l,u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return(l=i.executeCommand).call.apply(l,[i].concat(c))}),B(s,function(l){return i.commandExecutor.registerCommand(l.key,l)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ps(po(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),Ps(po(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(o){return i.onTableClick(o)})}},{key:"open",value:function(i){!this.menu||(this.menu.open(),i.width&&this.menu.setOffset("left",i.width),this.menu.setPosition(i))}},{key:"close",value:function(){!this.menu||this.menu.close()}},{key:"executeCommand",value:function(i){for(var o,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];(o=this.commandExecutor).execute.apply(o,[i].concat(s))}},{key:"setListening",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(i?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(i){if(i.stopPropagation(),ze(i.target,nT)&&!this.menu.isOpened()){var o=0,a=0;if(this.hot.rootDocument!==this.menu.container.ownerDocument){var s=this.hot.rootWindow.frameElement,l=s.getBoundingClientRect(),u=l.top,c=l.left;o=u,a=c}var f=i.target.getBoundingClientRect();this.open({left:f.left+a,top:f.top+i.target.offsetHeight+3+o,width:f.width,height:f.height})}}},{key:"onAfterGetColHeader",value:function(i,o){var a=o.parentNode;if(!!a){var s=a.parentNode.childNodes,l=Array.prototype.indexOf.call(s,a);if(!(i<0||l!==s.length-1)){var u=o.querySelector(".".concat(nT));if(!(this.enabled&&u)){if(!this.enabled){u&&u.parentNode.removeChild(u);return}var c=this.hot.rootDocument.createElement("button");c.className=nT,c.onclick=function(){return!1},o.firstChild.insertBefore(c,o.firstChild.firstChild)}}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),Ps(po(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return tT}},{key:"PLUGIN_PRIORITY",get:function(){return S1e}},{key:"PLUGIN_DEPS",get:function(){return["plugin:AutoColumnSize"]}},{key:"DEFAULT_ITEMS",get:function(){return[rh,ih,at,ah,at,wm,at,oh,at,Dr]}}]),t}(wt);uW.SEPARATOR={name:at};function C1e(e,n){return T1e(e)||E1e(e,n)||O1e(e,n)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O1e(e,n){if(!!e){if(typeof e=="string")return cW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cW(e,n)}}function cW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E1e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function T1e(e){if(Array.isArray(e))return e}function k1e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A1e(e,n,t){return n&&fW(e.prototype,n),t&&fW(e,t),e}var M1e=function(){function e(n){k1e(this,e),this.hot=n,this.options={}}return A1e(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"getData",value:function(){var t=this,r=this._getDataRange(),i=r.startRow,o=r.startCol,a=r.endRow,s=r.endCol,l=this.options,u=[];return Le(i,a,function(c){var f=[];!l.exportHiddenRows&&t._isHiddenRow(c)||(Le(o,s,function(h){!l.exportHiddenColumns&&t._isHiddenColumn(h)||f.push(t.hot.getDataAtCell(c,h))}),u.push(f))}),u}},{key:"getRowHeaders",value:function(){var t=this,r=[];if(this.options.rowHeaders){var i=this._getDataRange(),o=i.startRow,a=i.endRow,s=this.hot.getRowHeader();Le(o,a,function(l){!t.options.exportHiddenRows&&t._isHiddenRow(l)||r.push(s[l])})}return r}},{key:"getColumnHeaders",value:function(){var t=this,r=[];if(this.options.columnHeaders){var i=this._getDataRange(),o=i.startCol,a=i.endCol,s=this.hot.getColHeader();Le(o,a,function(l){!t.options.exportHiddenColumns&&t._isHiddenColumn(l)||r.push(s[l])})}return r}},{key:"_getDataRange",value:function(){var t=this.hot.countCols()-1,r=this.hot.countRows()-1,i=C1e(this.options.range,4),o=i[0],a=o===void 0?0:o,s=i[1],l=s===void 0?0:s,u=i[2],c=u===void 0?r:u,f=i[3],h=f===void 0?t:f;return a=Math.max(a,0),l=Math.max(l,0),c=Math.min(c,r),h=Math.min(h,t),{startRow:a,startCol:l,endRow:c,endCol:h}}},{key:"_isHiddenRow",value:function(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}},{key:"_isHiddenColumn",value:function(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}}]),e}(),x1e=M1e;function P1e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I1e(e,n,t){return n&&hW(e.prototype,n),t&&hW(e,t),e}var $1e=function(){function e(n,t){P1e(this,e),this.dataProvider=n,this.options=this._mergeOptions(t),this.dataProvider.setOptions(this.options)}return I1e(e,[{key:"_mergeOptions",value:function(t){var r=$n(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=Vt($n(e.DEFAULT_OPTIONS),r),r=Vt(r,t),r.filename=_C(r.filename,{YYYY:i.getFullYear(),MM:"".concat(i.getMonth()+1).padStart(2,"0"),DD:"".concat(i.getDate()).padStart(2,"0")}),r}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}]),e}(),D1e=$1e;function Dm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dm=function(t){return typeof t}:Dm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function N1e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L1e(e,n,t){return n&&dW(e.prototype,n),t&&dW(e,t),e}function H1e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&rT(e,n)}function rT(e,n){return rT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rT(e,n)}function F1e(e){var n=W1e();return function(){var r=Nm(e),i;if(n){var o=Nm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return B1e(this,i)}}function B1e(e,n){if(n&&(Dm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1e(e)}function V1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W1e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nm(e)}var j1e=String.fromCharCode(13),U1e=String.fromCharCode(34),z1e=String.fromCharCode(10),Y1e=function(e){H1e(t,e);var n=F1e(t);function t(){return N1e(this,t),n.apply(this,arguments)}return L1e(t,[{key:"export",value:function(){var i=this,o=this.options,a=this.dataProvider.getData(),s=this.dataProvider.getColumnHeaders(),l=s.length>0,u=this.dataProvider.getRowHeaders(),c=u.length>0,f=o.bom?String.fromCharCode(65279):"";return l&&(s=it(s,function(h){return i._escapeCell(h,!0)}),c&&(f+=o.columnDelimiter),f+=s.join(o.columnDelimiter),f+=o.rowDelimiter),B(a,function(h,d){d>0&&(f+=o.rowDelimiter),c&&(f+=i._escapeCell(u[d])+o.columnDelimiter),f+=h.map(function(g){return i._escapeCell(g)}).join(o.columnDelimiter)}),f}},{key:"_escapeCell",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=zt(i);return a!==""&&(o||a.indexOf(j1e)>=0||a.indexOf(U1e)>=0||a.indexOf(z1e)>=0||a.indexOf(this.options.columnDelimiter)>=0)&&(a=a.replace(new RegExp('"',"g"),'""'),a='"'.concat(a,'"')),a}}],[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}}]),t}(D1e),G1e=Y1e;function K1e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var X1e="csv",iT=K1e({},X1e,G1e);function q1e(e,n,t){return typeof iT[e]=="function"?new iT[e](n,t):null}function Lm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lm=function(t){return typeof t}:Lm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function Z1e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q1e(e,n,t){return n&&gW(e.prototype,n),t&&gW(e,t),e}function J1e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&oT(e,n)}function oT(e,n){return oT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},oT(e,n)}function eMe(e){var n=rMe();return function(){var r=Hm(e),i;if(n){var o=Hm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tMe(this,i)}}function tMe(e,n){if(n&&(Lm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nMe(e)}function nMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rMe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hm(e)}var iMe="exportFile",oMe=240,aMe=function(e){J1e(t,e);var n=eMe(t);function t(){return Z1e(this,t),n.apply(this,arguments)}return Q1e(t,[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(i,o).export()}},{key:"exportAsBlob",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(i,o))}},{key:"downloadFile",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.hot,s=a.rootDocument,l=a.rootWindow,u=this._createTypeFormatter(i,o),c=this._createBlob(u),f=l.URL||l.webkitURL,h=s.createElement("a"),d="".concat(u.options.filename,".").concat(u.options.fileExtension);if(h.download!==void 0){var g=f.createObjectURL(c);h.style.display="none",h.setAttribute("href",g),h.setAttribute("download",d),s.body.appendChild(h),h.dispatchEvent(new MouseEvent("click")),s.body.removeChild(h),setTimeout(function(){f.revokeObjectURL(g)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(c,d)}},{key:"_createTypeFormatter",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!iT[i])throw new Error('Export format type "'.concat(i,'" is not supported.'));return q1e(i,new x1e(this.hot),o)}},{key:"_createBlob",value:function(i){var o=null;return typeof Blob!="undefined"&&(o=new Blob([i.export()],{type:"".concat(i.options.mimeType,";charset=").concat(i.options.encoding)})),o}}],[{key:"PLUGIN_KEY",get:function(){return iMe}},{key:"PLUGIN_PRIORITY",get:function(){return oMe}}]),t}(wt);function sMe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lMe(e,n,t){return n&&pW(e.prototype,n),t&&pW(e,t),e}var vW=function(){function e(n,t){var r=t.id,i=t.stateless,o=i===void 0?!0:i;sMe(this,e),this.hot=n,this.id=r,this.elements=[],this.hidden=!1,this.stateId="Filters.component.".concat(this.id),this.state=o?null:this.hot.columnIndexMapper.registerMap(this.stateId,new uv)}return lMe(e,[{key:"reset",value:function(){B(this.elements,function(t){return t.reset()})}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return this.hot===null||this.hidden}},{key:"restoreState",value:function(t){this.state&&this.setState(this.state.getValueAtIndex(t))}},{key:"setState",value:function(){throw new Error("The state setting logic is not implemented")}},{key:"saveState",value:function(t){this.state&&this.state.setValueAtIndex(t,this.getState())}},{key:"getState",value:function(){throw new Error("The state gathering logic is not implemented")}},{key:"destroy",value:function(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),B(this.elements,function(t){return t.destroy()}),this.state=null,this.elements=null,this.hot=null}}]),e}();Ot(vW,nr);var Fm=vW,ch={};function va(e,n){if(!ch[e])throw Error('Filter condition "'.concat(e,'" does not exist.'));var t=ch[e],r=t.condition,i=t.descriptor,o=n;return i.inputValuesDecorator&&(o=i.inputValuesDecorator(o)),function(a){return r.apply(a.meta.instance,[].concat([a],[o]))}}function pu(e){if(!ch[e])throw Error('Filter condition "'.concat(e,'" does not exist.'));return ch[e].descriptor}function sn(e,n,t){t.key=e,ch[e]={condition:n,descriptor:t}}var An="none";function uMe(){return!0}sn(An,uMe,{name:wv,inputsCount:0,showOperators:!1});var fh="empty";function cMe(e){return cn(e.value)}sn(fh,cMe,{name:nO,inputsCount:0,showOperators:!0});var Bm="not_empty";function fMe(e,n){return!va(fh,n)(e)}sn(Bm,fMe,{name:rO,inputsCount:0,showOperators:!0});function hMe(e,n){return vMe(e)||pMe(e,n)||gMe(e,n)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gMe(e,n){if(!!e){if(typeof e=="string")return mW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mW(e,n)}}function mW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pMe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function vMe(e){if(Array.isArray(e))return e}var hh="eq";function mMe(e,n){var t=hMe(n,1),r=t[0];return zt(e.value).toLocaleLowerCase(e.meta.locale)===zt(r)}sn(hh,mMe,{name:iO,inputsCount:1,showOperators:!0});var Vm="neq";function yMe(e,n){return!va(hh,n)(e)}sn(Vm,yMe,{name:oO,inputsCount:1,showOperators:!0});function bMe(e,n){return CMe(e)||SMe(e,n)||_Me(e,n)||wMe()}function wMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Me(e,n){if(!!e){if(typeof e=="string")return yW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yW(e,n)}}function yW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function SMe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function CMe(e){if(Array.isArray(e))return e}var bW="gt";function RMe(e,n){var t=bMe(n,1),r=t[0],i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value>i}sn(bW,RMe,{name:cO,inputsCount:1,showOperators:!0});function OMe(e,n){return AMe(e)||kMe(e,n)||TMe(e,n)||EMe()}function EMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TMe(e,n){if(!!e){if(typeof e=="string")return wW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wW(e,n)}}function wW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function kMe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function AMe(e){if(Array.isArray(e))return e}var _W="gte";function MMe(e,n){var t=OMe(n,1),r=t[0],i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value>=i}sn(_W,MMe,{name:fO,inputsCount:1,showOperators:!0});function xMe(e,n){return DMe(e)||$Me(e,n)||IMe(e,n)||PMe()}function PMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IMe(e,n){if(!!e){if(typeof e=="string")return SW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SW(e,n)}}function SW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function $Me(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function DMe(e){if(Array.isArray(e))return e}var CW="lt";function NMe(e,n){var t=xMe(n,1),r=t[0],i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value<i}sn(CW,NMe,{name:hO,inputsCount:1,showOperators:!0});function LMe(e,n){return VMe(e)||BMe(e,n)||FMe(e,n)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FMe(e,n){if(!!e){if(typeof e=="string")return RW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RW(e,n)}}function RW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function BMe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function VMe(e){if(Array.isArray(e))return e}var OW="lte";function WMe(e,n){var t=LMe(n,1),r=t[0],i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value<=i}sn(OW,WMe,{name:dO,inputsCount:1,showOperators:!0});function jMe(e,n){return GMe(e)||YMe(e,n)||zMe(e,n)||UMe()}function UMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zMe(e,n){if(!!e){if(typeof e=="string")return EW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return EW(e,n)}}function EW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function YMe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function GMe(e){if(Array.isArray(e))return e}var aT="date_after";function KMe(e,n){var t=jMe(n,1),r=t[0],i=we(e.value,e.meta.dateFormat),o=we(r,e.meta.dateFormat);return!i.isValid()||!o.isValid()?!1:i.diff(o)>=0}sn(aT,KMe,{name:vO,inputsCount:1,showOperators:!0});function XMe(e,n){return JMe(e)||QMe(e,n)||ZMe(e,n)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZMe(e,n){if(!!e){if(typeof e=="string")return TW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TW(e,n)}}function TW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function QMe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function JMe(e){if(Array.isArray(e))return e}var sT="date_before";function exe(e,n){var t=XMe(n,1),r=t[0],i=we(e.value,e.meta.dateFormat),o=we(r,e.meta.dateFormat);return!i.isValid()||!o.isValid()?!1:i.diff(o)<=0}sn(sT,exe,{name:mO,inputsCount:1,showOperators:!0});function txe(e,n){return oxe(e)||ixe(e,n)||rxe(e,n)||nxe()}function nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(e,n){if(!!e){if(typeof e=="string")return kW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kW(e,n)}}function kW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ixe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function oxe(e){if(Array.isArray(e))return e}var Wm="between";function axe(e,n){var t=txe(n,2),r=t[0],i=t[1],o=r,a=i;if(e.meta.type==="numeric"){var s=parseFloat(o,10),l=parseFloat(a,10);o=Math.min(s,l),a=Math.max(s,l)}else if(e.meta.type==="date"){var u=va(sT,[a]),c=va(aT,[o]);return u(e)&&c(e)}return e.value>=o&&e.value<=a}sn(Wm,axe,{name:gO,inputsCount:2,showOperators:!0});var AW="not_between";function sxe(e,n){return!va(Wm,n)(e)}sn(AW,sxe,{name:pO,inputsCount:2,showOperators:!0});function lxe(e,n){return hxe(e)||fxe(e,n)||cxe(e,n)||uxe()}function uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(e,n){if(!!e){if(typeof e=="string")return MW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MW(e,n)}}function MW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function fxe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function hxe(e){if(Array.isArray(e))return e}var xW="begins_with";function dxe(e,n){var t=lxe(n,1),r=t[0];return zt(e.value).toLocaleLowerCase(e.meta.locale).startsWith(zt(r))}sn(xW,dxe,{name:aO,inputsCount:1,showOperators:!0});var gxe=et,PW=Qe,pxe=si.f,vxe=Wa,IW=mn,mxe=sS,yxe=Zn,bxe=lS,$W=PW("".endsWith),wxe=PW("".slice),_xe=Math.min,DW=bxe("endsWith"),Sxe=!DW&&!!function(){var e=pxe(String.prototype,"endsWith");return e&&!e.writable}();gxe({target:"String",proto:!0,forced:!Sxe&&!DW},{endsWith:function(n){var t=IW(yxe(this));mxe(n);var r=arguments.length>1?arguments[1]:void 0,i=t.length,o=r===void 0?i:_xe(vxe(r),i),a=IW(n);return $W?$W(t,a,o):wxe(t,o-a.length,o)===a}});function Cxe(e,n){return Txe(e)||Exe(e,n)||Oxe(e,n)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(e,n){if(!!e){if(typeof e=="string")return NW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return NW(e,n)}}function NW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Exe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Txe(e){if(Array.isArray(e))return e}var LW="ends_with";function kxe(e,n){var t=Cxe(n,1),r=t[0];return zt(e.value).toLocaleLowerCase(e.meta.locale).endsWith(zt(r))}sn(LW,kxe,{name:sO,inputsCount:1,showOperators:!0});function Axe(e,n){return Ixe(e)||Pxe(e,n)||xxe(e,n)||Mxe()}function Mxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xxe(e,n){if(!!e){if(typeof e=="string")return HW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HW(e,n)}}function HW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Pxe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Ixe(e){if(Array.isArray(e))return e}var lT="contains";function $xe(e,n){var t=Axe(n,1),r=t[0];return zt(e.value).toLocaleLowerCase(e.meta.locale).indexOf(zt(r))>=0}sn(lT,$xe,{name:lO,inputsCount:1,showOperators:!0});var FW="not_contains";function Dxe(e,n){return!va(lT,n)(e)}sn(FW,Dxe,{name:uO,inputsCount:1,showOperators:!0});var BW="date_tomorrow";function Nxe(e){var n=we(e.value,e.meta.dateFormat);return n.isValid()?n.isSame(we().subtract(-1,"days").startOf("day"),"d"):!1}sn(BW,Nxe,{name:bO,inputsCount:0});var VW="date_today";function Lxe(e){var n=we(e.value,e.meta.dateFormat);return n.isValid()?n.isSame(we().startOf("day"),"d"):!1}sn(VW,Lxe,{name:yO,inputsCount:0});var WW="date_yesterday";function Hxe(e){var n=we(e.value,e.meta.dateFormat);return n.isValid()?n.isSame(we().subtract(1,"days").startOf("day"),"d"):!1}sn(WW,Hxe,{name:wO,inputsCount:0});S$();function Fxe(e,n){var t=e;return t===""&&(t="(".concat(n,")")),t}var uT=new Set([1]).has(1),Bxe=uT&&typeof Array.from=="function";function dh(e){var n=e;return uT&&(n=new Set(n)),function(t){var r;return uT?r=n.has(t):r=!!~n.indexOf(t),r}}function jW(e){return e==null?"":e}function cT(e){var n=e;return Bxe?n=Array.from(new Set(n)):n=AS(n),n=n.sort(function(t,r){return typeof t=="number"&&typeof r=="number"?t-r:t===r?0:t>r?1:-1}),n}function UW(e,n,t,r){var i=[],o=e===n,a;return o||(a=dh(n)),B(e,function(s){var l=!1;(o||a(s))&&(l=!0);var u={checked:l,value:s,visualValue:Fxe(s,t)};r&&r(u),i.push(u)}),i}function zW(e,n){return Uxe(e)||jxe(e,n)||Wxe(e,n)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(e,n){if(!!e){if(typeof e=="string")return YW(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YW(e,n)}}function YW(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function jxe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Uxe(e){if(Array.isArray(e))return e}var Is="by_value";function zxe(e,n){var t=zW(n,1),r=t[0];return r(e.value)}sn(Is,zxe,{name:"By value",inputsCount:0,inputValuesDecorator:function(n){var t=zW(n,1),r=t[0];return[dh(r)]},showOperators:!1});var gh={};function Yxe(e){if(!gh[e])throw Error('Operation with id "'.concat(e,'" does not exist.'));var n=gh[e].func;return function(t,r){return n(t,r)}}function Gxe(e){return gh[e].name}function fT(e,n,t){gh[e]={name:n,func:t}}var ma="conjunction",Kxe=CO;function Xxe(e,n){return e.every(function(t){return t.func(n)})}fT(ma,Kxe,Xxe);var jm="disjunction",qxe=_v;function Zxe(e,n){return e.some(function(t){return t.func(n)})}fT(jm,qxe,Zxe);var hT="disjunctionWithExtraCondition",Qxe=_v;function Jxe(e,n){if(e.length<3)throw Error("Operation doesn't work on less then three conditions.");return e.slice(0,e.length-1).some(function(t){return t.func(n)})&&e[e.length-1].func(n)}fT(hT,Qxe,Jxe);var ph;function dT(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ePe="numeric",GW="text",tPe="date",KW=(ph={},dT(ph,ePe,[An,at,fh,Bm,at,hh,Vm,at,bW,_W,CW,OW,Wm,AW]),dT(ph,GW,[An,at,fh,Bm,at,hh,Vm,at,xW,LW,at,lT,FW]),dT(ph,tPe,[An,at,fh,Bm,at,hh,Vm,at,sT,aT,Wm,at,BW,VW,WW]),ph);function nPe(e){var n=[],t=e;return KW[t]||(t=GW),B(KW[t],function(r){var i;r===at?i={name:at}:i=$n(pu(r)),n.push(i)}),n}function rPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function XW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iPe(e,n,t){return n&&XW(e.prototype,n),t&&XW(e,t),e}var gT="built",pT="building",qW=["click","input","keydown","keypress","keyup","focus","blur","change"],ZW=function(){function e(n,t){rPe(this,e),this.hot=n,this.eventManager=new Rt(this),this.options=Vt(e.DEFAULTS,t),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=null}return iPe(e,[{key:"setValue",value:function(t){this.options.value=t,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"element",get:function(){return this.buildState===pT?this._element:this.buildState===gT?(this.update(),this._element):(this.buildState=pT,this.build(),this.buildState=gT,this._element)}},{key:"isBuilt",value:function(){return this.buildState===gT}},{key:"translateIfPossible",value:function(t){return typeof t=="string"&&t.startsWith(Wn)?this.hot.getTranslatedPhrase(t):t}},{key:"build",value:function(){var t=this,r=function(a,s){t.eventManager.addEventListener(a,s,function(l){return t.runLocalHooks(s,l,t)})};if(this.buildState||(this.buildState=pT),this.options.className&&ve(this._element,this.options.className),this.options.children.length)B(this.options.children,function(o){return t._element.appendChild(o.element)});else if(this.options.wrapIt){var i=this.hot.rootDocument.createElement(this.options.tagName);st(this.options,function(o,a){i[a]!==void 0&&a!=="className"&&a!=="tagName"&&a!=="children"&&(i[a]=t.translateIfPossible(o))}),this._element.appendChild(i),B(qW,function(o){return r(i,o)})}else B(qW,function(o){return r(t._element,o)})}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}],[{key:"DEFAULTS",get:function(){return $n({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}]),e}();Ot(ZW,nr);var ya=ZW;function Um(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Um=function(t){return typeof t}:Um=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function oPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function QW(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aPe(e,n,t){return n&&QW(e.prototype,n),t&&QW(e,t),e}function zm(){return typeof Reflect!="undefined"&&Reflect.get?zm=Reflect.get:zm=function(n,t,r){var i=sPe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},zm.apply(this,arguments)}function sPe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=vu(e),e!==null););return e}function lPe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&vT(e,n)}function vT(e,n){return vT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vT(e,n)}function uPe(e){var n=fPe();return function(){var r=vu(e),i;if(n){var o=vu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cPe(this,i)}}function cPe(e,n){if(n&&(Um(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JW(e)}function JW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fPe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(e)}var Ym=new WeakMap,hPe=function(e){lPe(t,e);var n=uPe(t);function t(r,i){var o;return oPe(this,t),o=n.call(this,r,Vt(t.DEFAULTS,i)),Ym.set(JW(o),{}),o.registerHooks(),o}return aPe(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()}),this.addLocalHook("keyup",function(o){return i.onKeyup(o)})}},{key:"build",value:function(){zm(vu(t.prototype),"build",this).call(this);var i=Ym.get(this),o=this.hot.rootDocument.createElement("div");i.input=this._element.firstChild,ve(this._element,"htUIInput"),ve(o,"htUIInputIcon"),this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(!!this.isBuilt()){var i=Ym.get(this).input;i.type=this.options.type,i.placeholder=this.translateIfPossible(this.options.placeholder),i.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&Ym.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(i){this.options.value=i.target.value}}],[{key:"DEFAULTS",get:function(){return $n({placeholder:"",type:"text",tagName:"input"})}}]),t}(ya),mu=hPe;function Gm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(t){return typeof t}:Gm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function dPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ej(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gPe(e,n,t){return n&&ej(e.prototype,n),t&&ej(e,t),e}function yu(){return typeof Reflect!="undefined"&&Reflect.get?yu=Reflect.get:yu=function(n,t,r){var i=pPe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},yu.apply(this,arguments)}function pPe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ba(e),e!==null););return e}function vPe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&mT(e,n)}function mT(e,n){return mT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},mT(e,n)}function mPe(e){var n=bPe();return function(){var r=ba(e),i;if(n){var o=ba(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yPe(this,i)}}function yPe(e,n){if(n&&(Gm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tj(e)}function tj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bPe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ba(e){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ba(e)}var Km=new WeakMap,wPe=function(e){vPe(t,e);var n=mPe(t);function t(r,i){var o;return dPe(this,t),o=n.call(this,r,Vt(t.DEFAULTS,i)),Km.set(tj(o),{}),o.menu=null,o.items=[],o.registerHooks(),o}return gPe(t,[{key:"registerHooks",value:function(){var i=this;this.addLocalHook("click",function(){return i.onClick()})}},{key:"setItems",value:function(i){this.items=this.translateNames(i),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(i){var o=this;return B(i,function(a){a.name=o.translateIfPossible(a.name)}),i}},{key:"build",value:function(){var i=this;yu(ba(t.prototype),"build",this).call(this),this.menu=new zE(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer}),this.menu.setMenuItems(this.items);var o=new ya(this.hot,{className:"htUISelectCaption"}),a=new ya(this.hot,{className:"htUISelectDropdown"}),s=Km.get(this);s.caption=o,s.captionElement=o.element,s.dropdown=a,B([o,a],function(l){return i._element.appendChild(l.element)}),this.menu.addLocalHook("select",function(l){return i.onMenuSelect(l)}),this.menu.addLocalHook("afterClose",function(){return i.onMenuClosed()}),this.update()}},{key:"update",value:function(){if(!!this.isBuilt()){var i;this.options.value?i=this.options.value.name:i=this.menu.hot.getTranslatedPhrase(wv),Km.get(this).captionElement.textContent=i,yu(ba(t.prototype),"update",this).call(this)}}},{key:"openOptions",value:function(){var i=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:i.left-5,top:i.top-1,width:i.width,height:i.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(i){i.name!==at&&(this.options.value=i,this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var i=Km.get(this),o=i.caption,a=i.dropdown;o&&o.destroy(),a&&a.destroy(),yu(ba(t.prototype),"destroy",this).call(this)}}],[{key:"DEFAULTS",get:function(){return $n({className:"htUISelect",wrapIt:!1})}}]),t}(ya),nj=wPe;function Xm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xm=function(t){return typeof t}:Xm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function _Pe(e){return OPe(e)||RPe(e)||CPe(e)||SPe()}function SPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(e,n){if(!!e){if(typeof e=="string")return yT(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yT(e,n)}}function RPe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OPe(e){if(Array.isArray(e))return yT(e)}function yT(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function EPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TPe(e,n,t){return n&&rj(e.prototype,n),t&&rj(e,t),e}function qm(){return typeof Reflect!="undefined"&&Reflect.get?qm=Reflect.get:qm=function(n,t,r){var i=kPe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},qm.apply(this,arguments)}function kPe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=bu(e),e!==null););return e}function APe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&bT(e,n)}function bT(e,n){return bT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bT(e,n)}function MPe(e){var n=IPe();return function(){var r=bu(e),i;if(n){var o=bu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xPe(this,i)}}function xPe(e,n){if(n&&(Xm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(e)}function PPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IPe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bu(e){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bu(e)}var $Pe=function(e){APe(t,e);var n=MPe(t);function t(r,i){var o;return EPe(this,t),o=n.call(this,r,{id:i.id,stateless:!1}),o.name=i.name,o.addSeparator=i.addSeparator,o.elements.push(new nj(o.hot,{menuContainer:i.menuContainer})),o.elements.push(new mu(o.hot,{placeholder:AO})),o.elements.push(new mu(o.hot,{placeholder:MO})),o.registerHooks(),o}return TPe(t,[{key:"registerHooks",value:function(){var i=this;this.getSelectElement().addLocalHook("select",function(o){return i.onConditionSelect(o)}),this.getSelectElement().addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),B(this.getInputElements(),function(o){o.addLocalHook("keydown",function(a){return i.onInputKeyDown(a)})})}},{key:"setState",value:function(i){var o=this;if(this.reset(),!!i){var a=$n(i.command);a.name.startsWith(Yt)&&(a.name=this.hot.getTranslatedPhrase(a.name)),this.getSelectElement().setValue(a),B(i.args,function(s,l){if(l>a.inputsCount-1)return!1;var u=o.getInputElement(l);u.setValue(s),u[a.inputsCount>l?"show":"hide"](),l||setTimeout(function(){return u.focus()},10)})}}},{key:"getState",value:function(){var i=this.getSelectElement().getValue()||pu(An),o=[];return B(this.getInputElements(),function(a,s){i.inputsCount>s&&o.push(a.getValue())}),{command:i,args:o}}},{key:"updateState",value:function(i,o){var a=pu(i?i.name:An);this.state.setValueAtIndex(o,{command:a,args:i?i.args:[]}),i||B(this.getInputElements(),function(s){return s.setValue(null)})}},{key:"getSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof nj})[0]}},{key:"getInputElement",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[i]}},{key:"getInputElements",value:function(){return this.elements.filter(function(i){return i instanceof mu})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(a,s,l,u,c,f){ve(s.parentNode,"htFiltersMenuCondition"),i.addSeparator&&ve(s.parentNode,"border");var h=i.hot.rootDocument.createElement("div");return ve(h,"htFiltersMenuLabel"),h.textContent=f,s.appendChild(h),s.parentNode.hasAttribute("ghost-table")||B(i.elements,function(d){return s.appendChild(d.element)}),s}}}},{key:"reset",value:function(){var i,o=this.hot.getPlugin("filters").getSelectedColumn(),a=o&&o.visualIndex,s=(i=this.hot).getDataType.apply(i,_Pe(this.hot.getSelectedLast()||[0,a])),l=nPe(s);B(this.getInputElements(),function(u){return u.hide()}),this.getSelectElement().setItems(l),qm(bu(t.prototype),"reset",this).call(this),this.getSelectElement().setValue(l[0])}},{key:"onConditionSelect",value:function(i){B(this.getInputElements(),function(o,a){o[i.inputsCount>a?"show":"hide"](),a===0&&setTimeout(function(){return o.focus()},10)}),this.runLocalHooks("change",i)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(i){aa(i.keyCode,"ENTER")?(this.runLocalHooks("accept"),Lt(i)):aa(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Lt(i))}}]),t}(Fm),wT=$Pe;function Zm(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(t){return typeof t}:Zm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function DPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ij(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NPe(e,n,t){return n&&ij(e.prototype,n),t&&ij(e,t),e}function Qm(){return typeof Reflect!="undefined"&&Reflect.get?Qm=Reflect.get:Qm=function(n,t,r){var i=LPe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Qm.apply(this,arguments)}function LPe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=wu(e),e!==null););return e}function HPe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_T(e,n)}function _T(e,n){return _T=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_T(e,n)}function FPe(e){var n=VPe();return function(){var r=wu(e),i;if(n){var o=wu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return BPe(this,i)}}function BPe(e,n){if(n&&(Zm(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oj(e)}function oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VPe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wu(e)}var Jm=new WeakMap,WPe=function(e){HPe(t,e);var n=FPe(t);function t(r,i){var o;return DPe(this,t),o=n.call(this,r,Vt(t.DEFAULTS,i)),Jm.set(oj(o),{}),o}return NPe(t,[{key:"build",value:function(){Qm(wu(t.prototype),"build",this).call(this);var i=Jm.get(this);i.input=this._element.firstChild;var o=this.hot.rootDocument.createElement("label");o.textContent=this.translateIfPossible(this.options.label.textContent),o.htmlFor=this.translateIfPossible(this.options.label.htmlFor),i.label=o,this._element.appendChild(o),this.update()}},{key:"update",value:function(){if(!!this.isBuilt()){var i=Jm.get(this);i.input.checked=this.options.checked,i.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.options.checked=i,this.update()}},{key:"focus",value:function(){this.isBuilt()&&Jm.get(this).input.focus()}}],[{key:"DEFAULTS",get:function(){return $n({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}]),t}(ya),aj=WPe;function ey(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ey=function(t){return typeof t}:ey=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}var sj;function jPe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function UPe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zPe(e,n,t){return n&&lj(e.prototype,n),t&&lj(e,t),e}function YPe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ST(e,n)}function ST(e,n){return ST=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ST(e,n)}function GPe(e){var n=qPe();return function(){var r=ty(e),i;if(n){var o=ty(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KPe(this,i)}}function KPe(e,n){if(n&&(ey(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XPe(e)}function XPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qPe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ty(e)}var uj=0,ZPe=function(e){YPe(t,e);var n=GPe(t);function t(r,i){var o;return UPe(this,t),o=n.call(this,r,{id:i.id,stateless:!1}),o.name=i.name,o.buildOperatorsElement(),o}return zPe(t,[{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(a,s){return ve(s.parentNode,"htFiltersMenuOperators"),s.parentNode.hasAttribute("ghost-table")||B(i.elements,function(l){return s.appendChild(l.element)}),s}}}},{key:"buildOperatorsElement",value:function(){var i=this,o=[ma,jm];B(o,function(a){var s=new aj(i.hot,{name:"operator",label:{htmlFor:a,textContent:Gxe(a)},value:a,checked:a===o[uj],id:a});s.addLocalHook("change",function(l){return i.onRadioInputChange(l)}),i.elements.push(s)})}},{key:"setChecked",value:function(i){if(this.elements.length<i)throw Error(Mt(sj||(sj=jPe(["Radio button with index "," doesn't exist."])),i));B(this.elements,function(o,a){o.setChecked(a===i)})}},{key:"getActiveOperationId",value:function(){var i=this.elements.find(function(o){return o instanceof aj&&o.isChecked()});return i?i.getValue():ma}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(i){this.reset(),i&&this.getActiveOperationId()!==i&&B(this.elements,function(o){o.setChecked(o.getValue()===i)})}},{key:"updateState",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ma,o=arguments.length>1?arguments[1]:void 0,a=i;a===hT&&(a=jm),this.state.setValueAtIndex(o,a)}},{key:"reset",value:function(){this.setChecked(uj)}},{key:"onRadioInputChange",value:function(i){this.setState(i.target.value)}}]),t}(Fm),QPe=ZPe,JPe=Qe,eIe=Zn,cj=mn,tIe=/"/g,nIe=JPe("".replace),rIe=function(e,n,t,r){var i=cj(eIe(e)),o="<"+n;return t!==""&&(o+=" "+t+'="'+nIe(cj(r),tIe,"&quot;")+'"'),o+">"+i+"</"+n+">"},iIe=lt,oIe=function(e){return iIe(function(){var n=""[e]('"');return n!==n.toLowerCase()||n.split('"').length>3})},aIe=et,sIe=rIe,lIe=oIe;aIe({target:"String",proto:!0,forced:lIe("link")},{link:function(n){return sIe(this,"a","href",n)}});function ny(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ny=function(t){return typeof t}:ny=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function uIe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cIe(e,n,t){return n&&fj(e.prototype,n),t&&fj(e,t),e}function ry(){return typeof Reflect!="undefined"&&Reflect.get?ry=Reflect.get:ry=function(n,t,r){var i=fIe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},ry.apply(this,arguments)}function fIe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=_u(e),e!==null););return e}function hIe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&CT(e,n)}function CT(e,n){return CT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},CT(e,n)}function dIe(e){var n=pIe();return function(){var r=_u(e),i;if(n){var o=_u(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gIe(this,i)}}function gIe(e,n){if(n&&(ny(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hj(e)}function hj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pIe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _u(e){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(e)}var RT=new WeakMap,vIe=function(e){hIe(t,e);var n=dIe(t);function t(r,i){var o;return uIe(this,t),o=n.call(this,r,Vt(t.DEFAULTS,i)),RT.set(hj(o),{}),o}return cIe(t,[{key:"build",value:function(){ry(_u(t.prototype),"build",this).call(this);var i=RT.get(this);i.link=this._element.firstChild}},{key:"update",value:function(){!this.isBuilt()||(RT.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}],[{key:"DEFAULTS",get:function(){return $n({href:"#",tagName:"a"})}}]),t}(ya),dj=vIe;function iy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iy=function(t){return typeof t}:iy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function gj(e){return wIe(e)||bIe(e)||yIe(e)||mIe()}function mIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yIe(e,n){if(!!e){if(typeof e=="string")return OT(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OT(e,n)}}function bIe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wIe(e){if(Array.isArray(e))return OT(e)}function OT(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _Ie(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SIe(e,n,t){return n&&pj(e.prototype,n),t&&pj(e,t),e}function Su(){return typeof Reflect!="undefined"&&Reflect.get?Su=Reflect.get:Su=function(n,t,r){var i=CIe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Su.apply(this,arguments)}function CIe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=wa(e),e!==null););return e}function RIe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ET(e,n)}function ET(e,n){return ET=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ET(e,n)}function OIe(e){var n=TIe();return function(){var r=wa(e),i;if(n){var o=wa(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return EIe(this,i)}}function EIe(e,n){if(n&&(iy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vj(e)}function vj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TIe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wa(e){return wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wa(e)}var kIe=new WeakMap,AIe=function(e){RIe(t,e);var n=OIe(t);function t(r,i){var o;return _Ie(this,t),o=n.call(this,r,Vt(t.DEFAULTS,i)),kIe.set(vj(o),{}),o.searchInput=new mu(o.hot,{placeholder:kO,className:"htUIMultipleSelectSearch"}),o.selectAllUI=new dj(o.hot,{textContent:RO,className:"htUISelectAll"}),o.clearAllUI=new dj(o.hot,{textContent:OO,className:"htUIClearAll"}),o.items=[],o.itemsBox=null,o.registerHooks(),o}return SIe(t,[{key:"registerHooks",value:function(){var i=this;this.searchInput.addLocalHook("keydown",function(o){return i.onInputKeyDown(o)}),this.searchInput.addLocalHook("input",function(o){return i.onInput(o)}),this.selectAllUI.addLocalHook("click",function(o){return i.onSelectAllClick(o)}),this.clearAllUI.addLocalHook("click",function(o){return i.onClearAllClick(o)})}},{key:"setItems",value:function(i){this.items=i,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"setLocale",value:function(i){this.locale=i}},{key:"getLocale",value:function(){return this.locale}},{key:"getItems",value:function(){return gj(this.items)}},{key:"getValue",value:function(){return xIe(this.items)}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var i=this;Su(wa(t.prototype),"build",this).call(this);var o=this.hot.rootDocument,a=o.createElement("div"),s=new ya(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(s.element),this._element.appendChild(a);var l=function(c){!i._element||(i.itemsBox&&i.itemsBox.destroy(),ve(c,"htUIMultipleSelectHot"),i.itemsBox=new i.hot.constructor(c,{data:i.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(h,d,g,p,v,m){h.title=m.instance.getDataAtRowProp(d,m.label.property)},maxCols:1,autoWrapCol:!0,height:110,colWidths:function(){return i.itemsBox.container.scrollWidth-wn(o)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},beforeKeyDown:function(h){return i.onItemsBoxBeforeKeyDown(h)}}),i.itemsBox.init())};l(a),setTimeout(function(){return l(a)},100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){!this.isBuilt()||(this.itemsBox.loadData(MIe(this.items,this.options.value)),Su(wa(t.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,Su(wa(t.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(i){var o=this,a=i.target.value.toLocaleLowerCase(this.getLocale()),s;a===""?s=gj(this.items):s=lr(this.items,function(l){return"".concat(l.value).toLocaleLowerCase(o.getLocale()).indexOf(a)>=0}),this.itemsBox.loadData(s)}},{key:"onInputKeyDown",value:function(i){this.runLocalHooks("keydown",i,this);var o=Cf(aa,i.keyCode);o("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(Lt(i),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onItemsBoxBeforeKeyDown",value:function(i){var o=Cf(aa,i.keyCode);o("ESCAPE")&&this.runLocalHooks("keydown",i,this),o("ARROW_UP|ARROW_DOWN|ARROW_LEFT|ARROW_RIGHT|TAB|SPACE|ENTER")||(Lt(i),this.itemsBox.unlisten(),this.itemsBox.deselectCell(),this.searchInput.focus())}},{key:"onSelectAllClick",value:function(i){var o=[];i.preventDefault(),B(this.itemsBox.getSourceData(),function(a,s){a.checked=!0,o.push(Y0(a,s)[0])}),this.itemsBox.setSourceDataAtCell(o)}},{key:"onClearAllClick",value:function(i){var o=[];i.preventDefault(),B(this.itemsBox.getSourceData(),function(a,s){a.checked=!1,o.push(Y0(a,s)[0])}),this.itemsBox.setSourceDataAtCell(o)}}],[{key:"DEFAULTS",get:function(){return $n({className:"htUIMultipleSelect",value:[]})}}]),t}(ya),mj=AIe;function MIe(e,n){var t=dh(n);return it(e,function(r){return r.checked=t(r.value),r})}function xIe(e){var n=[];return B(e,function(t){t.checked&&n.push(t.value)}),n}function oy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oy=function(t){return typeof t}:oy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}function PIe(e,n){return NIe(e)||DIe(e,n)||$Ie(e,n)||IIe()}function IIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ie(e,n){if(!!e){if(typeof e=="string")return yj(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yj(e,n)}}function yj(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function DIe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function NIe(e){if(Array.isArray(e))return e}function LIe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HIe(e,n,t){return n&&bj(e.prototype,n),t&&bj(e,t),e}function ay(){return typeof Reflect!="undefined"&&Reflect.get?ay=Reflect.get:ay=function(n,t,r){var i=FIe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},ay.apply(this,arguments)}function FIe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Cu(e),e!==null););return e}function BIe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&TT(e,n)}function TT(e,n){return TT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},TT(e,n)}function VIe(e){var n=UIe();return function(){var r=Cu(e),i;if(n){var o=Cu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return WIe(this,i)}}function WIe(e,n){if(n&&(oy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jIe(e)}function jIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UIe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(e)}var zIe=function(e){BIe(t,e);var n=VIe(t);function t(r,i){var o;return LIe(this,t),o=n.call(this,r,{id:i.id,stateless:!1}),o.name=i.name,o.elements.push(new mj(o.hot)),o.registerHooks(),o}return HIe(t,[{key:"registerHooks",value:function(){var i=this;this.getMultipleSelectElement().addLocalHook("keydown",function(o){return i.onInputKeyDown(o)})}},{key:"setState",value:function(i){if(this.reset(),i&&i.command.key===Is){var o=this.getMultipleSelectElement();o.setItems(i.itemsSnapshot),o.setValue(i.args[0]),o.setLocale(i.locale)}}},{key:"getState",value:function(){var i=this.getMultipleSelectElement(),o=i.getItems();return{command:{key:i.isSelectedAllValues()||!o.length?An:Is},args:[i.getValue()],itemsSnapshot:o}}},{key:"updateState",value:function(i){var o=this,a=function(l,u,c,f,h){var d=lr(u,function($){return $.name===Is}),g=PIe(d,1),p=g[0],v={},m=o.hot.getTranslatedPhrase(Sv);if(p){var w=cT(it(f(l,h),function($){return $.value}));c&&(p.args[0]=c);var C=[],E=UW(w,p.args[0],m,function($){$.checked&&C.push($.value)}),k=i.editedConditionStack.column;v.locale=o.hot.getCellMeta(0,k).locale,v.args=[C],v.command=pu(Is),v.itemsSnapshot=E}else v.args=[],v.command=pu(An);o.state.setValueAtIndex(l,v)};a(i.editedConditionStack.column,i.editedConditionStack.conditions,i.conditionArgsChange,i.filteredRowsFactory),i.dependentConditionStacks.length&&a(i.dependentConditionStacks[0].column,i.dependentConditionStacks[0].conditions,i.conditionArgsChange,i.filteredRowsFactory,i.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter(function(i){return i instanceof mj})[0]}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(a,s,l,u,c,f){ve(s.parentNode,"htFiltersMenuValue");var h=i.hot.rootDocument.createElement("div");return ve(h,"htFiltersMenuLabel"),h.textContent=f,s.appendChild(h),s.parentNode.hasAttribute("ghost-table")||B(i.elements,function(d){return s.appendChild(d.element)}),s}}}},{key:"reset",value:function(){var i=this.hot.getTranslatedPhrase(Sv),o=cT(this._getColumnVisibleValues()),a=UW(o,o,i);this.getMultipleSelectElement().setItems(a),ay(Cu(t.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(o);var s=this.hot.getPlugin("filters").getSelectedColumn().visualIndex;this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,s).locale)}},{key:"onInputKeyDown",value:function(i){aa(i.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Lt(i))}},{key:"_getColumnVisibleValues",value:function(){var i=this.hot.getPlugin("filters").getSelectedColumn(),o=i&&i.visualIndex;return it(this.hot.getDataAtCol(o),function(a){return jW(a)})}}]),t}(Fm),YIe=zIe;function sy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sy=function(t){return typeof t}:sy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function GIe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KIe(e,n,t){return n&&wj(e.prototype,n),t&&wj(e,t),e}function XIe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&kT(e,n)}function kT(e,n){return kT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},kT(e,n)}function qIe(e){var n=JIe();return function(){var r=ly(e),i;if(n){var o=ly(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ZIe(this,i)}}function ZIe(e,n){if(n&&(sy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QIe(e)}function QIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JIe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ly(e)}var e$e=function(e){XIe(t,e);var n=qIe(t);function t(r,i){var o;return GIe(this,t),o=n.call(this,r,{id:i.id,stateless:!0}),o.name=i.name,o.elements.push(new mu(o.hot,{type:"button",value:EO,className:"htUIButton htUIButtonOK",identifier:t.BUTTON_OK})),o.elements.push(new mu(o.hot,{type:"button",value:TO,className:"htUIButton htUIButtonCancel",identifier:t.BUTTON_CANCEL})),o.registerHooks(),o}return KIe(t,[{key:"registerHooks",value:function(){var i=this;B(this.elements,function(o){o.addLocalHook("click",function(a,s){return i.onButtonClick(a,s)})})}},{key:"getMenuItemDescriptor",value:function(){var i=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return i.isHidden()},renderer:function(a,s){return ve(s.parentNode,"htFiltersMenuActionBar"),s.parentNode.hasAttribute("ghost-table")||B(i.elements,function(l){return s.appendChild(l.element)}),s}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(i,o){o.options.identifier===t.BUTTON_OK?this.accept():this.cancel()}}],[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}]),t}(Fm),t$e=e$e,_j,Sj;function Cj(e,n){return o$e(e)||i$e(e,n)||r$e(e,n)||n$e()}function n$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$e(e,n){if(!!e){if(typeof e=="string")return Rj(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rj(e,n)}}function Rj(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function i$e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function o$e(e){if(Array.isArray(e))return e}function Oj(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function a$e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ej(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s$e(e,n,t){return n&&Ej(e.prototype,n),t&&Ej(e,t),e}var Tj="ConditionCollection.filteringStates",kj=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a$e(this,e),this.hot=n,this.isMapRegistrable=t,this.filteringStates=new uv,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(Tj,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}return s$e(e,[{key:"isEmpty",value:function(){return this.getFilteredColumns().length===0}},{key:"isMatch",value:function(t,r){var i,o=this.filteringStates.getValueAtIndex(r),a=(i=o==null?void 0:o.conditions)!==null&&i!==void 0?i:[],s=o==null?void 0:o.operation;return this.isMatchInConditions(a,t,s)}},{key:"isMatchInConditions",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ma;return t.length?Yxe(i)(t,r):!0}},{key:"addCondition",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ma,o=arguments.length>3?arguments[3]:void 0,a=this.hot.getCellMeta(0,t).locale,s=it(r.args,function(f){return typeof f=="string"?f.toLocaleLowerCase(a):f}),l=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);var u=this.getOperation(t);if(u){if(u!==i)throw Error(Mt(_j||(_j=Oj(["The column of index "," has been already applied with a `","` \n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones. \n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`, \n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\\x20\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\\x20\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\\x20\n        use it consequently for a particular column)."])),t,u))}else if(Dt(gh[i]))throw new Error(Mt(Sj||(Sj=Oj(["Unexpected operation named `","`. Possible ones are \n        `disjunction` and `conjunction`."],["Unexpected operation named \\`","\\`. Possible ones are\\x20\n        \\`disjunction\\` and \\`conjunction\\`."])),i));var c=this.getConditions(t);c.length===0?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:l,args:s,func:va(l,s)}]},o):c.push({name:l,args:s,func:va(l,s)}),this.runLocalHooks("afterAdd",t)}},{key:"getConditions",value:function(t){var r,i;return(r=(i=this.filteringStates.getValueAtIndex(t))===null||i===void 0?void 0:i.conditions)!==null&&r!==void 0?r:[]}},{key:"getOperation",value:function(t){var r;return(r=this.filteringStates.getValueAtIndex(t))===null||r===void 0?void 0:r.operation}},{key:"getFilteredColumns",value:function(){return this.filteringStates.getEntries().map(function(t){var r=Cj(t,1),i=r[0];return i})}},{key:"getColumnStackPosition",value:function(t){return this.getFilteredColumns().indexOf(t)}},{key:"exportAllConditions",value:function(){return Qt(this.filteringStates.getEntries(),function(t,r){var i=Cj(r,2),o=i[0],a=i[1],s=a.operation,l=a.conditions;return t.push({column:o,operation:s,conditions:it(l,function(u){var c=u.name,f=u.args;return{name:c,args:f}})}),t},[])}},{key:"importAllConditions",value:function(t){var r=this;this.clean(),B(t,function(i){B(i.conditions,function(o){return r.addCondition(i.column,o)})})}},{key:"removeConditions",value:function(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}},{key:"hasConditions",value:function(t,r){var i=this.getConditions(t);return r?i.some(function(o){return o.name===r}):i.length>0}},{key:"destroy",value:function(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(Tj),this.filteringStates=null,this.clearLocalHooks()}}]),e}();Ot(kj,nr);var Aj=kj;function l$e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Mj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u$e(e,n,t){return n&&Mj(e.prototype,n),t&&Mj(e,t),e}var c$e=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return[]};l$e(this,e),this.conditionCollection=n,this.columnDataFactory=t}return u$e(e,[{key:"filter",value:function(){var t=this,r=[];return B(this.conditionCollection.getFilteredColumns(),function(i,o){var a=t.columnDataFactory(i);o&&(a=t._getIntersectData(a,r)),r=t.filterByColumn(i,a)}),r}},{key:"filterByColumn",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=[];return B(i,function(a){a!==void 0&&r.conditionCollection.isMatch(a,t)&&o.push(a)}),o}},{key:"_getIntersectData",value:function(t,r){var i=[];return B(r,function(o){var a=o.meta.visualRow;t[a]!==void 0&&(i[a]=t[a])}),i}}]),e}(),xj=c$e;function f$e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Pj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h$e(e,n,t){return n&&Pj(e.prototype,n),t&&Pj(e,t),e}var Ij=function(){function e(n,t){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};f$e(this,e),this.hot=n,this.conditionCollection=t,this.columnDataFactory=i,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",function(o){return r._onConditionBeforeModify(o)}),this.conditionCollection.addLocalHook("afterRemove",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("afterAdd",function(o){return r.updateStatesAtColumn(o)}),this.conditionCollection.addLocalHook("beforeClean",function(){return r._onConditionBeforeClean()}),this.conditionCollection.addLocalHook("afterClean",function(){return r._onConditionAfterClean()})}return h$e(e,[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var t=this;this.grouping=!1,B(this.changes,function(r){t.updateStatesAtColumn(r)}),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}},{key:"updateStatesAtColumn",value:function(t,r){var i=this;if(this.grouping){this.changes.indexOf(t)===-1&&this.changes.push(t);return}var o=this.conditionCollection.exportAllConditions(),a=this.conditionCollection.getColumnStackPosition(t);a===-1&&(a=this.latestEditedColumnPosition);var s=o.slice(0,a),l=o.slice(a);l.length&&l[0].column===t&&l.shift();var u=IN(function(f,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=new Aj(i.hot,!1),p=[].concat(f,d);g.importAllConditions(p);var v=i.columnDataFactory(h),m;g.isEmpty()?m=v:m=new xj(g,function(C){return i.columnDataFactory(C)}).filter(),m=it(m,function(C){return C.meta.visualRow});var w=dh(m);return g.destroy(),lr(v,function(C){return w(C.meta.visualRow)})})(s),c=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:c},dependentConditionStacks:l,filteredRowsFactory:u,conditionArgsChange:r})}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}},{key:"_onConditionAfterClean",value:function(){var t=this;B(this.latestOrderStack,function(r){t.updateStatesAtColumn(r)})}},{key:"destroy",value:function(){var t=this;this.clearLocalHooks(),st(this,function(r,i){t[i]=null})}}]),e}();Ot(Ij,nr);var d$e=Ij;function uy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uy=function(t){return typeof t}:uy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}var $j;function g$e(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function p$e(e,n){return b$e(e)||y$e(e,n)||m$e(e,n)||v$e()}function v$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$e(e,n){if(!!e){if(typeof e=="string")return Dj(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dj(e,n)}}function Dj(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function y$e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function b$e(e){if(Array.isArray(e))return e}function w$e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Nj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _$e(e,n,t){return n&&Nj(e.prototype,n),t&&Nj(e,t),e}function Ru(){return typeof Reflect!="undefined"&&Reflect.get?Ru=Reflect.get:Ru=function(n,t,r){var i=S$e(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ru.apply(this,arguments)}function S$e(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=_a(e),e!==null););return e}function C$e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&AT(e,n)}function AT(e,n){return AT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},AT(e,n)}function R$e(e){var n=E$e();return function(){var r=_a(e),i;if(n){var o=_a(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O$e(this,i)}}function O$e(e,n){if(n&&(uy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lj(e)}function Lj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(e)}var Hj="filters",T$e=250,k$e=function(e){C$e(t,e);var n=R$e(t);function t(r){var i;return w$e(this,t),i=n.call(this,r),i.eventManager=new Rt(Lj(i)),i.dropdownMenuPlugin=null,i.conditionCollection=null,i.conditionUpdateObserver=null,i.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),i.lastSelectedColumn=null,i.filtersRowsMap=null,i.hot.addHook("afterGetColHeader",function(o,a){return i.onAfterGetColHeader(o,a)}),i}return _$e(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Hj]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new Bf),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var o=this.hot.getSettings().dropdownMenu,a=o&&o.uiContainer||this.hot.rootDocument.body,s=function(d){return d.addLocalHook("accept",function(){return i.onActionBarSubmit("accept")}),d.addLocalHook("cancel",function(){return i.onActionBarSubmit("cancel")}),d.addLocalHook("change",function(g){return i.onComponentChange(d,g)}),d},l=function(){return"".concat(i.hot.getTranslatedPhrase(_O),":")},u=function(){return"".concat(i.hot.getTranslatedPhrase(SO),":")};if(!this.components.get("filter_by_condition")){var c=new wT(this.hot,{id:"filter_by_condition",name:l,addSeparator:!1,menuContainer:a});c.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition",s(c))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new QPe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var f=new wT(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:a});f.addLocalHook("afterClose",function(){return i.onSelectUIClosed()}),this.components.set("filter_by_condition2",s(f))}this.components.get("filter_by_value")||this.components.set("filter_by_value",s(new YIe(this.hot,{id:"filter_by_value",name:u}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",s(new t$e(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new Aj(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new d$e(this.hot,this.conditionCollection,function(h){return i.getDataMapAtColumn(h)}),this.conditionUpdateObserver.addLocalHook("update",function(h){return i.updateComponents(h)})),this.components.forEach(function(h){return h.show()}),this.registerEvents(),this.addHook("beforeDropdownMenuSetItems",function(h){return i.onBeforeDropdownMenuSetItems(h)}),this.addHook("afterDropdownMenuDefaultOptions",function(h){return i.onAfterDropdownMenuDefaultOptions(h)}),this.addHook("afterDropdownMenuShow",function(){return i.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return i.onAfterDropdownMenuHide()}),this.addHook("afterChange",function(h){return i.onAfterChange(h)}),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),Ru(_a(t.prototype),"enablePlugin",this).call(this)}}},{key:"registerEvents",value:function(){var i=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(o){return i.onTableClick(o)})}},{key:"disablePlugin",value:function(){var i=this;if(this.enabled){var o;(o=this.dropdownMenuPlugin)!==null&&o!==void 0&&o.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(function(a,s){a.destroy(),i.components.set(s,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}Ru(_a(t.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(i,o,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ma,l=this.hot.toPhysicalColumn(i);this.conditionCollection.addCondition(l,{command:{key:o},args:a},s)}},{key:"removeConditions",value:function(i){var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}},{key:"clearConditions",value:function(i){if(i===void 0)this.conditionCollection.clean();else{var o=this.hot.toPhysicalColumn(i);this.conditionCollection.removeConditions(o)}}},{key:"filter",value:function(){var i=this,o=this._createDataFilter(),a=!this.conditionCollection.isEmpty(),s=[],l=this.conditionCollection.exportAllConditions(),u=this.hot.runHooks("beforeFilter",l);if(u!==!1)if(a){var c=[];this.hot.batchExecution(function(){i.filtersRowsMap.clear(),s=it(o.filter(),function(h){return h.meta.visualRow});var f=dh(s);Le(i.hot.countSourceRows()-1,function(h){f(h)||c.push(h)}),B(c,function(h){i.filtersRowsMap.setValueAtIndex(h,!0)})},!0),s.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",l),this.hot.view.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection()}},{key:"getSelectedColumn",value:function(){return this.lastSelectedColumn}},{key:"clearColumnSelection",value:function(){var i,o=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.getTopLeftCorner();o!==void 0&&this.hot.selectCell(o.row,o.col)}},{key:"getDataMapAtColumn",value:function(i){var o=this,a=this.hot.toVisualColumn(i),s=[];return B(this.hot.getSourceDataAtCol(a),function(l,u){var c=o.hot.getCellMeta(u,a),f=c.row,h=c.col,d=c.visualCol,g=c.visualRow,p=c.type,v=c.instance,m=c.dateFormat,w=c.locale;s.push({meta:{row:f,col:h,visualCol:d,visualRow:g,type:p,instance:v,dateFormat:m,locale:w},value:jW(l)})}),s}},{key:"onAfterChange",value:function(i){var o=this;i&&B(i,function(a){var s=p$e(a,2),l=s[1],u=o.hot.propToCol(l);o.conditionCollection.hasConditions(u)&&o.updateValueComponentCondition(u)})}},{key:"updateValueComponentCondition",value:function(i){var o=this.hot.getDataAtCol(i),a=cT(o);this.conditionUpdateObserver.updateStatesAtColumn(i,a)}},{key:"restoreComponents",value:function(i){var o,a=(o=this.getSelectedColumn())===null||o===void 0?void 0:o.physicalIndex;i.forEach(function(s){s.isHidden()||s.restoreState(a)}),this.updateDependentComponentsVisibility()}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents(Array.from(this.components.values()))}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(){var i=this;this.dropdownMenuPlugin&&this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",function(){i.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:!0})})}},{key:"onAfterDropdownMenuDefaultOptions",value:function(i){i.items.push({name:at}),this.components.forEach(function(o){i.items.push(o.getMenuItemDescriptor())})}},{key:"getOperationBasedOnArguments",value:function(i,o,a,s){var l=i;return l===jm&&o.command.key!==An&&a.command.key!==An&&s.command.key!==An?l=hT:s.command.key!==An&&(o.command.key===An||a.command.key===An)&&(l=ma),l}},{key:"onActionBarSubmit",value:function(i){if(i==="accept"){var o,a=(o=this.getSelectedColumn())===null||o===void 0?void 0:o.physicalIndex,s=this.components.get("filter_by_condition").getState(),l=this.components.get("filter_by_condition2").getState(),u=this.components.get("filter_by_value").getState(),c=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),s,l,u);this.conditionUpdateObserver.groupChanges();var f=this.conditionCollection.getColumnStackPosition(a);f===-1&&(f=void 0),this.conditionCollection.removeConditions(a),s.command.key!==An&&(this.conditionCollection.addCondition(a,s,c,f),l.command.key!==An&&this.conditionCollection.addCondition(a,l,c,f)),u.command.key!==An&&this.conditionCollection.addCondition(a,u,c,f),this.conditionUpdateObserver.flush(),this.components.forEach(function(h){return h.saveState(a)}),this.filtersRowsMap.clear(),this.filter()}this.dropdownMenuPlugin&&this.dropdownMenuPlugin.close()}},{key:"onComponentChange",value:function(i,o){this.updateDependentComponentsVisibility(),i.constructor===wT&&!o.inputsCount&&this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}},{key:"updateDependentComponentsVisibility",value:function(){var i=this.components.get("filter_by_condition"),o=i.getState(),a=o.command,s=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];a.showOperators?this.showComponents.apply(this,s):this.hideComponents.apply(this,s)}},{key:"onAfterGetColHeader",value:function(i,o){var a=this.hot.toPhysicalColumn(i);this.enabled&&this.conditionCollection.hasConditions(a)?ve(o,"htFiltersActive"):Je(o,"htFiltersActive")}},{key:"onTableClick",value:function(i){var o=Zi(i.target,"TH");if(o){var a=this.hot.getCoords(o).col,s=this.hot.toPhysicalColumn(a);this.lastSelectedColumn={visualIndex:a,physicalIndex:s}}}},{key:"_createDataFilter",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new xj(o,function(a){return i.getDataMapAtColumn(a)})}},{key:"updateComponents",value:function(i){var o;if(!!((o=this.dropdownMenuPlugin)!==null&&o!==void 0&&o.enabled)){var a=i.editedConditionStack,s=a.conditions,l=a.column,u=s.filter(function(h){return h.name===Is}),c=s.filter(function(h){return h.name!==Is});if(u.length>=2||c.length>=3)Nt(Mt($j||($j=g$e([`The filter conditions have been applied properly, but couldn\u2019t be displayed visually. 
        The overall amount of conditions exceed the capability of the dropdown menu. 
        For more details see the documentation.`],[`The filter conditions have been applied properly, but couldn\u2019t be displayed visually.\\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\\x20
        For more details see the documentation.`]))));else{var f=this.conditionCollection.getOperation(l);this.components.get("filter_by_condition").updateState(c[0],l),this.components.get("filter_by_condition2").updateState(c[1],l),this.components.get("filter_operators").updateState(f,l),this.components.get("filter_by_value").updateState(i)}}}},{key:"getIndexesOfComponents",value:function(){var i=[];if(!this.dropdownMenuPlugin)return i;for(var o=this.dropdownMenuPlugin.menu,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return B(s,function(u){B(o.menuItems,function(c,f){c.key===u.getMenuItemDescriptor().key&&i.push(f)})}),i}},{key:"changeComponentsVisibility",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!!this.dropdownMenuPlugin){for(var o=this.dropdownMenuPlugin.menu,a=o.hotMenu,s=a.getPlugin("hiddenRows"),l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var f=this.getIndexesOfComponents.apply(this,u);i?s.showRows(f):s.hideRows(f),a.render()}}},{key:"hideComponents",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.changeComponentsVisibility.apply(this,[!1].concat(o))}},{key:"showComponents",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.changeComponentsVisibility.apply(this,[!0].concat(o))}},{key:"destroy",value:function(){var i=this;this.enabled&&(this.components.forEach(function(o,a){o!==null&&(o.destroy(),i.components.set(a,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),Ru(_a(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Hj}},{key:"PLUGIN_PRIORITY",get:function(){return T$e}},{key:"PLUGIN_DEPS",get:function(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}}]),t}(wt);function Fj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function vh(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Fj(Object(t),!0).forEach(function(r){A$e(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fj(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function A$e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Bj="internal-use-in-handsontable",M$e={licenseKey:Bj,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!0,nullDate:{year:1899,month:12,day:31},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function Vj(e){var n,t;return{maxColumns:e.maxColumns,maxRows:e.maxRows,language:(n=e[Un])===null||n===void 0||(t=n.language)===null||t===void 0?void 0:t.langCode}}function Wj(e){return Object.keys(e).reduce(function(n,t){return t!=="hyperformula"&&(n[t]=e[t]),n},{})}function x$e(e){var n,t=e[Un],r=Wj(t!=null&&(n=t.engine)!==null&&n!==void 0&&n.hyperformula?t.engine:{}),i=Vj(e);return vh(vh(vh({},M$e),r),i)}function P$e(e){var n,t=e[Un],r=Wj(t!=null&&(n=t.engine)!==null&&n!==void 0&&n.hyperformula?t.engine:{}),i=Vj(e);return vh(vh({},r),i)}function cy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cy=function(t){return typeof t}:cy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function fy(){var e="engine_relationship",n=Pr(Un);return n.hasItem(e)||n.register(e,new Map),n.getItem(e)}function MT(){var e="shared_engine_usage",n=Pr(Un);return n.hasItem(e)||n.register(e,new Map),n.getItem(e)}function I$e(e){var n=e.getSettings(),t=n[Un],r=t==null?void 0:t.engine;if(t===!0||Dt(r))return null;if(typeof r.hyperformula=="function"||typeof r=="function"){var i;return $$e((i=r.hyperformula)!==null&&i!==void 0?i:r,n,e)}else if(cy(r)==="object"&&Dt(r.hyperformula)){var o=fy(),a=MT().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(e),a&&a.push(e.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:Bj}),r}return null}function $$e(e,n,t){var r=n[Un],i=x$e(n),o=fy(),a=MT();D$e(e,r.functions),N$e(e,r.language);var s=e.buildEmpty(i);return o.set(s,[t]),a.set(s,[t.guid]),L$e(s,r.namedExpressions),s.on("sheetAdded",function(){s.rebuildAndRecalculate()}),s.on("sheetRemoved",function(){s.rebuildAndRecalculate()}),s}function jj(e){var n,t=fy(),r=t.size===0?[]:Array.from((n=t.get(e))!==null&&n!==void 0?n:[]);return new Map(r.map(function(i){return[i.getPlugin("formulas").sheetId,i]}))}function Uj(e,n){if(e){var t=fy(),r=t.get(e),i=MT(),o=i.get(e);r&&r.includes(n)&&(r.splice(r.indexOf(n),1),r.length===0&&t.delete(e)),o&&o.includes(n.guid)&&(o.splice(o.indexOf(n.guid),1),o.length===0&&(i.delete(e),e.destroy()))}}function D$e(e,n){n&&n.forEach(function(t){var r=t.name,i=t.plugin,o=t.translations;try{e.registerFunction(r,i,o)}catch(a){Nt(a.message)}})}function N$e(e,n){if(n){var t=n.langCode;try{e.registerLanguage(t,n)}catch(r){Nt(r.message)}}}function L$e(e,n){n&&(e.suspendEvaluation(),n.forEach(function(t){var r=t.name,i=t.expression,o=t.scope,a=t.options;try{e.addNamedExpression(r,i,o,a)}catch(s){Nt(s.message)}}),e.resumeEvaluation())}function H$e(e,n){return(Dt(n)||!e.doesSheetExist(n))&&(n=e.addSheet(n)),n}function zj(e){return typeof e=="string"&&e.charAt(0)==="'"&&e.charAt(1)==="="}function F$e(e){return zj(e)?e.substr(1):e}function B$e(e){return j$e(e)||W$e(e)||Kj(e)||V$e()}function V$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W$e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j$e(e){if(Array.isArray(e))return xT(e)}function Yj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Gj(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Yj(Object(t),!0).forEach(function(r){hy(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yj(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(t){return typeof t}:Ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function Eu(e,n){return Y$e(e)||z$e(e,n)||Kj(e,n)||U$e()}function U$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kj(e,n){if(!!e){if(typeof e=="string")return xT(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xT(e,n)}}function xT(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function z$e(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Y$e(e){if(Array.isArray(e))return e}function G$e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K$e(e,n,t){return n&&Xj(e.prototype,n),t&&Xj(e,t),e}function $s(){return typeof Reflect!="undefined"&&Reflect.get?$s=Reflect.get:$s=function(n,t,r){var i=X$e(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},$s.apply(this,arguments)}function X$e(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=vo(e),e!==null););return e}function q$e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&PT(e,n)}function PT(e,n){return PT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},PT(e,n)}function Z$e(e){var n=J$e();return function(){var r=vo(e),i;if(n){var o=vo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Q$e(this,i)}}function Q$e(e,n){if(n&&(Ou(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ds(e)}function Ds(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(e)}function hy(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function IT(e,n,t){eDe(e,n),n.set(e,t)}function eDe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tu(e,n,t){var r=qj(e,n,"set");return tDe(e,r,t),t}function tDe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}function ku(e,n){var t=qj(e,n,"get");return nDe(e,t)}function qj(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function nDe(e,n){return n.get?n.get.call(e):n.value}var Un="formulas",rDe=260,Zj="row_move";De.getSingleton().register("afterNamedExpressionAdded");De.getSingleton().register("afterNamedExpressionRemoved");De.getSingleton().register("afterSheetAdded");De.getSingleton().register("afterSheetRemoved");De.getSingleton().register("afterSheetRenamed");De.getSingleton().register("afterFormulasValuesUpdate");var Au=function(n){return n==="UndoRedo.undo"||n==="UndoRedo.redo"||n==="auto"},Ns=new WeakMap,$T=new WeakMap,mh=new WeakMap,iDe=function(e){q$e(t,e);var n=Z$e(t);function t(){var r;G$e(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o)),IT(Ds(r),Ns,{writable:!0,value:!1}),IT(Ds(r),$T,{writable:!0,value:!1}),IT(Ds(r),mh,{writable:!0,value:[["valuesUpdated",function(){var s;return(s=r).onEngineValuesUpdated.apply(s,arguments)}],["namedExpressionAdded",function(){var s;return(s=r).onEngineNamedExpressionsAdded.apply(s,arguments)}],["namedExpressionRemoved",function(){var s;return(s=r).onEngineNamedExpressionsRemoved.apply(s,arguments)}],["sheetAdded",function(){var s;return(s=r).onEngineSheetAdded.apply(s,arguments)}],["sheetRenamed",function(){var s;return(s=r).onEngineSheetRenamed.apply(s,arguments)}],["sheetRemoved",function(){var s;return(s=r).onEngineSheetRemoved.apply(s,arguments)}]]}),hy(Ds(r),"staticRegister",Pr("formulas")),hy(Ds(r),"engine",null),hy(Ds(r),"sheetName",null),r}return K$e(t,[{key:"sheetId",get:function(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}},{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Un]}},{key:"enablePlugin",value:function(){var i,o=this;if(!this.enabled){if(this.engine=(i=I$e(this.hot))!==null&&i!==void 0?i:this.engine,!this.engine){Nt("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){var a=this.addSheet(this.sheetName,this.hot.getSourceDataArray());a!==!1&&(this.sheetName=a)}this.addHook("beforeLoadData",function(){return o.onBeforeLoadData.apply(o,arguments)}),this.addHook("afterLoadData",function(){return o.onAfterLoadData.apply(o,arguments)}),this.addHook("modifyData",function(){return o.onModifyData.apply(o,arguments)}),this.addHook("modifySourceData",function(){return o.onModifySourceData.apply(o,arguments)}),this.addHook("beforeValidate",function(){return o.onBeforeValidate.apply(o,arguments)}),this.addHook("afterSetSourceDataAtCell",function(){return o.onAfterSetSourceDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtCell",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("afterSetDataAtRowProp",function(){return o.onAfterSetDataAtCell.apply(o,arguments)}),this.addHook("beforeCreateRow",function(){return o.onBeforeCreateRow.apply(o,arguments)}),this.addHook("beforeCreateCol",function(){return o.onBeforeCreateCol.apply(o,arguments)}),this.addHook("afterCreateRow",function(){return o.onAfterCreateRow.apply(o,arguments)}),this.addHook("afterCreateCol",function(){return o.onAfterCreateCol.apply(o,arguments)}),this.addHook("beforeRemoveRow",function(){return o.onBeforeRemoveRow.apply(o,arguments)}),this.addHook("beforeRemoveCol",function(){return o.onBeforeRemoveCol.apply(o,arguments)}),this.addHook("afterRemoveRow",function(){return o.onAfterRemoveRow.apply(o,arguments)}),this.addHook("afterRemoveCol",function(){return o.onAfterRemoveCol.apply(o,arguments)}),this.addHook("beforeUndo",function(s){(s==null?void 0:s.actionType)!==Zj&&o.engine.undo()}),this.addHook("beforeRedo",function(s){(s==null?void 0:s.actionType)!==Zj&&o.engine.redo()}),this.addHook("afterDetachChild",function(){return o.onAfterDetachChild.apply(o,arguments)}),this.addHook("beforeAutofill",function(){return o.onBeforeAutofill.apply(o,arguments)}),ku(this,mh).forEach(function(s){var l=Eu(s,2),u=l[0],c=l[1];return o.engine.on(u,c)}),$s(vo(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this;ku(this,mh).forEach(function(o){var a=Eu(o,2),s=a[0],l=a[1];return i.engine.off(s,l)}),Uj(this.engine,this.hot),this.engine=null,$s(vo(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(i){this.engine.updateConfig(P$e(this.hot.getSettings()));var o=this.hot.getSettings()[Un];if(je(o)&&je(o.sheetName)&&o.sheetName!==this.sheetName&&this.switchSheet(o.sheetName),!i.data&&this.sheetName===null){var a=this.hot.getSettings()[Un].sheetName;a&&this.engine.doesSheetExist(a)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(a!=null?a:void 0,this.hot.getSourceDataArray())}$s(vo(t.prototype),"updatePlugin",this).call(this,i)}},{key:"destroy",value:function(){var i=this;ku(this,mh).forEach(function(o){var a,s=Eu(o,2),l=s[0],u=s[1];return(a=i.engine)===null||a===void 0?void 0:a.off(l,u)}),Tu(this,mh,null),Uj(this.engine,this.hot),this.engine=null,$s(vo(t.prototype),"destroy",this).call(this)}},{key:"getPhysicalIndexPosition",value:function(i,o,a,s,l){return!l&&i>=a?s+(i-a):o}},{key:"toPhysicalRowPosition",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPhysicalIndexPosition(i,this.hot.toPhysicalRow(i),this.hot.countRows(),this.hot.countSourceRows(),o)}},{key:"toPhysicalColumnPosition",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPhysicalIndexPosition(i,this.hot.toPhysicalColumn(i),this.hot.countCols(),this.hot.countSourceCols(),o)}},{key:"addSheet",value:function(i,o){if(je(o)&&!sF(o))return Nt("The provided data should be an array of arrays."),!1;if(i!=null&&this.engine.doesSheetExist(i))return Nt("Sheet with the provided name already exists."),!1;try{var a=this.engine.addSheet(i!=null?i:void 0);return o&&this.engine.setSheetContent(this.engine.getSheetId(a),o),a}catch(s){return Nt(s.message),!1}}},{key:"switchSheet",value:function(i){if(!this.engine.doesSheetExist(i)){zC("The sheet named `".concat(i,"` does not exist, switch aborted."));return}this.sheetName=i;var o=this.engine.getSheetSerialized(this.sheetId);o.length>0&&this.hot.loadData(o,"".concat(Gr(Un),".switchSheet"))}},{key:"getCellType",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId,s=this.hot.toPhysicalRow(i),l=this.hot.toPhysicalColumn(o);return s!==null&&l!==null?this.engine.getCellType({sheet:a,row:s,col:l}):"EMPTY"}},{key:"isFormulaCellType",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId,s=this.hot.toPhysicalRow(i),l=this.hot.toPhysicalColumn(o);return s===null||l===null?!1:this.engine.doesCellHaveFormula({sheet:a,row:s,col:l})}},{key:"renderDependentSheets",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=new Set;i.forEach(function(l){var u,c=l==null||(u=l.address)===null||u===void 0?void 0:u.sheet;c!==void 0&&(s.has(c)||s.add(c))}),jj(this.engine).forEach(function(l,u){if((a||u!==o.sheetId)&&s.has(u)){var c;l.render(),(c=l.view)===null||c===void 0||c.adjustElementsSize()}})}},{key:"validateDependentCells",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=function(c){var f,h=(f=c==null?void 0:c.address)!==null&&f!==void 0?f:{},d=h.row,g=h.col,p=h.sheet;return je(p)?"".concat(p,":").concat(d,"x").concat(g):""},l=new Set(a.map(function(u){return s(u)}));i.forEach(function(u){var c,f,h=(c=u.address)!==null&&c!==void 0?c:{},d=h.row,g=h.col,p=je(d)?o.hot.toVisualRow(d):null,v=je(g)?o.hot.toVisualColumn(g):null;if(!(p===null||v===null)){var m=u==null||(f=u.address)===null||f===void 0?void 0:f.sheet,w=s(u);if(m!==void 0&&!l.has(w)){var C=jj(o.engine).get(m);C.validateCell(C.getDataAtCell(p,v),C.getCellMeta(p,v),function(){})}}})}},{key:"syncChangeWithEngine",value:function(i,o,a){var s={row:this.toPhysicalRowPosition(i),col:this.toPhysicalColumnPosition(o),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(s)){Nt("Not possible to set cell data at ".concat(JSON.stringify(s)));return}return this.engine.setCellContents(s,a)}},{key:"onBeforeValidate",value:function(i,o,a){var s=this.hot.propToCol(a);if(this.isFormulaCellType(o,s)){var l={row:this.hot.toPhysicalRow(o),col:this.hot.toPhysicalColumn(s),sheet:this.sheetId},u=this.engine.getCellValue(l);return Ou(u)==="object"&&u!==null?u.value:u}return i}},{key:"onBeforeAutofill",value:function(i,o,a){var s=this,l=function(h){return Gj(Gj({},h),{},{sheet:s.sheetId})},u={start:l(o.getTopLeftCorner()),end:l(o.getBottomRightCorner())},c={start:l(a.getTopLeftCorner()),end:l(a.getBottomRightCorner())};return this.engine.isItPossibleToSetCellContents(c)===!1?!1:this.engine.getFillRangeData(u,c)}},{key:"onBeforeLoadData",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";a.includes(Gr(Un))||Tu(this,$T,Dt(this.hot.getSettings().data))}},{key:"onAfterLoadData",value:function(i,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(!a.includes(Gr(Un)))if(this.sheetName=H$e(this.engine,this.hot.getSettings()[Un].sheetName),ku(this,$T))this.switchSheet(this.sheetName);else{var s=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,s)){Tu(this,Ns,!0);var l=this.engine.setSheetContent(this.sheetId,this.hot.getSourceDataArray());this.renderDependentSheets(l),Tu(this,Ns,!1)}}}},{key:"onModifyData",value:function(i,o,a,s){if(!(s!=="get"||ku(this,Ns)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))){var l=this.hot.toVisualRow(i),u=this.isFormulaCellType(l,o);if(!u){var c=this.getCellType(l,o);if(c!=="ARRAY"){zj(a.value)&&(a.value=F$e(a.value));return}}var f={row:i,col:this.toPhysicalColumnPosition(o),sheet:this.sheetId},h=this.engine.getCellValue(f),d=Ou(h)==="object"&&h!==null?h.value:h;a.value=d}}},{key:"onModifySourceData",value:function(i,o,a,s){if(!(s!=="get"||ku(this,Ns)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))){var l=this.hot.toVisualRow(i),u=this.hot.propToCol(o),c=this.isFormulaCellType(l,u);if(!c){var f=this.getCellType(l,u);if(f!=="ARRAY")return}var h=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(!(h.width===0&&h.height===0)){var d={row:i,col:this.toPhysicalColumnPosition(u),sheet:this.sheetId};a.value=this.engine.getCellSerialized(d)}}}},{key:"onAfterSetDataAtCell",value:function(i,o){var a=this;if(!Au(o)){var s=[],l=[],u=this.engine.batch(function(){i.forEach(function(c){var f=Eu(c,4),h=f[0],d=f[1],g=f[3],p=a.hot.propToCol(d),v=a.hot.toPhysicalRow(h),m=a.hot.toPhysicalColumn(p),w={row:v,col:m,sheet:a.sheetId};v!==null&&m!==null?a.syncChangeWithEngine(h,p,g):s.push([h,p,g]),l.push({address:w})})});s.length&&this.hot.addHookOnce("afterChange",function(){var c=a.engine.batch(function(){s.forEach(function(f){var h=Eu(f,3),d=h[0],g=h[1],p=h[2];a.syncChangeWithEngine(d,g,p)})});a.renderDependentSheets(c,!0)}),this.renderDependentSheets(u),this.validateDependentCells(u,l)}}},{key:"onAfterSetSourceDataAtCell",value:function(i,o){var a=this;if(!Au(o)){var s=[],l=[];i.forEach(function(u){var c=Eu(u,4),f=c[0],h=c[1],d=c[3],g=a.hot.propToCol(h);if(!!dr(g)){var p={row:f,col:a.toPhysicalColumnPosition(g),sheet:a.sheetId};if(!a.engine.isItPossibleToSetCellContents(p)){Nt("Not possible to set source cell data at ".concat(JSON.stringify(p)));return}l.push({address:p}),s.push.apply(s,B$e(a.engine.setCellContents(p,d)))}}),this.renderDependentSheets(s),this.validateDependentCells(s,l)}}},{key:"onBeforeCreateRow",value:function(i,o){if(this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[this.toPhysicalRowPosition(i),o]))return!1}},{key:"onBeforeCreateCol",value:function(i,o){if(this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]))return!1}},{key:"onBeforeRemoveRow",value:function(i,o,a){var s=this,l=a.every(function(u){return s.engine.isItPossibleToRemoveRows(s.sheetId,[u,1])});return l===!1?!1:void 0}},{key:"onBeforeRemoveCol",value:function(i,o,a){var s=this,l=a.every(function(u){return s.engine.isItPossibleToRemoveColumns(s.sheetId,[u,1])});return l===!1?!1:void 0}},{key:"onAfterCreateRow",value:function(i,o,a){if(!Au(a)){var s=this.engine.addRows(this.sheetId,[this.toPhysicalRowPosition(i),o]);this.renderDependentSheets(s)}}},{key:"onAfterCreateCol",value:function(i,o,a){if(!Au(a)){var s=this.engine.addColumns(this.sheetId,[this.toPhysicalColumnPosition(i),o]);this.renderDependentSheets(s)}}},{key:"onAfterRemoveRow",value:function(i,o,a,s){var l=this;if(!Au(s)){var u=a.sort().reverse(),c=this.engine.batch(function(){u.forEach(function(f){l.engine.removeRows(l.sheetId,[f,1])})});this.renderDependentSheets(c)}}},{key:"onAfterRemoveCol",value:function(i,o,a,s){var l=this;if(!Au(s)){var u=a.sort().reverse(),c=this.engine.batch(function(){u.forEach(function(f){l.engine.removeColumns(l.sheetId,[f,1])})});this.renderDependentSheets(c)}}},{key:"onAfterDetachChild",value:function(i,o,a){var s,l=this;Tu(this,Ns,!0);var u=this.hot.getSourceDataArray(a,0,a+(((s=o.__children)===null||s===void 0?void 0:s.length)||0),this.hot.countSourceCols());Tu(this,Ns,!1),u.forEach(function(c,f){c.forEach(function(h,d){l.engine.setCellContents({col:d,row:a+f,sheet:l.sheetId},[[h]])})})}},{key:"onEngineValuesUpdated",value:function(i){this.hot.runHooks("afterFormulasValuesUpdate",i)}},{key:"onEngineNamedExpressionsAdded",value:function(i,o){this.hot.runHooks("afterNamedExpressionAdded",i,o)}},{key:"onEngineNamedExpressionsRemoved",value:function(i,o){this.hot.runHooks("afterNamedExpressionRemoved",i,o)}},{key:"onEngineSheetAdded",value:function(i){this.hot.runHooks("afterSheetAdded",i)}},{key:"onEngineSheetRenamed",value:function(i,o){this.hot.runHooks("afterSheetRenamed",i,o)}},{key:"onEngineSheetRemoved",value:function(i,o){this.hot.runHooks("afterSheetRemoved",i,o)}}],[{key:"PLUGIN_KEY",get:function(){return Un}},{key:"PLUGIN_PRIORITY",get:function(){return rDe}}]),t}(wt);function oDe(e,n){return uDe(e)||lDe(e,n)||sDe(e,n)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(e,n){if(!!e){if(typeof e=="string")return Qj(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qj(e,n)}}function Qj(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function lDe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function uDe(e){if(Array.isArray(e))return e}function cDe(e){return{key:"hidden_columns_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=oDe(t,4),o=i[1],a=i[3];o-a!=0&&(r=1)}return this.getTranslatedPhrase(QR,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.col,i.col),0),a=Math.max(r.col,i.col),s=[],l=o;l<=a;l+=1)s.push(l);var u=s[0],c=s[s.length-1],f=this.columnIndexMapper.getFirstNotHiddenIndex(c+1,1,!0,u-1);e.hideColumns(s),Number.isInteger(f)&&f>=0?this.selectColumns(f):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function dy(e){return gDe(e)||dDe(e)||hDe(e)||fDe()}function fDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hDe(e,n){if(!!e){if(typeof e=="string")return DT(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return DT(e,n)}}function dDe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gDe(e){if(Array.isArray(e))return DT(e)}function DT(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pDe(e){var n=[];return{key:"hidden_columns_show",name:function(){var r=n.length>1?1:0;return this.getTranslatedPhrase(JR,r)},callback:function(){var r,i;if(n.length!==0){var o=n[0],a=n[n.length-1];o=(r=this.columnIndexMapper.getFirstNotHiddenIndex(o-1,-1))!==null&&r!==void 0?r:0,a=(i=this.columnIndexMapper.getFirstNotHiddenIndex(a+1,1))!==null&&i!==void 0?i:this.countCols()-1,e.showColumns(n),this.render(),this.view.adjustElementsSize(!0);var s=a-o+1===this.countCols();s||this.selectColumns(o,a)}},disabled:!1,hidden:function(){var r=this,i=it(e.getHiddenColumns(),function(w){return r.toPhysicalColumn(w)});if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||i.length<1)return!0;n.length=0;var o=this.getSelectedRangeLast(),a=o.getTopLeftCorner().col,s=o.getBottomRightCorner().col,l=this.columnIndexMapper,u=l.getRenderableFromVisualIndex(a),c=l.getRenderableFromVisualIndex(s),f=l.getNotTrimmedIndexes(),h=[];if(a!==s){var d=s-a+1,g=c-u+1;if(d>g){var p=f.slice(a,s+1);h.push.apply(h,dy(p.filter(function(w){return i.includes(w)})))}}else if(u===0&&u<a)h.push.apply(h,dy(f.slice(0,a)));else if(u===null)h.push.apply(h,dy(f.slice(0,this.countCols())));else{var v=this.countCols()-1,m=l.getRenderableFromVisualIndex(l.getFirstNotHiddenIndex(v,-1));c===m&&v>s&&h.push.apply(h,dy(f.slice(s+1)))}return B(h,function(w){n.push(r.toVisualColumn(w))}),n.length===0}}}function gy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gy=function(t){return typeof t}:gy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function vDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Jj(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mDe(e,n,t){return n&&Jj(e.prototype,n),t&&Jj(e,t),e}function Ls(){return typeof Reflect!="undefined"&&Reflect.get?Ls=Reflect.get:Ls=function(n,t,r){var i=yDe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ls.apply(this,arguments)}function yDe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=mo(e),e!==null););return e}function bDe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&NT(e,n)}function NT(e,n){return NT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},NT(e,n)}function wDe(e){var n=SDe();return function(){var r=mo(e),i;if(n){var o=mo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _De(this,i)}}function _De(e,n){if(n&&(gy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LT(e)}function LT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SDe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mo(e){return mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mo(e)}function eU(e,n,t){CDe(e,n),n.set(e,t)}function CDe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pr(e,n){var t=tU(e,n,"get");return RDe(e,t)}function RDe(e,n){return n.get?n.get.call(e):n.value}function yh(e,n,t){var r=tU(e,n,"set");return ODe(e,r,t),t}function tU(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function ODe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}De.getSingleton().register("beforeHideColumns");De.getSingleton().register("afterHideColumns");De.getSingleton().register("beforeUnhideColumns");De.getSingleton().register("afterUnhideColumns");var HT="hiddenColumns",EDe=310,Ri=new WeakMap,Oi=new WeakMap,TDe=function(e){bDe(t,e);var n=wDe(t);function t(){var r;vDe(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o)),eU(LT(r),Ri,{writable:!0,value:{}}),eU(LT(r),Oi,{writable:!0,value:null}),r}return mDe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[HT]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[HT];rt(o)&&(yh(this,Ri,o),Dt(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),yh(this,Oi,new sv),pr(this,Oi).addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,pr(this,Oi)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(a,s,l){return i.onAfterGetCellMeta(a,s,l)}),this.addHook("modifyColWidth",function(a,s){return i.onModifyColWidth(a,s)}),this.addHook("afterGetColHeader",function(){return i.onAfterGetColHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(a){return i.onModifyCopyableRange(a)}),Ls(mo(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ls(mo(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),yh(this,Ri,{}),Ls(mo(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(i){var o=this,a=this.getHiddenColumns(),s=this.isValidConfig(i),l=a,u=pr(this,Oi).getValues().slice(),c=i.length>0;if(s&&c){var f=i.map(function(d){return o.hot.toPhysicalColumn(d)});B(f,function(d){u[d]=!1}),l=Qt(u,function(d,g,p){return g&&d.push(o.hot.toVisualColumn(p)),d},[])}var h=this.hot.runHooks("beforeUnhideColumns",a,l,s&&c);h!==!1&&(s&&c&&pr(this,Oi).setValues(u),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",a,l,s&&c,s&&l.length<a.length))}},{key:"showColumn",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.showColumns(o)}},{key:"hideColumns",value:function(i){var o=this,a=this.getHiddenColumns(),s=this.isValidConfig(i),l=a;s&&(l=Array.from(new Set(a.concat(i))));var u=this.hot.runHooks("beforeHideColumns",a,l,s);u!==!1&&(s&&this.hot.batchExecution(function(){B(i,function(c){pr(o,Oi).setValueAtIndex(o.hot.toPhysicalColumn(c),!0)})},!0),this.hot.runHooks("afterHideColumns",a,l,s,s&&l.length>a.length))}},{key:"hideColumn",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.hideColumns(o)}},{key:"getHiddenColumns",value:function(){var i=this;return it(pr(this,Oi).getHiddenIndexes(),function(o){return i.hot.toVisualColumn(o)})}},{key:"isHidden",value:function(i){return pr(this,Oi).getValueAtIndex(this.hot.toPhysicalColumn(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countCols();return Array.isArray(i)&&i.length>0?i.every(function(a){return Number.isInteger(a)&&a>=0&&a<o}):!1}},{key:"resetCellsMeta",value:function(){B(this.hot.getCellsMeta(),function(i){i&&(i.skipColumnOnPaste=!1)})}},{key:"onModifyColWidth",value:function(i,o){if(this.isHidden(o))return 0;if(pr(this,Ri).indicators&&(this.isHidden(o+1)||this.isHidden(o-1))&&typeof i=="number"&&this.hot.hasColHeaders())return i+15}},{key:"onAfterGetCellMeta",value:function(i,o,a){if(pr(this,Ri).copyPasteEnabled===!1&&this.isHidden(o)&&(a.skipColumnOnPaste=!0),this.isHidden(o-1))a.className=a.className||"",a.className.indexOf("afterHiddenColumn")===-1&&(a.className+=" afterHiddenColumn");else if(a.className){var s=a.className.split(" ");if(s.length>0){var l=s.indexOf("afterHiddenColumn");l>-1&&s.splice(l,1),a.className=s.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(pr(this,Ri).copyPasteEnabled)return i;var a=[],s=function(u,c,f,h){a.push({startRow:u,endRow:c,startCol:f,endCol:h})};return B(i,function(l){var u=!0,c=0;Le(l.startCol,l.endCol,function(f){o.isHidden(f)?(u||s(l.startRow,l.endRow,c,f-1),u=!0):(u&&(c=f),f===l.endCol&&s(l.startRow,l.endRow,c,f),u=!1)})}),a}},{key:"onAfterGetColHeader",value:function(i,o){if(!(!pr(this,Ri).indicators||i<0)){var a=[];i>=1&&this.isHidden(i-1)&&a.push("afterHiddenColumn"),i<this.hot.countCols()-1&&this.isHidden(i+1)&&a.push("beforeHiddenColumn"),ve(o,a)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:at},cDe(this),pDe(this))}},{key:"onMapInit",value:function(){Array.isArray(pr(this,Ri).columns)&&this.hideColumns(pr(this,Ri).columns)}},{key:"destroy",value:function(){yh(this,Ri,null),yh(this,Oi,null),Ls(mo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return HT}},{key:"PLUGIN_PRIORITY",get:function(){return EDe}}]),t}(wt);function kDe(e,n){return PDe(e)||xDe(e,n)||MDe(e,n)||ADe()}function ADe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(e,n){if(!!e){if(typeof e=="string")return nU(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nU(e,n)}}function nU(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function xDe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function PDe(e){if(Array.isArray(e))return e}function IDe(e){return{key:"hidden_rows_hide",name:function(){var t=this.getSelectedLast(),r=0;if(Array.isArray(t)){var i=kDe(t,3),o=i[0],a=i[2];o-a!=0&&(r=1)}return this.getTranslatedPhrase(eO,r)},callback:function(){for(var t=this.getSelectedRangeLast(),r=t.from,i=t.to,o=Math.max(Math.min(r.row,i.row),0),a=Math.max(r.row,i.row),s=[],l=o;l<=a;l+=1)s.push(l);var u=s[0],c=s[s.length-1],f=this.rowIndexMapper.getFirstNotHiddenIndex(c+1,1,!0,u-1);e.hideRows(s),Number.isInteger(f)&&f>=0?this.selectRows(f):this.deselectCell(),this.render(),this.view.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function py(e){return LDe(e)||NDe(e)||DDe(e)||$De()}function $De(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(e,n){if(!!e){if(typeof e=="string")return FT(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FT(e,n)}}function NDe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LDe(e){if(Array.isArray(e))return FT(e)}function FT(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function HDe(e){var n=[];return{key:"hidden_rows_show",name:function(){var r=n.length>1?1:0;return this.getTranslatedPhrase(tO,r)},callback:function(){var r,i;if(n.length!==0){var o=n[0],a=n[n.length-1];o=(r=this.rowIndexMapper.getFirstNotHiddenIndex(o-1,-1))!==null&&r!==void 0?r:0,a=(i=this.rowIndexMapper.getFirstNotHiddenIndex(a+1,1))!==null&&i!==void 0?i:this.countRows()-1,e.showRows(n),this.render(),this.view.adjustElementsSize(!0);var s=a-o+1===this.countRows();s||this.selectRows(o,a)}},disabled:!1,hidden:function(){var r=this,i=it(e.getHiddenRows(),function(w){return r.toPhysicalRow(w)});if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||i.length<1)return!0;n.length=0;var o=this.getSelectedRangeLast(),a=o.getTopLeftCorner().row,s=o.getBottomRightCorner().row,l=this.rowIndexMapper,u=l.getRenderableFromVisualIndex(a),c=l.getRenderableFromVisualIndex(s),f=l.getNotTrimmedIndexes(),h=[];if(a!==s){var d=s-a+1,g=c-u+1;if(d>g){var p=f.slice(a,s+1);h.push.apply(h,py(p.filter(function(w){return i.includes(w)})))}}else if(u===0&&u<a)h.push.apply(h,py(f.slice(0,a)));else if(u===null)h.push.apply(h,py(f.slice(0,this.countRows())));else{var v=this.countRows()-1,m=l.getRenderableFromVisualIndex(l.getFirstNotHiddenIndex(v,-1));c===m&&v>s&&h.push.apply(h,py(f.slice(s+1)))}return B(h,function(w){n.push(r.toVisualRow(w))}),n.length===0}}}function vy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vy=function(t){return typeof t}:vy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function FDe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BDe(e,n,t){return n&&rU(e.prototype,n),t&&rU(e,t),e}function Hs(){return typeof Reflect!="undefined"&&Reflect.get?Hs=Reflect.get:Hs=function(n,t,r){var i=VDe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Hs.apply(this,arguments)}function VDe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=yo(e),e!==null););return e}function WDe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&BT(e,n)}function BT(e,n){return BT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},BT(e,n)}function jDe(e){var n=zDe();return function(){var r=yo(e),i;if(n){var o=yo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UDe(this,i)}}function UDe(e,n){if(n&&(vy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VT(e)}function VT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zDe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yo(e){return yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(e)}function iU(e,n,t){YDe(e,n),n.set(e,t)}function YDe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nr(e,n){var t=oU(e,n,"get");return GDe(e,t)}function GDe(e,n){return n.get?n.get.call(e):n.value}function bh(e,n,t){var r=oU(e,n,"set");return KDe(e,r,t),t}function oU(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function KDe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}De.getSingleton().register("beforeHideRows");De.getSingleton().register("afterHideRows");De.getSingleton().register("beforeUnhideRows");De.getSingleton().register("afterUnhideRows");var WT="hiddenRows",XDe=320,bo=new WeakMap,Ei=new WeakMap,qDe=function(e){WDe(t,e);var n=jDe(t);function t(){var r;FDe(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o)),iU(VT(r),bo,{writable:!0,value:{}}),iU(VT(r),Ei,{writable:!0,value:null}),r}return BDe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[WT]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[WT];rt(o)&&(bh(this,bo,o),Dt(o.copyPasteEnabled)&&(o.copyPasteEnabled=!0)),bh(this,Ei,new sv),Nr(this,Ei).addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,Nr(this,Ei)),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(a,s,l){return i.onAfterGetCellMeta(a,s,l)}),this.addHook("modifyRowHeight",function(a,s){return i.onModifyRowHeight(a,s)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("modifyCopyableRange",function(a){return i.onModifyCopyableRange(a)}),Hs(yo(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Hs(yo(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),bh(this,bo,{}),Hs(yo(t.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(i){var o=this,a=this.getHiddenRows(),s=this.isValidConfig(i),l=a,u=Nr(this,Ei).getValues().slice(),c=i.length>0;if(s&&c){var f=i.map(function(d){return o.hot.toPhysicalRow(d)});B(f,function(d){u[d]=!1}),l=Qt(u,function(d,g,p){return g&&d.push(o.hot.toVisualRow(p)),d},[])}var h=this.hot.runHooks("beforeUnhideRows",a,l,s&&c);h!==!1&&(s&&c&&Nr(this,Ei).setValues(u),this.hot.runHooks("afterUnhideRows",a,l,s&&c,s&&l.length<a.length))}},{key:"showRow",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.showRows(o)}},{key:"hideRows",value:function(i){var o=this,a=this.getHiddenRows(),s=this.isValidConfig(i),l=a;s&&(l=Array.from(new Set(a.concat(i))));var u=this.hot.runHooks("beforeHideRows",a,l,s);u!==!1&&(s&&this.hot.batchExecution(function(){B(i,function(c){Nr(o,Ei).setValueAtIndex(o.hot.toPhysicalRow(c),!0)})},!0),this.hot.runHooks("afterHideRows",a,l,s,s&&l.length>a.length))}},{key:"hideRow",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.hideRows(o)}},{key:"getHiddenRows",value:function(){var i=this;return it(Nr(this,Ei).getHiddenIndexes(),function(o){return i.hot.toVisualRow(o)})}},{key:"isHidden",value:function(i){return Nr(this,Ei).getValueAtIndex(this.hot.toPhysicalRow(i))||!1}},{key:"isValidConfig",value:function(i){var o=this.hot.countRows();return Array.isArray(i)&&i.length>0?i.every(function(a){return Number.isInteger(a)&&a>=0&&a<o}):!1}},{key:"resetCellsMeta",value:function(){B(this.hot.getCellsMeta(),function(i){i&&(i.skipRowOnPaste=!1)})}},{key:"onModifyRowHeight",value:function(i,o){return this.isHidden(o)?0:i}},{key:"onAfterGetCellMeta",value:function(i,o,a){if(Nr(this,bo).copyPasteEnabled===!1&&this.isHidden(i)&&(a.skipRowOnPaste=!0),this.isHidden(i-1))a.className=a.className||"",a.className.indexOf("afterHiddenRow")===-1&&(a.className+=" afterHiddenRow");else if(a.className){var s=a.className.split(" ");if(s.length>0){var l=s.indexOf("afterHiddenRow");l>-1&&s.splice(l,1),a.className=s.join(" ")}}}},{key:"onModifyCopyableRange",value:function(i){var o=this;if(Nr(this,bo).copyPasteEnabled)return i;var a=[],s=function(u,c,f,h){a.push({startRow:u,endRow:c,startCol:f,endCol:h})};return B(i,function(l){var u=!0,c=0;Le(l.startRow,l.endRow,function(f){o.isHidden(f)?(u||s(c,f-1,l.startCol,l.endCol),u=!0):(u&&(c=f),f===l.endRow&&s(c,f,l.startCol,l.endCol),u=!1)})}),a}},{key:"onAfterGetRowHeader",value:function(i,o){if(!(!Nr(this,bo).indicators||i<0)){var a=[];i>=1&&this.isHidden(i-1)&&a.push("afterHiddenRow"),i<this.hot.countRows()-1&&this.isHidden(i+1)&&a.push("beforeHiddenRow"),ve(o,a)}}},{key:"onAfterContextMenuDefaultOptions",value:function(i){i.items.push({name:at},IDe(this),HDe(this))}},{key:"onMapInit",value:function(){Array.isArray(Nr(this,bo).rows)&&this.hideRows(Nr(this,bo).rows)}},{key:"destroy",value:function(){bh(this,bo,null),bh(this,Ei,null),Hs(yo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return WT}},{key:"PLUGIN_PRIORITY",get:function(){return XDe}}]),t}(wt);function ZDe(e,n){return tNe(e)||eNe(e,n)||JDe(e,n)||QDe()}function QDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JDe(e,n){if(!!e){if(typeof e=="string")return aU(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aU(e,n)}}function aU(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function eNe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function tNe(e){if(Array.isArray(e))return e}function nNe(e){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(kR)},callback:function(t,r){var i=ZDe(r,1),o=i[0].start.col;e.freezeColumn(o),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(t===void 0||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsLeft-1)&&(r=!0),r}}}function rNe(e,n){return sNe(e)||aNe(e,n)||oNe(e,n)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(e,n){if(!!e){if(typeof e=="string")return sU(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sU(e,n)}}function sU(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function aNe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function sNe(e){if(Array.isArray(e))return e}function lNe(e){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(AR)},callback:function(t,r){var i=rNe(r,1),o=i[0].start.col;e.unfreezeColumn(o),this.render(),this.view.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),r=!1;return(t===void 0||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsLeft)&&(r=!0),r}}}function my(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?my=function(t){return typeof t}:my=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}function uNe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cNe(e,n,t){return n&&lU(e.prototype,n),t&&lU(e,t),e}function Mu(){return typeof Reflect!="undefined"&&Reflect.get?Mu=Reflect.get:Mu=function(n,t,r){var i=fNe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Mu.apply(this,arguments)}function fNe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Sa(e),e!==null););return e}function hNe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&jT(e,n)}function jT(e,n){return jT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jT(e,n)}function dNe(e){var n=pNe();return function(){var r=Sa(e),i;if(n){var o=Sa(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gNe(this,i)}}function gNe(e,n){if(n&&(my(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uU(e)}function uU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pNe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sa(e)}var cU="manualColumnFreeze",vNe=110,wh=new WeakMap,mNe=function(e){hNe(t,e);var n=dNe(t);function t(r){var i;return uNe(this,t),i=n.call(this,r),wh.set(uU(i),{afterFirstUse:!1}),i}return cNe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[cU]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(o){return i.addContextMenuEntry(o)}),this.addHook("beforeColumnMove",function(o,a){return i.onBeforeColumnMove(o,a)}),Mu(Sa(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var i=wh.get(this);i.afterFirstUse=!1,Mu(Sa(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Mu(Sa(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(i){var o=wh.get(this),a=this.hot.getSettings();o.afterFirstUse||(o.afterFirstUse=!0),!(a.fixedColumnsLeft===this.hot.countCols()||i<=a.fixedColumnsLeft-1)&&(this.hot.columnIndexMapper.moveIndexes(i,a.fixedColumnsLeft),a.fixedColumnsLeft+=1)}},{key:"unfreezeColumn",value:function(i){var o=wh.get(this),a=this.hot.getSettings();o.afterFirstUse||(o.afterFirstUse=!0),!(a.fixedColumnsLeft<=0||i>a.fixedColumnsLeft-1)&&(a.fixedColumnsLeft-=1,this.hot.columnIndexMapper.moveIndexes(i,a.fixedColumnsLeft))}},{key:"addContextMenuEntry",value:function(i){i.items.push({name:"---------"},nNe(this),lNe(this))}},{key:"onBeforeColumnMove",value:function(i,o){var a=wh.get(this);if(a.afterFirstUse){var s=this.hot.getSettings().fixedColumnsLeft;if(o<s||i.some(function(l){return l<s}))return!1}}}],[{key:"PLUGIN_KEY",get:function(){return cU}},{key:"PLUGIN_PRIORITY",get:function(){return vNe}}]),t}(wt);function yNe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bNe(e,n,t){return n&&fU(e.prototype,n),t&&fU(e,t),e}var UT=0,hU=1,dU=2,xu="px",wNe=function(){function e(n){yNe(this,e),this.hot=n,this._element=null,this.state=UT}return bNe(e,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=dU}},{key:"build",value:function(){this.state===UT&&(this._element=this.hot.rootDocument.createElement("div"),this.state=hU)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=UT}},{key:"isAppended",value:function(){return this.state===dU}},{key:"isBuilt",value:function(){return this.state>=hU}},{key:"setPosition",value:function(t,r){dr(t)&&(this._element.style.top=t+xu),dr(r)&&(this._element.style.left=r+xu)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,r){dr(t)&&(this._element.style.width=t+xu),dr(r)&&(this._element.style.height=r+xu)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){dr(t)&&(this._element.style.marginTop=t+xu),dr(r)&&(this._element.style.marginLeft=r+xu)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),e}(),gU=wNe;function yy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yy=function(t){return typeof t}:yy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function _Ne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SNe(e,n,t){return n&&pU(e.prototype,n),t&&pU(e,t),e}function by(){return typeof Reflect!="undefined"&&Reflect.get?by=Reflect.get:by=function(n,t,r){var i=CNe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},by.apply(this,arguments)}function CNe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Pu(e),e!==null););return e}function RNe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&zT(e,n)}function zT(e,n){return zT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},zT(e,n)}function ONe(e){var n=kNe();return function(){var r=Pu(e),i;if(n){var o=Pu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ENe(this,i)}}function ENe(e,n){if(n&&(yy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(e)}function TNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kNe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(e)}var ANe="ht__manualColumnMove--backlight",MNe=function(e){RNe(t,e);var n=ONe(t);function t(){return _Ne(this,t),n.apply(this,arguments)}return SNe(t,[{key:"build",value:function(){by(Pu(t.prototype),"build",this).call(this),ve(this._element,ANe)}}]),t}(gU),xNe=MNe;function wy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wy=function(t){return typeof t}:wy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function PNe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function INe(e,n,t){return n&&vU(e.prototype,n),t&&vU(e,t),e}function _y(){return typeof Reflect!="undefined"&&Reflect.get?_y=Reflect.get:_y=function(n,t,r){var i=$Ne(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},_y.apply(this,arguments)}function $Ne(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Iu(e),e!==null););return e}function DNe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&YT(e,n)}function YT(e,n){return YT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},YT(e,n)}function NNe(e){var n=FNe();return function(){var r=Iu(e),i;if(n){var o=Iu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LNe(this,i)}}function LNe(e,n){if(n&&(wy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HNe(e)}function HNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FNe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Iu(e)}var BNe="ht__manualColumnMove--guideline",VNe=function(e){DNe(t,e);var n=NNe(t);function t(){return PNe(this,t),n.apply(this,arguments)}return INe(t,[{key:"build",value:function(){_y(Iu(t.prototype),"build",this).call(this),ve(this._element,BNe)}}]),t}(gU),WNe=VNe;function Sy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sy=function(t){return typeof t}:Sy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function jNe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UNe(e,n,t){return n&&mU(e.prototype,n),t&&mU(e,t),e}function Fs(){return typeof Reflect!="undefined"&&Reflect.get?Fs=Reflect.get:Fs=function(n,t,r){var i=zNe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Fs.apply(this,arguments)}function zNe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=wo(e),e!==null););return e}function YNe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&GT(e,n)}function GT(e,n){return GT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},GT(e,n)}function GNe(e){var n=XNe();return function(){var r=wo(e),i;if(n){var o=wo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KNe(this,i)}}function KNe(e,n){if(n&&(Sy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KT(e)}function KT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XNe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(e)}De.getSingleton().register("beforeColumnMove");De.getSingleton().register("afterColumnMove");var XT="manualColumnMove",qNe=120,Ca=new WeakMap,yU="ht__manualColumnMove",Cy="show-ui",qT="on-moving--columns",ZT="after-selection--columns",ZNe=function(e){YNe(t,e);var n=GNe(t);function t(r){var i;return jNe(this,t),i=n.call(this,r),Ca.set(KT(i),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0},cachedDropIndex:void 0}),i.eventManager=new Rt(KT(i)),i.backlight=new xNe(r),i.guideline=new WNe(r),i}return UNe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[XT]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollVertically",function(){return i.onAfterScrollVertically()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData()}),this.buildPluginUI(),this.registerEvents(),ve(this.hot.rootElement,yU),Fs(wo(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Fs(wo(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Je(this.hot.rootElement,yU),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Fs(wo(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(i,o){return this.moveColumns([i],o)}},{key:"moveColumns",value:function(i,o){var a=Ca.get(this),s=a.cachedDropIndex,l=this.isMovePossible(i,o),u=this.hot.runHooks("beforeColumnMove",i,o,s,l);if(a.cachedDropIndex=void 0,u!==!1){l&&this.hot.columnIndexMapper.moveIndexes(i,o);var c=l&&this.isColumnOrderChanged(i,o);return this.hot.runHooks("afterColumnMove",i,o,s,l,c),c}}},{key:"dragColumn",value:function(i,o){return this.dragColumns([i],o)}},{key:"dragColumns",value:function(i,o){var a=this.countFinalIndex(i,o),s=Ca.get(this);return s.cachedDropIndex=o,this.moveColumns(i,a)}},{key:"isMovePossible",value:function(i,o){var a=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),s=i.length+o>a,l=o<0,u=i.some(function(f){return f<0}),c=i.some(function(f){return f>=a});return!(s||l||u||c)}},{key:"isColumnOrderChanged",value:function(i,o){return i.some(function(a,s){return a-s!==o})}},{key:"countFinalIndex",value:function(i,o){var a=Qt(i,function(s,l){return l<o&&(s+=1),s},0);return o-a}},{key:"getColumnsWidth",value:function(i,o){for(var a=this.hot.columnIndexMapper,s=0,l=i;l<=o;l+=1){var u=a.getRenderableFromVisualIndex(l);l<0?s+=this.hot.view.wt.wtViewport.getRowHeaderWidth()||0:u!==null&&(s+=this.hot.view.wt.wtTable.getStretchedColumnWidth(u)||0)}return s}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[XT];if(Array.isArray(i))this.moveColumns(i,0);else if(i!==void 0){var o=this.persistentStateLoad();o.length&&this.moveColumns(o,0)}}},{key:"isFixedColumnsLeft",value:function(i){return i<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",i),i.value?i.value:[]}},{key:"prepareColumnsToMoving",value:function(i,o){var a=[];return Le(i,o,function(s){a.push(s)}),a}},{key:"refreshPositions",value:function(){var i=Ca.get(this),o=this.hot.view.wt.wtTable.getFirstVisibleColumn(),a=this.hot.view.wt.wtTable.getLastVisibleColumn(),s=this.hot.view.wt.wtTable,l=this.hot.view.wt.wtOverlays.scrollableElement,u=typeof l.scrollX=="number"?l.scrollX:l.scrollLeft,c=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,i.coords-1),f=i.target.eventPageX-(i.rootElementOffset-(l.scrollX===void 0?u:0)),h=s.hider.offsetWidth,d=s.TBODY.offsetLeft,g=this.backlight.getOffset().left,p=this.backlight.getSize().width,v=0;if(i.rootElementOffset+s.holder.offsetWidth+u<i.target.eventPageX&&i.coords<i.countCols&&(i.coords+=1),i.hasRowHeaders&&(v=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(i.coords)&&(c+=u),c+=v,i.coords<0)i.fixedColumns>0?i.target.col=0:i.target.col=o>0?o-1:o;else if(i.target.TD.offsetWidth/2+c<=f){var m=i.coords>=i.countCols?i.countCols-1:i.coords;i.target.col=m+1,c+=i.target.TD.offsetWidth,i.target.col>a&&a<i.countCols&&this.hot.scrollViewportTo(void 0,a+1,void 0,!0)}else i.target.col=i.coords,i.target.col<=o&&i.target.col>=i.fixedColumns&&o>0&&this.hot.scrollViewportTo(void 0,o-1);i.target.col<=o&&i.target.col>=i.fixedColumns&&o>0&&this.hot.scrollViewportTo(void 0,o-1);var w=f,C=c;f+p+g>=h?w=h-p-g:f+g<d+v&&(w=d+v+Math.abs(g)),c>=h-1?C=h-1:C===0?C=1:l.scrollX!==void 0&&i.coords<i.fixedColumns&&(C-=i.rootElementOffset<=l.scrollX?i.rootElementOffset:0),this.backlight.setPosition(null,w),this.guideline.setPosition(null,C)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(a){return i.onMouseMove(a)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,a,s){var l=this.hot.view.wt.wtTable,u=this.hot.selection.isSelectedByColumnHeader(),c=this.hot.getSelectedRangeLast(),f=Ca.get(this),h=ze(i.target,"sortAction");if(!c||!u||f.pressed||i.button!==0||h){f.pressed=!1,f.columnsToMove.length=0,Je(this.hot.rootElement,[qT,Cy]);return}var d=this.guideline.isBuilt()&&!this.guideline.isAppended(),g=this.backlight.isBuilt()&&!this.backlight.isAppended();d&&g&&(this.guideline.appendTo(l.hider),this.backlight.appendTo(l.hider));var p=c.from,v=c.to,m=Math.min(p.col,v.col),w=Math.max(p.col,v.col);if(o.row<0&&o.col>=m&&o.col<=w){s.column=!0,f.pressed=!0,f.target.eventPageX=i.pageX,f.coords=o.col,f.target.TD=a,f.target.col=o.col,f.columnsToMove=this.prepareColumnsToMoving(m,w),f.hasRowHeaders=!!this.hot.getSettings().rowHeaders,f.countCols=this.hot.countCols(),f.fixedColumns=this.hot.getSettings().fixedColumnsLeft,f.rootElementOffset=Wt(this.hot.rootElement).left;var C=f.hasRowHeaders?-1:0,E=l.holder.scrollTop+l.getColumnHeaderHeight(0)+1,k=o.col<f.fixedColumns,$=this.hot.view.wt.wtOverlays.scrollableElement,D=$.scrollX?$.scrollX-f.rootElementOffset:0,Y=i.offsetX-(k?D:0),L=Math.abs(this.getColumnsWidth(m,o.col-1)+Y);this.backlight.setPosition(E,this.getColumnsWidth(C,m-1)+L),this.backlight.setSize(this.getColumnsWidth(m,w),l.hider.offsetHeight-E),this.backlight.setOffset(null,L*-1),ve(this.hot.rootElement,qT)}else Je(this.hot.rootElement,ZT),f.pressed=!1,f.columnsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Ca.get(this);if(!!o.pressed){if(i.target===this.backlight.element){var a=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(a)})}o.target.eventPageX=i.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,a,s){var l=this.hot.getSelectedRangeLast(),u=Ca.get(this);!l||!u.pressed||(u.columnsToMove.indexOf(o.col)>-1?Je(this.hot.rootElement,Cy):ve(this.hot.rootElement,Cy),s.row=!0,s.column=!0,s.cell=!0,u.coords=o.col,u.target.TD=a)}},{key:"onMouseUp",value:function(){var i=Ca.get(this),o=i.target.col,a=i.columnsToMove.length;if(i.coords=void 0,i.pressed=!1,i.backlightWidth=0,Je(this.hot.rootElement,[qT,Cy,ZT]),this.hot.selection.isSelectedByColumnHeader()&&ve(this.hot.rootElement,ZT),!(a<1||o===void 0)){var s=i.columnsToMove[0],l=this.hot.toPhysicalColumn(s),u=this.dragColumns(i.columnsToMove,o);if(i.columnsToMove.length=0,u===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var c=this.hot.toVisualColumn(l),f=c+a-1;this.hot.selectColumns(c,f)}}}},{key:"onAfterScrollVertically",value:function(){var i=this.hot.view.wt.wtTable,o=i.getColumnHeaderHeight(0)+1,a=i.holder.scrollTop,s=o+a;this.backlight.setPosition(s),this.backlight.setSize(null,i.hider.offsetHeight-s)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Fs(wo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return XT}},{key:"PLUGIN_PRIORITY",get:function(){return qNe}}]),t}(wt);function Ry(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ry=function(t){return typeof t}:Ry=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function QNe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JNe(e,n,t){return n&&bU(e.prototype,n),t&&bU(e,t),e}function Bs(){return typeof Reflect!="undefined"&&Reflect.get?Bs=Reflect.get:Bs=function(n,t,r){var i=eLe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Bs.apply(this,arguments)}function eLe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=_o(e),e!==null););return e}function tLe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&QT(e,n)}function QT(e,n){return QT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},QT(e,n)}function nLe(e){var n=iLe();return function(){var r=_o(e),i;if(n){var o=_o(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return rLe(this,i)}}function rLe(e,n){if(n&&(Ry(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JT(e)}function JT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}var Oy="manualColumnResize",oLe=130,wU="manualColumnWidths",ek=new WeakMap,aLe=function(e){tLe(t,e);var n=nLe(t);function t(r){var i;QNe(this,t),i=n.call(this,r);var o=i.hot.rootDocument;return i.currentTH=null,i.currentCol=null,i.selectedCols=[],i.currentWidth=null,i.newSize=null,i.startY=null,i.startWidth=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new Rt(JT(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.columnWidthsMap=void 0,ek.set(JT(i),{config:void 0}),ve(i.handle,"manualColumnResizer"),ve(i.guide,"manualColumnResizerGuide"),i}return JNe(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[Oy]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.columnWidthsMap=new sa,this.columnWidthsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.columnIndexMapper.registerMap(this.pluginName,this.columnWidthsMap),this.addHook("modifyColWidth",function(o,a){return i.onModifyColWidth(o,a)}),this.addHook("beforeStretchingColumnWidth",function(o,a){return i.onBeforeStretchingColumnWidth(o,a)}),this.addHook("beforeColumnResize",function(o,a,s){return i.onBeforeColumnResize(o,a,s)}),this.bindEvents(),Bs(_o(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Bs(_o(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=ek.get(this);i.config=this.columnWidthsMap.getValues(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),Bs(_o(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave",wU,this.columnWidthsMap.getValues())}},{key:"loadManualColumnWidths",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",wU,i),i.value}},{key:"setManualSize",value:function(i,o){var a=Math.max(o,20),s=this.hot.toPhysicalColumn(i);return this.columnWidthsMap.setValueAtIndex(s,a),a}},{key:"clearManualSize",value:function(i){var o=this.hot.toPhysicalColumn(i);this.columnWidthsMap.setValueAtIndex(o,null)}},{key:"onMapInit",value:function(){var i=this,o=ek.get(this),a=this.hot.getSettings()[Oy],s=this.loadManualColumnWidths();typeof s!="undefined"?this.hot.batchExecution(function(){s.forEach(function(l,u){i.columnWidthsMap.setValueAtIndex(u,l)})},!0):Array.isArray(a)?(this.hot.batchExecution(function(){a.forEach(function(l,u){i.columnWidthsMap.setValueAtIndex(u,l)})},!0),o.config=a):a===!0&&Array.isArray(o.config)&&this.hot.batchExecution(function(){o.config.forEach(function(l,u){i.columnWidthsMap.setValueAtIndex(u,l)})},!0)}},{key:"setupHandlePosition",value:function(i){var o=this;if(!!i.parentNode){this.currentTH=i;var a=this.hot.view.wt,s=a.wtTable.getCoords(this.currentTH),l=s.col;if(!(l<0)){var u=Jt(this.currentTH),c=this.currentTH.getBoundingClientRect(),f=l<a.getSetting("fixedColumnsLeft"),h;f&&(h=a.wtOverlays.topLeftCornerOverlay.getRelativeCellPosition(this.currentTH,s.row,s.col)),h||(h=a.wtOverlays.topOverlay.getRelativeCellPosition(this.currentTH,s.row,s.col)),this.currentCol=this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.selectedCols=[];var d=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&d){var g=this.hot.getSelectedRange();B(g,function(p){var v=p.getTopLeftCorner().col,m=p.getBottomRightCorner().col;Le(v,m,function(w){o.selectedCols.includes(w)||o.selectedCols.push(w)})})}this.selectedCols.includes(this.currentCol)||(this.selectedCols=[this.currentCol]),this.startOffset=h.left-6,this.startWidth=parseInt(c.width,10),this.handle.style.top="".concat(h.top,"px"),this.handle.style.left="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(u,"px"),this.hot.rootElement.appendChild(this.handle)}}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(Jt(this.handle),10),o=parseInt(this.handle.style.top,10)+i,a=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ve(this.handle,"active"),ve(this.guide,"active"),this.guide.style.top="".concat(o,"px"),this.guide.style.left=this.handle.style.left,this.guide.style.height="".concat(a-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){Je(this.handle,"active"),Je(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(i){return!!Zi(i,["THEAD"],this.hot.rootElement)}},{key:"getClosestTHParent",value:function(i){return i.tagName!=="TABLE"?i.tagName==="TH"?i:this.getClosestTHParent(i.parentNode):null}},{key:"onMouseOver",value:function(i){if(!IC(i.target)&&this.checkIfColumnHeader(i.target)){var o=this.getClosestTHParent(i.target);if(!o)return;var a=o.getAttribute("colspan");o&&(a===null||a==="1")&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},a=function(u,c){var f=i.hot.runHooks("beforeColumnResize",i.newSize,u,!0);f!==void 0&&(i.newSize=f),i.hot.getSettings().stretchH==="all"?i.clearManualSize(u):i.setManualSize(u,i.newSize),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,u,!0),c&&o()};if(this.dblclick>=2){var s=this.selectedCols.length;s>1?(B(this.selectedCols,function(l){a(l)}),o()):B(this.selectedCols,function(l){a(l,!0)})}this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;ze(i.target,"manualColumnResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,this.autoresizeTimeout===null&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=i.pageX,this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(i){var o=this;this.pressed&&(this.currentWidth=this.startWidth+(i.pageX-this.startX),B(this.selectedCols,function(a){o.newSize=o.setManualSize(a,o.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},a=function(u,c){i.hot.runHooks("beforeColumnResize",i.newSize,u,!1),c&&o(),i.saveManualColumnWidths(),i.hot.runHooks("afterColumnResize",i.newSize,u,!1)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth){var s=this.selectedCols.length;s>1?(B(this.selectedCols,function(l){a(l)}),o()):B(this.selectedCols,function(l){a(l,!0)})}this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var i=this,o=this.hot,a=o.rootWindow,s=o.rootElement;this.eventManager.addEventListener(s,"mouseover",function(l){return i.onMouseOver(l)}),this.eventManager.addEventListener(s,"mousedown",function(l){return i.onMouseDown(l)}),this.eventManager.addEventListener(a,"mousemove",function(l){return i.onMouseMove(l)}),this.eventManager.addEventListener(a,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyColWidth",value:function(i,o){var a=i;if(this.enabled){var s=this.hot.toPhysicalColumn(o),l=this.columnWidthsMap.getValueAtIndex(s);this.hot.getSettings()[Oy]&&l&&(a=l)}return a}},{key:"onBeforeStretchingColumnWidth",value:function(i,o){var a=this.columnWidthsMap.getValueAtIndex(o);return a===null&&(a=i),a}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked()}},{key:"destroy",value:function(){Bs(_o(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Oy}},{key:"PLUGIN_PRIORITY",get:function(){return oLe}}]),t}(wt);function sLe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _U(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lLe(e,n,t){return n&&_U(e.prototype,n),t&&_U(e,t),e}var tk=0,SU=1,CU=2,$u="px",uLe=function(){function e(n){sLe(this,e),this.hot=n,this._element=null,this.state=tk}return lLe(e,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=CU}},{key:"build",value:function(){this.state===tk&&(this._element=this.hot.rootDocument.createElement("div"),this.state=SU)}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=tk}},{key:"isAppended",value:function(){return this.state===CU}},{key:"isBuilt",value:function(){return this.state>=SU}},{key:"setPosition",value:function(t,r){t!==void 0&&(this._element.style.top=t+$u),r!==void 0&&(this._element.style.left=r+$u)}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,r){t&&(this._element.style.width=t+$u),r&&(this._element.style.height=r+$u)}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,r){t&&(this._element.style.marginTop=t+$u),r&&(this._element.style.marginLeft=r+$u)}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),e}(),RU=uLe;function Ey(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ey=function(t){return typeof t}:Ey=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(e)}function cLe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function OU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fLe(e,n,t){return n&&OU(e.prototype,n),t&&OU(e,t),e}function Ty(){return typeof Reflect!="undefined"&&Reflect.get?Ty=Reflect.get:Ty=function(n,t,r){var i=hLe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ty.apply(this,arguments)}function hLe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Du(e),e!==null););return e}function dLe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&nk(e,n)}function nk(e,n){return nk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},nk(e,n)}function gLe(e){var n=mLe();return function(){var r=Du(e),i;if(n){var o=Du(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return pLe(this,i)}}function pLe(e,n){if(n&&(Ey(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vLe(e)}function vLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Du(e){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Du(e)}var yLe="ht__manualRowMove--backlight",bLe=function(e){dLe(t,e);var n=gLe(t);function t(){return cLe(this,t),n.apply(this,arguments)}return fLe(t,[{key:"build",value:function(){Ty(Du(t.prototype),"build",this).call(this),ve(this._element,yLe)}}]),t}(RU),wLe=bLe;function ky(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ky=function(t){return typeof t}:ky=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function _Le(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function EU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SLe(e,n,t){return n&&EU(e.prototype,n),t&&EU(e,t),e}function Ay(){return typeof Reflect!="undefined"&&Reflect.get?Ay=Reflect.get:Ay=function(n,t,r){var i=CLe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ay.apply(this,arguments)}function CLe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Nu(e),e!==null););return e}function RLe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&rk(e,n)}function rk(e,n){return rk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rk(e,n)}function OLe(e){var n=kLe();return function(){var r=Nu(e),i;if(n){var o=Nu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ELe(this,i)}}function ELe(e,n){if(n&&(ky(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TLe(e)}function TLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nu(e){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nu(e)}var ALe="ht__manualRowMove--guideline",MLe=function(e){RLe(t,e);var n=OLe(t);function t(){return _Le(this,t),n.apply(this,arguments)}return SLe(t,[{key:"build",value:function(){Ay(Nu(t.prototype),"build",this).call(this),ve(this._element,ALe)}}]),t}(RU),xLe=MLe;function My(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?My=function(t){return typeof t}:My=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function PLe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function TU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ILe(e,n,t){return n&&TU(e.prototype,n),t&&TU(e,t),e}function Vs(){return typeof Reflect!="undefined"&&Reflect.get?Vs=Reflect.get:Vs=function(n,t,r){var i=$Le(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Vs.apply(this,arguments)}function $Le(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=So(e),e!==null););return e}function DLe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ik(e,n)}function ik(e,n){return ik=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ik(e,n)}function NLe(e){var n=HLe();return function(){var r=So(e),i;if(n){var o=So(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return LLe(this,i)}}function LLe(e,n){if(n&&(My(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ok(e)}function ok(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function So(e){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},So(e)}De.getSingleton().register("beforeRowMove");De.getSingleton().register("afterRowMove");var ak="manualRowMove",FLe=140,Ra=new WeakMap,kU="ht__manualRowMove",xy="show-ui",sk="on-moving--rows",lk="after-selection--rows",BLe=function(e){DLe(t,e);var n=NLe(t);function t(r){var i;return PLe(this,t),i=n.call(this,r),Ra.set(ok(i),{rowsToMove:[],pressed:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0},cachedDropIndex:void 0}),i.eventManager=new Rt(ok(i)),i.backlight=new wLe(r),i.guideline=new xLe(r),i}return ILe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[ak]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterScrollHorizontally",function(){return i.onAfterScrollHorizontally()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData()}),this.buildPluginUI(),this.registerEvents(),ve(this.hot.rootElement,kU),Vs(So(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),Vs(So(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Je(this.hot.rootElement,kU),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Vs(So(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(i,o){return this.moveRows([i],o)}},{key:"moveRows",value:function(i,o){var a=Ra.get(this),s=a.cachedDropIndex,l=this.isMovePossible(i,o),u=this.hot.runHooks("beforeRowMove",i,o,s,l);if(a.cachedDropIndex=void 0,u!==!1){l&&this.hot.rowIndexMapper.moveIndexes(i,o);var c=l&&this.isRowOrderChanged(i,o);return this.hot.runHooks("afterRowMove",i,o,s,l,c),c}}},{key:"dragRow",value:function(i,o){return this.dragRows([i],o)}},{key:"dragRows",value:function(i,o){var a=this.countFinalIndex(i,o),s=Ra.get(this);return s.cachedDropIndex=o,this.moveRows(i,a)}},{key:"isMovePossible",value:function(i,o){var a=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),s=i.length+o>a,l=o<0,u=i.some(function(f){return f<0}),c=i.some(function(f){return f>=a});return!(s||l||u||c)}},{key:"isRowOrderChanged",value:function(i,o){return i.some(function(a,s){return a-s!==o})}},{key:"countFinalIndex",value:function(i,o){var a=Qt(i,function(s,l){return l<o&&(s+=1),s},0);return o-a}},{key:"getRowsHeight",value:function(i,o){for(var a=this.hot.rowIndexMapper,s=0,l=i;l<=o;l++){var u=a.getRenderableFromVisualIndex(l);u!==null&&(s+=this.hot.view.wt.wtTable.getRowHeight(u)||23)}return s}},{key:"moveBySettingsOrLoad",value:function(){var i=this.hot.getSettings()[ak];if(Array.isArray(i))this.moveRows(i,0);else if(i!==void 0){var o=this.persistentStateLoad();o.length&&this.moveRows(o,0)}}},{key:"isFixedRowTop",value:function(i){return i<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(i){return i>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}},{key:"persistentStateLoad",value:function(){var i={};return this.hot.runHooks("persistentStateLoad","manualRowMove",i),i.value?i.value:[]}},{key:"prepareRowsToMoving",value:function(){var i=this.hot.getSelectedRangeLast(),o=[];if(!i)return o;var a=i.from,s=i.to,l=Math.min(a.row,s.row),u=Math.max(a.row,s.row);return Le(l,u,function(c){o.push(c)}),o}},{key:"refreshPositions",value:function(){var i=Ra.get(this),o=i.target.coords,a=this.hot.view.wt.wtTable.getFirstVisibleRow(),s=this.hot.view.wt.wtTable.getLastVisibleRow(),l=this.hot.getSettings().fixedRowsTop,u=this.hot.countRows();o.row<l&&a>0&&this.hot.scrollViewportTo(a-1),o.row>=s&&s<u&&this.hot.scrollViewportTo(s+1,void 0,!0);var c=this.hot.view.wt.wtTable,f=i.target.TD,h=Wt(this.hot.rootElement),d=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,o.row-1),g=i.target.eventPageY-h.top+c.holder.scrollTop,p=c.hider.offsetHeight,v=c.TBODY.offsetTop,m=this.backlight.getOffset().top,w=this.backlight.getSize().height;this.isFixedRowTop(o.row)&&(d+=c.holder.scrollTop),o.row<0?i.target.row=a>0?a-1:a:f.offsetHeight/2+d<=g?(i.target.row=o.row+1,d+=o.row===0?f.offsetHeight-1:f.offsetHeight):i.target.row=o.row;var C=g,E=d;g+w+m>=p?C=p-w-m:g+m<v&&(C=v+Math.abs(m)),d>=p-1&&(E=p-1);var k=0;this.hot.view.wt.wtOverlays.topOverlay&&(k=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),o.row>=l&&E-c.holder.scrollTop<k&&this.hot.scrollViewportTo(o.row),this.backlight.setPosition(C),this.guideline.setPosition(E)}},{key:"registerEvents",value:function(){var i=this,o=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(o,"mousemove",function(a){return i.onMouseMove(a)}),this.eventManager.addEventListener(o,"mouseup",function(){return i.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(i,o,a,s){var l=this.hot.view.wt,u=l.wtTable,c=l.wtViewport,f=this.hot.selection.isSelectedByRowHeader(),h=this.hot.getSelectedRangeLast(),d=Ra.get(this);if(!h||!f||d.pressed||i.button!==0){d.pressed=!1,d.rowsToMove.length=0,Je(this.hot.rootElement,[sk,xy]);return}var g=this.guideline.isBuilt()&&!this.guideline.isAppended(),p=this.backlight.isBuilt()&&!this.backlight.isAppended();g&&p&&(this.guideline.appendTo(u.hider),this.backlight.appendTo(u.hider));var v=h.from,m=h.to,w=Math.min(v.row,m.row),C=Math.max(v.row,m.row);if(o.col<0&&o.row>=w&&o.row<=C){s.row=!0,d.pressed=!0,d.target.eventPageY=i.pageY,d.target.coords=o,d.target.TD=a,d.rowsToMove=this.prepareRowsToMoving();var E=u.holder.scrollLeft+c.getRowHeaderWidth();this.backlight.setPosition(null,E),this.backlight.setSize(u.hider.offsetWidth-E,this.getRowsHeight(w,C)),this.backlight.setOffset((this.getRowsHeight(w,o.row-1)+i.offsetY)*-1,null),ve(this.hot.rootElement,sk),this.refreshPositions()}else Je(this.hot.rootElement,lk),d.pressed=!1,d.rowsToMove.length=0}},{key:"onMouseMove",value:function(i){var o=Ra.get(this);if(!!o.pressed){if(i.target===this.backlight.element){var a=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,a)})}o.target.eventPageY=i.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,a,s){var l=this.hot.getSelectedRangeLast(),u=Ra.get(this);!l||!u.pressed||(u.rowsToMove.indexOf(o.row)>-1?Je(this.hot.rootElement,xy):ve(this.hot.rootElement,xy),s.row=!0,s.column=!0,s.cell=!0,u.target.coords=o,u.target.TD=a)}},{key:"onMouseUp",value:function(){var i=Ra.get(this),o=i.target.row,a=i.rowsToMove.length;if(i.pressed=!1,i.backlightHeight=0,Je(this.hot.rootElement,[sk,xy,lk]),this.hot.selection.isSelectedByRowHeader()&&ve(this.hot.rootElement,lk),!(a<1||o===void 0)){var s=i.rowsToMove[0],l=this.hot.toPhysicalRow(s),u=this.dragRows(i.rowsToMove,o);if(i.rowsToMove.length=0,u===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize(!0);var c=this.hot.toVisualRow(l),f=c+a-1;this.hot.selectRows(c,f)}}}},{key:"onAfterScrollHorizontally",value:function(){var i=this.hot.view.wt.wtTable,o=this.hot.view.wt.wtViewport.getRowHeaderWidth(),a=i.holder.scrollLeft,s=o+a;this.backlight.setPosition(null,s),this.backlight.setSize(i.hider.offsetWidth-s)}},{key:"buildPluginUI",value:function(){this.backlight.build(),this.guideline.build()}},{key:"onAfterLoadData",value:function(){this.moveBySettingsOrLoad()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Vs(So(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return ak}},{key:"PLUGIN_PRIORITY",get:function(){return FLe}}]),t}(wt);function Py(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Py=function(t){return typeof t}:Py=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}function VLe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function AU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WLe(e,n,t){return n&&AU(e.prototype,n),t&&AU(e,t),e}function Ws(){return typeof Reflect!="undefined"&&Reflect.get?Ws=Reflect.get:Ws=function(n,t,r){var i=jLe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ws.apply(this,arguments)}function jLe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Co(e),e!==null););return e}function ULe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&uk(e,n)}function uk(e,n){return uk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},uk(e,n)}function zLe(e){var n=GLe();return function(){var r=Co(e),i;if(n){var o=Co(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return YLe(this,i)}}function YLe(e,n){if(n&&(Py(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ck(e)}function ck(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(e)}var Iy="manualRowResize",KLe=30,MU="manualRowHeights",fk=new WeakMap,XLe=function(e){ULe(t,e);var n=zLe(t);function t(r){var i;VLe(this,t),i=n.call(this,r);var o=i.hot.rootDocument;return i.currentTH=null,i.currentRow=null,i.selectedRows=[],i.currentHeight=null,i.newSize=null,i.startY=null,i.startHeight=null,i.startOffset=null,i.handle=o.createElement("DIV"),i.guide=o.createElement("DIV"),i.eventManager=new Rt(ck(i)),i.pressed=null,i.dblclick=0,i.autoresizeTimeout=null,i.rowHeightsMap=void 0,fk.set(ck(i),{config:void 0}),ve(i.handle,"manualRowResizer"),ve(i.guide,"manualRowResizerGuide"),i}return WLe(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[Iy]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.rowHeightsMap=new sa,this.rowHeightsMap.addLocalHook("init",function(){return i.onMapInit()}),this.hot.rowIndexMapper.registerMap(this.pluginName,this.rowHeightsMap),this.addHook("modifyRowHeight",function(o,a){return i.onModifyRowHeight(o,a)}),this.bindEvents(),Ws(Co(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Ws(Co(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var i=fk.get(this);i.config=this.rowHeightsMap.getValues(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),Ws(Co(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave",MU,this.rowHeightsMap.getValues())}},{key:"loadManualRowHeights",value:function(){var i={};return this.hot.runHooks("persistentStateLoad",MU,i),i.value}},{key:"setManualSize",value:function(i,o){var a=this.hot.toPhysicalRow(i),s=Math.max(o,XN.DEFAULT_HEIGHT);return this.rowHeightsMap.setValueAtIndex(a,s),s}},{key:"setupHandlePosition",value:function(i){var o=this;this.currentTH=i;var a=this.hot.view,s=a.wt,l=a.wt.wtTable.getCoords(this.currentTH),u=l.row;if(!(u<0)){var c=jt(this.currentTH),f=this.currentTH.getBoundingClientRect(),h=u<s.getSetting("fixedRowsTop"),d=u>=a.countNotHiddenRowIndexes(0,1)-s.getSetting("fixedRowsBottom"),g;h?g=s.wtOverlays.topLeftCornerOverlay.getRelativeCellPosition(this.currentTH,l.row,l.col):d&&(g=s.wtOverlays.bottomLeftCornerOverlay.getRelativeCellPosition(this.currentTH,l.row,l.col)),g||(g=s.wtOverlays.leftOverlay.getRelativeCellPosition(this.currentTH,l.row,l.col)),this.currentRow=this.hot.rowIndexMapper.getVisualFromRenderableIndex(u),this.selectedRows=[];var p=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&p){var v=this.hot.getSelectedRange();B(v,function(m){var w=m.getTopLeftCorner().row,C=m.getBottomLeftCorner().row;Le(w,C,function(E){o.selectedRows.includes(E)||o.selectedRows.push(E)})})}this.selectedRows.includes(this.currentRow)||(this.selectedRows=[this.currentRow]),this.startOffset=g.top-6,this.startHeight=parseInt(f.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style.left="".concat(g.left,"px"),this.handle.style.width="".concat(c,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var i=parseInt(jt(this.handle),10),o=parseInt(this.handle.style.left,10)+i,a=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ve(this.handle,"active"),ve(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left="".concat(o,"px"),this.guide.style.width="".concat(a-i,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Je(this.handle,"active"),Je(this.guide,"active")}},{key:"checkIfRowHeader",value:function(i){var o,a,s=Zi(i,["TH"],this.hot.rootElement);return s&&((o=i.parentNode)===null||o===void 0||(a=o.parentNode)===null||a===void 0?void 0:a.tagName)==="TBODY"}},{key:"getClosestTHParent",value:function(i){return i.tagName!=="TABLE"?i.tagName==="TH"?i:this.getClosestTHParent(i.parentNode):null}},{key:"getActualRowHeight",value:function(i){var o=this.hot.view.wt.wtTable.getRowHeight(i);return o!==void 0&&this.newSize<o?o:this.newSize}},{key:"onMouseOver",value:function(i){if(!IC(i.target)&&this.checkIfRowHeader(i.target)){var o=this.getClosestTHParent(i.target);o&&(this.pressed||this.setupHandlePosition(o))}}},{key:"afterMouseDownTimeout",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},a=function(u,c){var f=i.hot.runHooks("beforeRowResize",i.getActualRowHeight(u),u,!0);f!==void 0&&(i.newSize=f),i.setManualSize(u,i.newSize),i.hot.runHooks("afterRowResize",i.getActualRowHeight(u),u,!0),c&&o()};if(this.dblclick>=2){var s=this.selectedRows.length;s>1?(B(this.selectedRows,function(l){a(l)}),o()):B(this.selectedRows,function(l){a(l,!0)})}this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(i){var o=this;ze(i.target,"manualRowResizer")&&(this.setupHandlePosition(this.currentTH),this.setupGuidePosition(),this.pressed=!0,this.autoresizeTimeout===null&&(this.autoresizeTimeout=setTimeout(function(){return o.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=i.pageY,this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(i){var o=this;this.pressed&&(this.currentHeight=this.startHeight+(i.pageY-this.startY),B(this.selectedRows,function(a){o.newSize=o.setManualSize(a,o.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var i=this,o=function(){i.hot.forceFullRender=!0,i.hot.view.render(),i.hot.view.adjustElementsSize(!0)},a=function(u,c){i.hot.runHooks("beforeRowResize",i.getActualRowHeight(u),u,!1),c&&o(),i.saveManualRowHeights(),i.hot.runHooks("afterRowResize",i.getActualRowHeight(u),u,!1)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight){var s=this.selectedRows.length;s>1?(B(this.selectedRows,function(l){a(l)}),o()):B(this.selectedRows,function(l){a(l,!0)})}this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var i=this,o=this.hot,a=o.rootElement,s=o.rootWindow;this.eventManager.addEventListener(a,"mouseover",function(l){return i.onMouseOver(l)}),this.eventManager.addEventListener(a,"mousedown",function(l){return i.onMouseDown(l)}),this.eventManager.addEventListener(s,"mousemove",function(l){return i.onMouseMove(l)}),this.eventManager.addEventListener(s,"mouseup",function(){return i.onMouseUp()})}},{key:"onModifyRowHeight",value:function(i,o){var a=i;if(this.enabled){var s=this.hot.toPhysicalRow(o),l=this.rowHeightsMap.getValueAtIndex(s);this.hot.getSettings()[Iy]&&l&&(a=l)}return a}},{key:"onMapInit",value:function(){var i=this,o=fk.get(this),a=this.hot.getSettings()[Iy],s=this.loadManualRowHeights();this.hot.batchExecution(function(){typeof s!="undefined"?s.forEach(function(l,u){i.rowHeightsMap.setValueAtIndex(u,l)}):Array.isArray(a)?(a.forEach(function(l,u){i.rowHeightsMap.setValueAtIndex(u,l)}),o.config=a):a===!0&&Array.isArray(o.config)&&o.config.forEach(function(l,u){i.rowHeightsMap.setValueAtIndex(u,l)})},!0)}},{key:"destroy",value:function(){Ws(Co(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Iy}},{key:"PLUGIN_PRIORITY",get:function(){return KLe}}]),t}(wt),xU,PU,IU,$U;function $y(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function qLe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function DU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZLe(e,n,t){return n&&DU(e.prototype,n),t&&DU(e,t),e}var QLe=function(){function e(n,t,r,i){qLe(this,e),this.row=n,this.col=t,this.rowspan=r,this.colspan=i,this.removed=!1}return ZLe(e,[{key:"normalize",value:function(t){var r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}},{key:"includes",value:function(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,r){var i=t[0]||t[1],o=r+Math.abs(t[0]||t[1])-1,a=t[0]?"colspan":"rowspan",s=t[0]?"col":"row",l=Math.min(r,o),u=Math.max(r,o),c=this[s],f=this[s]+this[a]-1;if(c>=r&&(this[s]+=i),i>0)r<=f&&r>c&&(this[a]+=i);else if(i<0){if(l<=c&&u>=f)return this.removed=!0,!1;if(c>=l&&c<=u){var h=u-c+1,d=Math.abs(i)-h;this[s]-=d+i,this[a]-=h}else if(c<=l&&f>=u)this[a]+=i;else if(c<=l&&f>=l&&f<u){var g=f-l+1;this[a]-=g}}return!0}},{key:"isFarther",value:function(t,r){return t?r==="down"?t.row+t.rowspan-1<this.row+this.rowspan-1:r==="up"?t.row>this.row:r==="right"?t.col+t.colspan-1<this.col+this.colspan-1:r==="left"?t.col>this.col:null:!0}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return new fn(new ae(this.row,this.col),new ae(this.row,this.col),new ae(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return Mt(xU||(xU=$y(["The merged cell declared with {row: ",", col: ",`, 
      rowspan: `,", colspan: ",`} contains negative values, which is 
      not supported. It will not be added to the collection.`],["The merged cell declared with {row: ",", col: ",`,\\x20
      rowspan: `,", colspan: ",`} contains negative values, which is\\x20
      not supported. It will not be added to the collection.`])),t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return Mt(PU||(PU=$y(["The merged cell declared at [",", ",`] is positioned 
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`],["The merged cell declared at [",", ",`] is positioned\\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`])),t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return Mt(IU||(IU=$y(["The merged cell declared at [",", ",`] has both "rowspan" 
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`],["The merged cell declared at [",", ",`] has both "rowspan"\\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`])),t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return Mt($U||($U=$y(["The merged cell declared at [",", ",`] has "rowspan" 
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`],["The merged cell declared at [",", ",`] has "rowspan"\\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`])),t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return t.colspan===1&&t.rowspan===1}},{key:"containsZeroSpan",value:function(t){return t.colspan===0||t.rowspan===0}},{key:"isOutOfBounds",value:function(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}}]),e}(),Ti=QLe;function hk(e,n,t,r){n?n.row===t&&n.col===r?(e.setAttribute("rowspan",n.rowspan.toString()),e.setAttribute("colspan",n.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}var NU;function JLe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function LU(e){return rHe(e)||nHe(e)||tHe(e)||eHe()}function eHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tHe(e,n){if(!!e){if(typeof e=="string")return dk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dk(e,n)}}function nHe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rHe(e){if(Array.isArray(e))return dk(e)}function dk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function iHe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function HU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oHe(e,n,t){return n&&HU(e.prototype,n),t&&HU(e,t),e}var aHe=function(){function e(n){iHe(this,e),this.plugin=n,this.mergedCells=[],this.hot=n.hot}return oHe(e,[{key:"get",value:function(t,r){var i=this.mergedCells,o=!1;return B(i,function(a){return a.row<=t&&a.row+a.rowspan-1>=t&&a.col<=r&&a.col+a.colspan-1>=r?(o=a,!1):!0}),o}},{key:"getByRange",value:function(t){var r=this.mergedCells,i=!1;return B(r,function(o){return o.row<=t.from.row&&o.row+o.rowspan-1>=t.to.row&&o.col<=t.from.col&&o.col+o.colspan-1>=t.to.col?(i=o,i):!0}),i}},{key:"getWithinRange",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.mergedCells,o=[],a=t;if(!a.includesRange){var s=new ae(a.from.row,a.from.col),l=new ae(a.to.row,a.to.col);a=new fn(s,s,l)}return B(i,function(u){var c=new ae(u.row,u.col),f=new ae(u.row+u.rowspan-1,u.col+u.colspan-1),h=new fn(c,c,f);r?a.overlaps(h)&&o.push(u):a.includesRange(h)&&o.push(u)}),o.length?o:!1}},{key:"add",value:function(t){var r=this.mergedCells,i=t.row,o=t.col,a=t.rowspan,s=t.colspan,l=new Ti(i,o,a,s),u=this.get(i,o),c=this.isOverlapping(l);return!u&&!c?(this.hot&&l.normalize(this.hot),r.push(l),l):(Nt(e.IS_OVERLAPPING_WARNING(l)),!1)}},{key:"remove",value:function(t,r){var i=this.mergedCells,o=this.get(t,r),a=o?this.mergedCells.indexOf(o):-1;return o&&a!==-1?(i.splice(a,1),o):!1}},{key:"clear",value:function(){var t=this,r=this.mergedCells,i=[],o=[];B(r,function(a){var s=t.hot.getCell(a.row,a.col);s&&i.push([s,t.get(a.row,a.col),a.row,a.col])}),this.mergedCells.length=0,B(i,function(a,s){Le(0,a.rowspan-1,function(l){Le(0,a.colspan-1,function(u){if(u!==0||l!==0){var c=t.hot.getCell(a.row+l,a.col+u);c&&o.push([c,null,null,null])}})}),i[s][1]=null}),B(i,function(a){hk.apply(void 0,LU(a))}),B(o,function(a){hk.apply(void 0,LU(a))})}},{key:"isOverlapping",value:function(t){var r=new fn(new ae(0,0),new ae(t.row,t.col),new ae(t.row+t.rowspan-1,t.col+t.colspan-1)),i=!1;return B(this.mergedCells,function(o){var a=new fn(new ae(0,0),new ae(o.row,o.col),new ae(o.row+o.rowspan-1,o.col+o.colspan-1));return a.overlaps(r)?(i=!0,!1):!0}),i}},{key:"isFirstRenderableMergedCell",value:function(t,r){var i=this.get(t,r);return i&&this.hot.rowIndexMapper.getFirstNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getFirstNotHiddenIndex(i.col,1)===r}},{key:"getFirstRenderableCoords",value:function(t,r){var i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return new ae(t,r);var o=this.hot.rowIndexMapper.getFirstNotHiddenIndex(i.row,1),a=this.hot.columnIndexMapper.getFirstNotHiddenIndex(i.col,1);return new ae(o,a)}},{key:"shiftCollections",value:function(t,r,i){var o=this,a=[0,0];switch(t){case"right":a[0]+=i;break;case"left":a[0]-=i;break;case"down":a[1]+=i;break;case"up":a[1]-=i;break}B(this.mergedCells,function(s){s.shift(a,r)}),Jp(this.mergedCells.length-1,0,function(s){var l=o.mergedCells[s];l&&l.removed&&o.mergedCells.splice(o.mergedCells.indexOf(l),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(t){return Mt(NU||(NU=JLe(["The merged cell declared at [",", ",`], overlaps 
      with the other declared merged cell. The overlapping merged cell was not added to the table, please 
      fix your setup.`],["The merged cell declared at [",", ",`], overlaps\\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\\x20
      fix your setup.`])),t.row,t.col)}}]),e}(),sHe=aHe;function js(e,n){return fHe(e)||cHe(e,n)||uHe(e,n)||lHe()}function lHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uHe(e,n){if(!!e){if(typeof e=="string")return FU(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FU(e,n)}}function FU(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function cHe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function fHe(e){if(Array.isArray(e))return e}function hHe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function BU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dHe(e,n,t){return n&&BU(e.prototype,n),t&&BU(e,t),e}var gHe=function(){function e(n){hHe(this,e),this.plugin=n,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return dHe(e,[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}},{key:"getDirection",value:function(t,r){var i=null;return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?i="down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?i="up":r[1]===t[1]&&r[2]===t[2]?i="right":i="left",i}},{key:"snapDragArea",value:function(t,r,i,o){var a=r.slice(0),s=this.getAutofillSize(t,r,i),l=js(t,4),u=l[0],c=l[1],f=l[2],h=l[3],d=["up","down"].indexOf(i)>-1,g=d?f-u+1:h-c+1,p=Math.floor(s/g)*g,v=s-p,m=this.getFarthestCollection(t,r,i,o);if(m){if(i==="down"){var w=m.row+m.rowspan-u-v,C=a[2]+w;C>=this.plugin.hot.countRows()?a[2]-=v:a[2]+=v?w:0}else if(i==="right"){var E=m.col+m.colspan-c-v,k=a[3]+E;k>=this.plugin.hot.countCols()?a[3]-=v:a[3]+=v?E:0}else if(i==="up"){var $=f-v-m.row+1,D=a[0]+$;D<0?a[0]+=v:a[0]-=v?$:0}else if(i==="left"){var Y=h-v-m.col+1,L=a[1]+Y;L<0?a[1]+=v:a[1]-=v?Y:0}}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:o,fillSize:s,dragArea:a,cycleLength:g}),a}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),Vt(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,r,i){var o=js(t,4),a=o[0],s=o[1],l=o[2],u=o[3],c=js(r,4),f=c[0],h=c[1],d=c[2],g=c[3];switch(i){case"up":return a-f;case"down":return d-l;case"left":return s-h;case"right":return g-u;default:return null}}},{key:"getDragArea",value:function(t,r,i){var o=js(t,4),a=o[0],s=o[1],l=o[2],u=o[3],c=js(r,4),f=c[0],h=c[1],d=c[2],g=c[3];switch(i){case"up":return[f,h,a-1,u];case"down":return[l+1,s,d,u];case"left":return[f,h,l,s-1];case"right":return[a,u+1,d,g];default:return null}}},{key:"getFarthestCollection",value:function(t,r,i,o){var a=js(t,4),s=a[0],l=a[1],u=a[2],c=a[3],f=["up","down"].indexOf(i)>-1,h=f?u:c,d=f?s:l,g=this.getAutofillSize(t,r,i),p=f?u-s+1:c-l+1,v=Math.floor(g/p)*p,m=g-v,w=null,C=null,E=null;switch(i){case"up":w="includesVertically",E=h-m+1;break;case"left":w="includesHorizontally",E=h-m+1;break;case"down":w="includesVertically",E=d+m-1;break;case"right":w="includesHorizontally",E=d+m-1;break}return B(o,function(k){k[w](E)&&k.isFarther(C,i)&&(C=k)}),C}},{key:"recreateAfterDataPopulation",value:function(t){if(!!this.currentFillData){var r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,o=this.currentFillData.dragDirection,a=function(h,d){switch(o){case"up":return h.row-d>=r.from.row;case"down":return h.row+h.rowspan-1+d<=r.to.row;case"left":return h.col-d>=r.from.column;case"right":return h.col+h.colspan-1+d<=r.to.column;default:return null}},s=0,l=null,u=1;do for(var c=0;c<i.length;c+=1){if(l=i[c],s=u*this.currentFillData.cycleLength,a(l,s))switch(o){case"up":this.plugin.mergedCellsCollection.add({row:l.row-s,rowspan:l.rowspan,col:l.col,colspan:l.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:l.row+s,rowspan:l.rowspan,col:l.col,colspan:l.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:l.row,rowspan:l.rowspan,col:l.col-s,colspan:l.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:l.row,rowspan:l.rowspan,col:l.col+s,colspan:l.colspan});break}c===i.length-1&&(u+=1)}while(a(l,s));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(t){var r=this,i={min:null,max:null},o={min:null,max:null};return B(t,function(a){var s=a[0],l=r.plugin.hot.propToCol(a[1]);(i.min===null||s<i.min)&&(i.min=s),(i.max===null||s>i.max)&&(i.max=s),(o.min===null||l<o.min)&&(o.min=l),(o.max===null||l>o.max)&&(o.max=l)}),{from:{row:i.min,column:o.min},to:{row:i.max,column:o.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,r,i){var o=this.getDragArea(t,r,i),a=js(o,4),s=a[0],l=a[1],u=a[2],c=a[3],f=new ae(s,l),h=new ae(u,c),d=new fn(f,f,h);return!!this.mergedCellsCollection.getWithinRange(d,!0)}}]),e}(),pHe=gHe;function vHe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function VU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mHe(e,n,t){return n&&VU(e.prototype,n),t&&VU(e,t),e}var yHe=function(){function e(n){vHe(this,e),this.plugin=n,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return mHe(e,[{key:"snapDelta",value:function(t,r,i){var o=r.to,a=o.row+t.row,s=o.col+t.col;t.row?this.jumpOverMergedCell(t,i,a):t.col&&this.jumpOverMergedCell(t,i,s)}},{key:"jumpOverMergedCell",value:function(t,r,i){var o=t.row||t.col,a=null,s=null,l=null;t.row?(a=r.includesVertically(i),s=r.row,l=r.getLastRow()):t.col&&(a=r.includesHorizontally(i),s=r.col,l=r.getLastColumn()),o!==0&&(o>0?a&&i!==s&&(o+=l-i+1):a&&i!==l&&(o-=i-s+1),t.row?t.row=o:t.col&&(t.col=o))}},{key:"getUpdatedSelectionRange",value:function(t,r){return new fn(t.highlight,t.from,new ae(t.to.row+r.row,t.to.col+r.col))}},{key:"getSelectedMergedCellClassName",value:function(t,r,i,o){var a=Math.min(i[0],i[2]),s=Math.min(i[1],i[3]),l=Math.max(i[0],i[2]),u=Math.max(i[1],i[3]);if(o!==void 0){var c=this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r);if(!!c){var f=this.plugin.mergedCellsCollection.get(t,r);if(!!f){var h=f.getLastRow(),d=f.getLastColumn(),g=a<=f.row&&s<=f.col&&l>=h&&u>=d;if(g)return"".concat(this.fullySelectedMergedCellClassName,"-").concat(o);if(this.plugin.selectionCalculations.isMergeCellFullySelected(f,this.plugin.hot.getSelectedRange()))return"".concat(this.fullySelectedMergedCellClassName,"-multiple")}}}}},{key:"isMergeCellFullySelected",value:function(t,r){var i=[];if(!r||!t)return!1;for(var o=0;o<t.rowspan;o+=1)for(var a=0;a<t.colspan;a+=1)i.push(new ae(t.row+o,t.col+a));for(var s=0;s<i.length;s+=1){for(var l=[],u=0;u<r.length;u+=1)l[u]=r[u].includes(i[s]);if(!l.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var t=[],r=0;r<=7;r+=1)t.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(r));return t.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),t}}]),e}(),bHe=yHe;function wHe(e){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var r=e.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(xR)}return this.getTranslatedPhrase(MR)},callback:function(){e.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();if(!t)return!0;var r=Ti.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1});return r||this.selection.isSelectedByCorner()},hidden:!1}}function Dy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dy=function(t){return typeof t}:Dy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function WU(e,n){return CHe(e)||SHe(e,n)||UU(e,n)||_He()}function _He(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SHe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function CHe(e){if(Array.isArray(e))return e}function jU(e){return EHe(e)||OHe(e)||UU(e)||RHe()}function RHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UU(e,n){if(!!e){if(typeof e=="string")return gk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gk(e,n)}}function OHe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EHe(e){if(Array.isArray(e))return gk(e)}function gk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function THe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kHe(e,n,t){return n&&zU(e.prototype,n),t&&zU(e,t),e}function Lu(){return typeof Reflect!="undefined"&&Reflect.get?Lu=Reflect.get:Lu=function(n,t,r){var i=AHe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Lu.apply(this,arguments)}function AHe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Oa(e),e!==null););return e}function MHe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pk(e,n)}function pk(e,n){return pk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pk(e,n)}function xHe(e){var n=IHe();return function(){var r=Oa(e),i;if(n){var o=Oa(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PHe(this,i)}}function PHe(e,n){if(n&&(Dy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YU(e)}function YU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oa(e){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oa(e)}De.getSingleton().register("beforeMergeCells");De.getSingleton().register("afterMergeCells");De.getSingleton().register("beforeUnmergeCells");De.getSingleton().register("afterUnmergeCells");var Ny="mergeCells",$He=150,GU=new WeakMap,DHe=function(e){MHe(t,e);var n=xHe(t);function t(r){var i;return THe(this,t),i=n.call(this,r),GU.set(YU(i),{lastDesiredCoords:null}),i.mergedCellsCollection=null,i.autofillCalculations=null,i.selectionCalculations=null,i}return kHe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Ny]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.mergedCellsCollection=new sHe(this),this.autofillCalculations=new pHe(this),this.selectionCalculations=new bHe(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("beforeKeyDown",function(){return i.onBeforeKeyDown.apply(i,arguments)}),this.addHook("modifyTransformStart",function(){return i.onModifyTransformStart.apply(i,arguments)}),this.addHook("afterModifyTransformStart",function(){return i.onAfterModifyTransformStart.apply(i,arguments)}),this.addHook("modifyTransformEnd",function(){return i.onModifyTransformEnd.apply(i,arguments)}),this.addHook("modifyGetCellCoords",function(){return i.onModifyGetCellCoords.apply(i,arguments)}),this.addHook("beforeSetRangeStart",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeStartOnly",function(){return i.onBeforeSetRangeStart.apply(i,arguments)}),this.addHook("beforeSetRangeEnd",function(){return i.onBeforeSetRangeEnd.apply(i,arguments)}),this.addHook("afterIsMultipleSelection",function(){return i.onAfterIsMultipleSelection.apply(i,arguments)}),this.addHook("afterRenderer",function(){return i.onAfterRenderer.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.addMergeActionsToContextMenu.apply(i,arguments)}),this.addHook("afterGetCellMeta",function(){return i.onAfterGetCellMeta.apply(i,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return i.onAfterViewportRowCalculatorOverride.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),this.addHook("modifyAutofillRange",function(){return i.onModifyAutofillRange.apply(i,arguments)}),this.addHook("afterCreateCol",function(){return i.onAfterCreateCol.apply(i,arguments)}),this.addHook("afterRemoveCol",function(){return i.onAfterRemoveCol.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("afterChange",function(){return i.onAfterChange.apply(i,arguments)}),this.addHook("beforeDrawBorders",function(){return i.onBeforeDrawAreaBorders.apply(i,arguments)}),this.addHook("afterDrawSelection",function(){return i.onAfterDrawSelection.apply(i,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return i.onBeforeRemoveCellClassNames.apply(i,arguments)}),this.addHook("beforeUndoStackChange",function(o,a){if(a==="MergeCells")return!1}),Lu(Oa(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.hot.render(),Lu(Oa(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var i=this.hot.getSettings()[Ny];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(i),Lu(Oa(t.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(i){var o=!0;return i?(Ti.containsNegativeValues(i)?(Nt(Ti.NEGATIVE_VALUES_WARNING(i)),o=!1):Ti.isOutOfBounds(i,this.hot.countRows(),this.hot.countCols())?(Nt(Ti.IS_OUT_OF_BOUNDS_WARNING(i)),o=!1):Ti.isSingleCell(i)?(Nt(Ti.IS_SINGLE_CELL(i)),o=!1):Ti.containsZeroSpan(i)&&(Nt(Ti.ZERO_SPAN_WARNING(i)),o=!1),o):!1}},{key:"generateFromSettings",value:function(i){var o=this;if(Array.isArray(i)){var a,s=[];B(i,function(u){if(!!o.validateSetting(u)){var c=new ae(u.row,u.col),f=new ae(u.row+u.rowspan-1,u.col+u.colspan-1),h=new fn(c,c,f);s.push(o.mergeRange(h,!0,!0))}}),s=s.filter(function(u){return u!==!0});var l=this.getBulkCollectionData(s);(a=this.hot).populateFromArray.apply(a,jU(l))}}},{key:"getBulkCollectionData",value:function(i){var o,a=this.getBulkCollectionDataRange(i),s=(o=this.hot).getData.apply(o,jU(a)),l=s.splice(0);return B(i,function(u){var c=WU(u,3),f=c[0],h=c[1],d=c[2];B(d,function(g,p){B(g,function(v,m){l[f-a[0]+p][h-a[1]+m]=v})})}),[a[0],a[1],l]}},{key:"getBulkCollectionDataRange",value:function(i){var o=[0,0],a=[0,0],s=null,l=null,u=null;return B(i,function(c){s=c[0],l=c[1],u=c[2],o[0]=Math.min(s,o[0]),o[1]=Math.min(l,o[1]),a[0]=Math.max(s+u.length-1,a[0]),a[1]=Math.max(l+u[0].length-1,a[1])}),[].concat(o,a)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o?!0:this.validateSetting(i)}},{key:"toggleMergeOnSelection",value:function(){var i=this.hot.getSelectedRangeLast();if(!!i){i.setDirection("NW-SE");var o=i.from,a=i.to;this.toggleMerge(i),this.hot.selectCell(o.row,o.col,a.row,a.col,!1)}}},{key:"mergeSelection",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!!i){i.setDirection("NW-SE");var o=i.from,a=i.to;this.unmergeRange(i,!0),this.mergeRange(i),this.hot.selectCell(o.row,o.col,a.row,a.col,!1)}}},{key:"unmergeSelection",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!!i){var o=i.from,a=i.to;this.unmergeRange(i,!0),this.hot.selectCell(o.row,o.col,a.row,a.col,!1)}}},{key:"mergeRange",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=i.getTopLeftCorner(),u=i.getBottomRightCorner(),c={row:l.row,col:l.col,rowspan:u.row-l.row+1,colspan:u.col-l.col+1},f=[],h=null;if(!this.canMergeRange(c,a))return!1;this.hot.runHooks("beforeMergeCells",i,a),Le(0,c.rowspan-1,function(g){Le(0,c.colspan-1,function(p){var v=null;f[g]||(f[g]=[]),g===0&&p===0?v=o.hot.getDataAtCell(c.row,c.col):o.hot.setCellMeta(c.row+g,c.col+p,"hidden",!0),f[g][p]=v})}),this.hot.setCellMeta(c.row,c.col,"spanned",!0);var d=this.mergedCellsCollection.add(c);return d?(s?h=[c.row,c.col,f]:this.hot.populateFromArray(c.row,c.col,f,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",i,c,a),h):!0}},{key:"unmergeRange",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this.mergedCellsCollection.getWithinRange(i);!s||(this.hot.runHooks("beforeUnmergeCells",i,a),B(s,function(l){o.mergedCellsCollection.remove(l.row,l.col),Le(0,l.rowspan-1,function(u){Le(0,l.colspan-1,function(c){o.hot.removeCellMeta(l.row+u,l.col+c,"hidden")})}),o.hot.removeCellMeta(l.row,l.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",i,a),this.hot.render())}},{key:"toggleMerge",value:function(i){var o=this.mergedCellsCollection.get(i.from.row,i.from.col),a=o.row===i.from.row&&o.col===i.from.col&&o.row+o.rowspan-1===i.to.row&&o.col+o.colspan-1===i.to.col;a?this.unmergeRange(i):this.mergeSelection(i)}},{key:"merge",value:function(i,o,a,s){var l=new ae(i,o),u=new ae(a,s);this.mergeRange(new fn(l,l,u))}},{key:"unmerge",value:function(i,o,a,s){var l=new ae(i,o),u=new ae(a,s);this.unmergeRange(new fn(l,l,u))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings()[Ny]),this.hot.render()}},{key:"onBeforeKeyDown",value:function(i){var o=(i.ctrlKey||i.metaKey)&&!i.altKey;o&&i.keyCode===77&&(this.toggleMerge(this.hot.getSelectedRangeLast()),this.hot.render(),Lt(i))}},{key:"onAfterIsMultipleSelection",value:function(i){if(i){for(var o=this.mergedCellsCollection.mergedCells,a=this.hot.getSelectedRangeLast(),s=0;s<o.length;s+=1)if(a.from.row===o[s].row&&a.from.col===o[s].col&&a.to.row===o[s].row+o[s].rowspan-1&&a.to.col===o[s].col+o[s].colspan-1)return!1}return i}},{key:"onModifyTransformStart",value:function(i){var o=GU.get(this),a=this.hot.getSelectedRangeLast(),s={row:i.row,col:i.col},l=null,u=new ae(a.highlight.row,a.highlight.col),c=this.mergedCellsCollection.get(u.row,u.col);if(o.lastDesiredCoords||(o.lastDesiredCoords=new ae(null,null)),c){var f=new ae(c.row,c.col),h=new ae(c.row+c.rowspan-1,c.col+c.colspan-1),d=new fn(f,f,h);d.includes(o.lastDesiredCoords)||(o.lastDesiredCoords=new ae(null,null)),s.row=o.lastDesiredCoords.row?o.lastDesiredCoords.row-u.row:s.row,s.col=o.lastDesiredCoords.col?o.lastDesiredCoords.col-u.col:s.col,i.row>0?s.row=c.row+c.rowspan-1-u.row+i.row:i.row<0&&(s.row=u.row-c.row+i.row),i.col>0?s.col=c.col+c.colspan-1-u.col+i.col:i.col<0&&(s.col=u.col-c.col+i.col)}l=new ae(a.highlight.row+s.row,a.highlight.col+s.col);var g=this.mergedCellsCollection.get(l.row,l.col);if(g){var p=this.mergedCellsCollection.getFirstRenderableCoords(g.row,g.col);o.lastDesiredCoords=l,s={row:p.row-u.row,col:p.col-u.col}}s.row!==0&&(i.row=s.row),s.col!==0&&(i.col=s.col)}},{key:"onModifyTransformEnd",value:function(i){var o=this,a=this.hot.getSelectedRangeLast(),s=$n(i),l=this.selectionCalculations.getUpdatedSelectionRange(a,i),u=$n(s),c=this.mergedCellsCollection.getWithinRange(l,!0);do u=$n(s),this.selectionCalculations.getUpdatedSelectionRange(a,s),B(c,function(f){o.selectionCalculations.snapDelta(s,a,f)});while(s.row!==u.row||s.col!==u.col);i.row=s.row,i.col=s.col}},{key:"onModifyGetCellCoords",value:function(i,o){if(!(i<0||o<0)){var a=this.mergedCellsCollection.get(i,o);if(!!a){var s=a.row,l=a.col,u=a.colspan,c=a.rowspan;return[s,l,s+c-1,l+u-1]}}}},{key:"addMergeActionsToContextMenu",value:function(i){i.items.push({name:"---------"},wHe(this))}},{key:"onAfterRenderer",value:function(i,o,a){var s=this.mergedCellsCollection.get(o,a),l=rt(s)?$n(s):void 0;if(rt(l)){var u=this.hot,c=u.rowIndexMapper,f=u.columnIndexMapper,h=l.row,d=l.col,g=l.colspan,p=l.rowspan,v=this.translateMergedCellToRenderable(h,p,d,g),m=WU(v,2),w=m[0],C=m[1],E=c.getRenderableFromVisualIndex(o),k=f.getRenderableFromVisualIndex(a),$=w-E+1,D=C-k+1;l.row=c.getFirstNotHiddenIndex(l.row,1),l.col=f.getFirstNotHiddenIndex(l.col,1),l.rowspan=Math.min(l.rowspan,$),l.colspan=Math.min(l.colspan,D)}hk(i,l,o,a)}},{key:"onBeforeSetRangeStart",value:function(i){if(this.mergedCellsCollection.isFirstRenderableMergedCell(i.row,i.col)){var o=this.mergedCellsCollection.get(i.row,i.col),a=[o.row,o.col];i.row=a[0],i.col=a[1]}}},{key:"onBeforeSetRangeEnd",value:function(i){var o=this.hot.getSelectedRangeLast();o.highlight=new ae(o.highlight.row,o.highlight.col),o.to=i;var a=!1;if(!(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()))do{a=!1;for(var s=0;s<this.mergedCellsCollection.mergedCells.length;s+=1){var l=this.mergedCellsCollection.mergedCells[s],u=l.getRange();o.expandByRange(u)&&(i.row=o.to.row,i.col=o.to.col,a=!0)}}while(a)}},{key:"onAfterGetCellMeta",value:function(i,o,a){var s=this.mergedCellsCollection.get(i,o);s&&(s.row!==i||s.col!==o?a.copyable=!1:(a.rowspan=s.rowspan,a.colspan=s.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(i){var o=this.hot.countCols();this.modifyViewportRowStart(i,o),this.modifyViewportRowEnd(i,o)}},{key:"modifyViewportRowStart",value:function(i,o){for(var a=this.hot.rowIndexMapper,s=a.getVisualFromRenderableIndex(i.startRow),l=0;l<o;l+=1){var u=this.mergedCellsCollection.get(s,l);if(rt(u)){var c=a.getRenderableFromVisualIndex(a.getFirstNotHiddenIndex(u.row,1));if(c<i.startRow){i.startRow=c,this.modifyViewportRowStart(i,o);return}}}}},{key:"modifyViewportRowEnd",value:function(i,o){for(var a=this.hot.rowIndexMapper,s=a.getVisualFromRenderableIndex(i.endRow),l=0;l<o;l+=1){var u=this.mergedCellsCollection.get(s,l);if(rt(u)){var c=u.row+u.rowspan-1,f=a.getRenderableFromVisualIndex(a.getFirstNotHiddenIndex(c,-1));if(f>i.endRow){i.endRow=f,this.modifyViewportRowEnd(i,o);return}}}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){var o=this.hot.countRows();this.modifyViewportColumnStart(i,o),this.modifyViewportColumnEnd(i,o)}},{key:"modifyViewportColumnStart",value:function(i,o){for(var a=this.hot.columnIndexMapper,s=a.getVisualFromRenderableIndex(i.startColumn),l=0;l<o;l+=1){var u=this.mergedCellsCollection.get(l,s);if(rt(u)){var c=a.getRenderableFromVisualIndex(a.getFirstNotHiddenIndex(u.col,1));if(c<i.startColumn){i.startColumn=c,this.modifyViewportColumnStart(i,o);return}}}}},{key:"modifyViewportColumnEnd",value:function(i,o){for(var a=this.hot.columnIndexMapper,s=a.getVisualFromRenderableIndex(i.endColumn),l=0;l<o;l+=1){var u=this.mergedCellsCollection.get(l,s);if(rt(u)){var c=u.col+u.colspan-1,f=a.getRenderableFromVisualIndex(a.getFirstNotHiddenIndex(c,-1));if(f>i.endColumn){i.endColumn=f,this.modifyViewportColumnEnd(i,o);return}}}}},{key:"translateMergedCellToRenderable",value:function(i,o,a,s){var l=this.hot,u=l.rowIndexMapper,c=l.columnIndexMapper,f,h;o===0?f=u.getFirstNotHiddenIndex(i,1):f=u.getFirstNotHiddenIndex(i+o-1,-1),s===0?h=c.getFirstNotHiddenIndex(a,1):h=c.getFirstNotHiddenIndex(a+s-1,-1);var d=i>=0?u.getRenderableFromVisualIndex(f):i,g=a>=0?c.getRenderableFromVisualIndex(h):a;return[d,g]}},{key:"onModifyAutofillRange",value:function(i,o){this.autofillCalculations.correctSelectionAreaSize(o);var a=this.autofillCalculations.getDirection(o,i),s=i;if(this.autofillCalculations.dragAreaOverlapsCollections(o,s,a))return s=o,s;var l=this.mergedCellsCollection.getWithinRange({from:{row:o[0],col:o[1]},to:{row:o[2],col:o[3]}});return l&&(s=this.autofillCalculations.snapDragArea(o,s,a,l)),s}},{key:"onAfterCreateCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("right",i,o)}},{key:"onAfterRemoveCol",value:function(i,o){this.mergedCellsCollection.shiftCollections("left",i,o)}},{key:"onAfterCreateRow",value:function(i,o,a){a!=="auto"&&this.mergedCellsCollection.shiftCollections("down",i,o)}},{key:"onAfterRemoveRow",value:function(i,o){this.mergedCellsCollection.shiftCollections("up",i,o)}},{key:"onAfterChange",value:function(i,o){o==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(i)}},{key:"onBeforeDrawAreaBorders",value:function(i,o){if(o&&o==="area"){var a=this.hot.getSelectedRangeLast(),s=this.mergedCellsCollection.getWithinRange(a);B(s,function(l){a.getBottomRightCorner().row===l.getLastRow()&&a.getBottomRightCorner().col===l.getLastColumn()&&(i[2]=l.row,i[3]=l.col)})}}},{key:"onAfterModifyTransformStart",value:function(i,o,a){if(!!this.enabled){var s=this.mergedCellsCollection.get(i.row,i.col);if(!!s){var l=o>0,u=o<0,c=a<0,f=a>0,h=s.row+s.rowspan-1==this.hot.countRows()-1,d=s.row===0,g=s.col+s.colspan-1==this.hot.countCols()-1,p=s.col===0;(l&&h||u&&d||f&&g||c&&p)&&(i.row=s.row,i.col=s.col)}}}},{key:"onAfterDrawSelection",value:function(i,o,a,s){if(!!a)return this.selectionCalculations.getSelectedMergedCellClassName(i,o,a,s)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}],[{key:"PLUGIN_KEY",get:function(){return Ny}},{key:"PLUGIN_PRIORITY",get:function(){return $He}}]),t}(wt);function KU(e){return FHe(e)||HHe(e)||LHe(e)||NHe()}function NHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LHe(e,n){if(!!e){if(typeof e=="string")return XU(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return XU(e,n)}}function XU(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function HHe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FHe(e){if(Array.isArray(e))return e}function BHe(e,n){return function(t,r){var i=KU(t),o=i.slice(1),a=KU(r),s=a.slice(1);return function l(u){var c=e[u],f=n[u],h=o[u],d=s[u],g=f.multiColumnSorting,p=g.compareFunctionFactory?g.compareFunctionFactory:rV(f.type),v=p(c,f,g)(h,d);if(v===_i){var m=u+1;if(typeof n[m]!="undefined")return l(m)}return v}(0)}}var qU;function VHe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ZU(){Nt(Mt(qU||(qU=VHe(["Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously. \n    Only `multiColumnSorting` will work."],["Plugins \\`columnSorting\\` and \\`multiColumnSorting\\` should not be enabled simultaneously. \n    Only \\`multiColumnSorting\\` will work."]))))}var QU="sort";function WHe(e,n,t){var r=[];return t===!1||e.isColumnSorted(n)&&e.getNumberOfSortedColumns()>1&&r.push("".concat(QU,"-").concat(e.getIndexOfColumnInSortQueue(n)+1)),r}function jHe(e){var n=e.className.split(" "),t=new RegExp("^".concat(QU,"-[0-9]{1,2}$"));return n.filter(function(r){return t.test(r)})}function Ly(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ly=function(t){return typeof t}:Ly=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}function UHe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function JU(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zHe(e,n,t){return n&&JU(e.prototype,n),t&&JU(e,t),e}function vr(){return typeof Reflect!="undefined"&&Reflect.get?vr=Reflect.get:vr=function(n,t,r){var i=YHe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},vr.apply(this,arguments)}function YHe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=zn(e),e!==null););return e}function GHe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&vk(e,n)}function vk(e,n){return vk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vk(e,n)}function KHe(e){var n=ZHe();return function(){var r=zn(e),i;if(n){var o=zn(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return XHe(this,i)}}function XHe(e,n){if(n&&(Ly(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qHe(e)}function qHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zn(e)}var mk="multiColumnSorting",QHe=170,JHe="append",ez="columnSorting";nV(mk,BHe);var eFe=function(e){GHe(t,e);var n=KHe(t);function t(r){var i;return UHe(this,t),i=n.call(this,r),i.pluginKey=mk,i}return zHe(t,[{key:"isEnabled",value:function(){return vr(zn(t.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[ez]&&ZU(),vr(zn(t.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){vr(zn(t.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(i){vr(zn(t.prototype),"sort",this).call(this,i)}},{key:"clearSort",value:function(){vr(zn(t.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return vr(zn(t.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(i){return vr(zn(t.prototype),"getSortConfig",this).call(this,i)}},{key:"setSortConfig",value:function(i){vr(zn(t.prototype),"setSortConfig",this).call(this,i)}},{key:"getNormalizedSortConfigs",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(i)?i:[i]}},{key:"updateHeaderClasses",value:function(i){for(var o,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];(o=vr(zn(t.prototype),"updateHeaderClasses",this)).call.apply(o,[this,i].concat(s)),Je(i,jHe(i)),this.enabled!==!1&&ve(i,WHe.apply(void 0,s))}},{key:"onUpdateSettings",value:function(i){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[ez]&&ZU(),vr(zn(t.prototype),"onUpdateSettings",this).call(this,i)}},{key:"onAfterOnCellMouseDown",value:function(i,o){xE(o.row,o.col,i)!==!1&&this.wasClickableHeaderClicked(i,o.col)&&(Rv()?(this.hot.deselectCell(),this.hot.selectColumns(o.col),this.sort(this.getNextSortConfig(o.col,JHe))):this.sort(this.getColumnNextConfig(o.col)))}}],[{key:"PLUGIN_KEY",get:function(){return mk}},{key:"PLUGIN_PRIORITY",get:function(){return QHe}}]),t}(pV);function Hy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hy=function(t){return typeof t}:Hy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function tFe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function tz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nFe(e,n,t){return n&&tz(e.prototype,n),t&&tz(e,t),e}function Fy(){return typeof Reflect!="undefined"&&Reflect.get?Fy=Reflect.get:Fy=function(n,t,r){var i=rFe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Fy.apply(this,arguments)}function rFe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Hu(e),e!==null););return e}function iFe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&yk(e,n)}function yk(e,n){return yk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yk(e,n)}function oFe(e){var n=lFe();return function(){var r=Hu(e),i;if(n){var o=Hu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return aFe(this,i)}}function aFe(e,n){if(n&&(Hy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(e)}function sFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lFe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}var uFe="multipleSelectionHandles",cFe=160,fFe=function(e){iFe(t,e);var n=oFe(t);function t(r){var i;return tFe(this,t),i=n.call(this,r),i.dragged=[],i.eventManager=null,i.lastSetCell=null,i}return nFe(t,[{key:"isEnabled",value:function(){return Wr()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new Rt(this)),this.registerListeners(),Fy(Hu(t.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var i=this,o=this,a=this.hot.rootElement;function s(l){if(o.dragged.length===1)return o.dragged.splice(0,o.dragged.length),!0;var u=o.dragged.indexOf(l);if(u===-1)return!1;u===0?o.dragged=o.dragged.slice(0,1):u===1&&(o.dragged=o.dragged.slice(-1))}this.eventManager.addEventListener(a,"touchstart",function(l){var u;if(ze(l.target,"topLeftSelectionHandle-HitArea"))return u=o.hot.getSelectedRangeLast(),o.dragged.push("topLeft"),o.touchStartRange={width:u.getWidth(),height:u.getHeight(),direction:u.getDirection()},l.preventDefault(),!1;if(ze(l.target,"bottomRightSelectionHandle-HitArea"))return u=o.hot.getSelectedRangeLast(),o.dragged.push("bottomRight"),o.touchStartRange={width:u.getWidth(),height:u.getHeight(),direction:u.getDirection()},l.preventDefault(),!1}),this.eventManager.addEventListener(a,"touchend",function(l){if(ze(l.target,"topLeftSelectionHandle-HitArea"))return s.call(o,"topLeft"),o.touchStartRange=void 0,l.preventDefault(),!1;if(ze(l.target,"bottomRightSelectionHandle-HitArea"))return s.call(o,"bottomRight"),o.touchStartRange=void 0,l.preventDefault(),!1}),this.eventManager.addEventListener(a,"touchmove",function(l){var u=i.hot,c=u.rootWindow,f=u.rootDocument,h=os(c),d=ra(c),g,p,v,m,w,C;if(o.dragged.length!==0){var E=f.elementFromPoint(l.touches[0].screenX-d,l.touches[0].screenY-h);!E||E===o.lastSetCell||((E.nodeName==="TD"||E.nodeName==="TH")&&(g=o.hot.getCoords(E),g.col===-1&&(g.col=0),p=o.hot.getSelectedRangeLast(),v=p.getWidth(),m=p.getHeight(),w=p.getDirection(),v===1&&m===1&&o.hot.selection.setRangeEnd(g),C=o.getCurrentRangeCoords(p,g,o.touchStartRange.direction,w,o.dragged[0]),C.start!==null&&o.hot.selection.setRangeStart(C.start),o.hot.selection.setRangeEnd(C.end),o.lastSetCell=E),l.preventDefault())}})}},{key:"getCurrentRangeCoords",value:function(i,o,a,s,l){var u=i.getTopLeftCorner(),c=i.getBottomRightCorner(),f=i.getBottomLeftCorner(),h=i.getTopRightCorner(),d={start:null,end:null};switch(a){case"NE-SW":switch(s){case"NE-SW":case"NW-SE":l==="topLeft"?d={start:new ae(o.row,i.highlight.col),end:new ae(f.row,o.col)}:d={start:new ae(i.highlight.row,o.col),end:new ae(o.row,u.col)};break;case"SE-NW":l==="bottomRight"&&(d={start:new ae(c.row,o.col),end:new ae(o.row,u.col)});break}break;case"NW-SE":switch(s){case"NE-SW":l==="topLeft"?d={start:o,end:f}:d.end=o;break;case"NW-SE":l==="topLeft"?d={start:o,end:c}:d.end=o;break;case"SE-NW":l==="topLeft"?d={start:o,end:u}:d.end=o;break;case"SW-NE":l==="topLeft"?d={start:o,end:h}:d.end=o;break}break;case"SW-NE":switch(s){case"NW-SE":l==="bottomRight"?d={start:new ae(o.row,u.col),end:new ae(f.row,o.col)}:d={start:new ae(u.row,o.col),end:new ae(o.row,c.col)};break;case"SW-NE":l==="topLeft"?d={start:new ae(i.highlight.row,o.col),end:new ae(o.row,c.col)}:d={start:new ae(o.row,u.col),end:new ae(u.row,o.col)};break;case"SE-NW":l==="bottomRight"?d={start:new ae(o.row,h.col),end:new ae(u.row,o.col)}:l==="topLeft"&&(d={start:f,end:o});break}break;case"SE-NW":switch(s){case"NW-SE":case"NE-SW":case"SW-NE":l==="topLeft"&&(d.end=o);break;case"SE-NW":l==="topLeft"?d.end=o:d={start:o,end:u};break}break}return d}},{key:"isDragged",value:function(){return this.dragged.length>0}}],[{key:"PLUGIN_KEY",get:function(){return uFe}},{key:"PLUGIN_PRIORITY",get:function(){return cFe}}]),t}(wt);function bk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.label,t=n===void 0?"":n,r=e.colspan,i=r===void 0?1:r,o=e.origColspan,a=o===void 0?1:o,s=e.collapsible,l=s===void 0?!1:s,u=e.crossHiddenColumns,c=u===void 0?[]:u,f=e.isCollapsed,h=f===void 0?!1:f,d=e.isHidden,g=d===void 0?!1:d,p=e.isRoot,v=p===void 0?!1:p,m=e.isPlaceholder,w=m===void 0?!1:m;return{label:t,colspan:i,origColspan:a,collapsible:l,isCollapsed:h,crossHiddenColumns:c,isHidden:g,isRoot:v,isPlaceholder:w}}function nz(){return{label:"",isPlaceholder:!0}}function rz(e){return pFe(e)||gFe(e)||dFe(e)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(e,n){if(!!e){if(typeof e=="string")return wk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wk(e,n)}}function gFe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pFe(e){if(Array.isArray(e))return wk(e)}function wk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function vFe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t=[];if(n===0)return t;B(e,function(i){var o=[],a=0;t.push(o),B(i,function(s){var l=bk();if(rt(s)){var u=s.label,c=s.colspan;l.label=zt(u),typeof c=="number"&&c>1&&(l.colspan=c,l.origColspan=c)}else l.label=zt(s);a+=l.origColspan;var f=!1;if(a>=n&&(l.colspan=l.origColspan-(a-n),l.origColspan=l.colspan,f=!0),o.push(l),l.colspan>1)for(var h=0;h<l.colspan-1;h++)o.push(nz());return!f})});var r=Math.max.apply(Math,rz(it(t,function(i){return i.length})));return B(t,function(i){if(i.length<r){var o=it(new Array(r-i.length),function(){return bk()});i.splice.apply(i,[i.length,0].concat(rz(o)))}}),t}var mFe=["row","col"];function iz(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function yFe(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?iz(Object(t),!0).forEach(function(r){bFe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):iz(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function bFe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function wFe(e,n){if(e==null)return{};var t=_Fe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function _Fe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function SFe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function oz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CFe(e,n,t){return n&&oz(e.prototype,n),t&&oz(e,t),e}function _k(e,n,t){RFe(e,n),n.set(e,t)}function RFe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jr(e,n){var t=az(e,n,"get");return OFe(e,t)}function OFe(e,n){return n.get?n.get.call(e):n.value}function _h(e,n,t){var r=az(e,n,"set");return EFe(e,r,t),t}function az(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function EFe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}var sz=["label","collapsible"],Ro=new WeakMap,Us=new WeakMap,Sk=new WeakMap,TFe=function(){function e(){SFe(this,e),_k(this,Ro,{writable:!0,value:[]}),_k(this,Us,{writable:!0,value:0}),_k(this,Sk,{writable:!0,value:1/0})}return CFe(e,[{key:"setColumnsLimit",value:function(t){_h(this,Sk,t)}},{key:"setData",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];_h(this,Ro,vFe(t,Jr(this,Sk))),_h(this,Us,Jr(this,Ro).length)}},{key:"getData",value:function(){return Jr(this,Ro)}},{key:"mergeWith",value:function(t){var r=this;B(t,function(i){var o=i.row,a=i.col,s=wFe(i,mFe),l=r.getHeaderSettings(o,a);l!==null&&Vt(l,s,sz)})}},{key:"map",value:function(t){B(Jr(this,Ro),function(r){B(r,function(i){var o=t(yFe({},i));rt(o)&&Vt(i,o,sz)})})}},{key:"getHeaderSettings",value:function(t,r){var i;if(t>=Jr(this,Us)||t<0)return null;var o=Jr(this,Ro)[t];return r>=o.length?null:(i=o[r])!==null&&i!==void 0?i:null}},{key:"getHeadersSettings",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=[];if(t>=Jr(this,Us)||t<0)return o;for(var a=Jr(this,Ro)[t],s=0,l=r;l<a.length;l++){var u=a[l];if(u.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=u.colspan,o.push(u),u.colspan>1&&(l+=u.colspan-1),s===i)break;if(s>i)throw new Error("The last column settings cannot overlap the other header layers")}return o}},{key:"getLayersCount",value:function(){return Jr(this,Us)}},{key:"getColumnsCount",value:function(){return Jr(this,Us)>0?Jr(this,Ro)[0].length:0}},{key:"clear",value:function(){_h(this,Ro,[]),_h(this,Us,0)}}]),e}();function lz(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function uz(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?lz(Object(t),!0).forEach(function(r){By(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lz(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function kFe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AFe(e,n,t){return n&&cz(e.prototype,n),t&&cz(e,t),e}function By(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function MFe(e){return $Fe(e)||IFe(e)||PFe(e)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PFe(e,n){if(!!e){if(typeof e=="string")return Ck(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ck(e,n)}}function IFe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Fe(e){if(Array.isArray(e))return Ck(e)}function Ck(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var DFe="DF-pre-order";function fz(e,n){for(var t=e.call(n,this),r=0;r<this.childs.length;r++){if(t===!1)return!1;t=fz.call(this.childs[r],e,n)}return t}var NFe="DF-post-order";function hz(e,n){for(var t=0;t<this.childs.length;t++){var r=hz.call(this.childs[t],e,n);if(r===!1)return!1}return e.call(n,this)}var dz="BF";function LFe(e,n){var t=[this];function r(){if(t.length!==0){var i=t.shift();t.push.apply(t,MFe(i.childs)),e.call(n,i)!==!1&&r()}}r()}var HFe=dz,gz=new Map([[DFe,fz],[NFe,hz],[dz,LFe]]),pz=function(){function e(n){kFe(this,e),By(this,"data",{}),By(this,"parent",null),By(this,"childs",[]),this.data=n}return AFe(e,[{key:"addChild",value:function(t){t.parent=this,this.childs.push(t)}},{key:"cloneTree",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,r=new e(uz({},t.data)),i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}},{key:"replaceTreeWith",value:function(t){this.data=uz({},t.data),this.childs=[];for(var r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}},{key:"walkDown",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HFe;if(!gz.has(r))throw new Error('Traversal strategy "'.concat(r,'" does not exist'));gz.get(r).call(this,t,this)}},{key:"walkUp",value:function(t){var r=this,i=function o(a){var s=t.call(r,a);s!==!1&&a.parent!==null&&o(a.parent)};i(this)}}]),e}();function vz(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function mz(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?vz(Object(t),!0).forEach(function(r){FFe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vz(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function FFe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function BFe(e,n){return UFe(e)||jFe(e,n)||WFe(e,n)||VFe()}function VFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WFe(e,n){if(!!e){if(typeof e=="string")return yz(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yz(e,n)}}function yz(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function jFe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function UFe(e){if(Array.isArray(e))return e}function zFe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YFe(e,n,t){return n&&bz(e.prototype,n),t&&bz(e,t),e}function Rk(e,n,t){GFe(e,n),n.set(e,t)}function GFe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yn(e,n){var t=wz(e,n,"get");return KFe(e,t)}function KFe(e,n){return n.get?n.get.call(e):n.value}function XFe(e,n,t){var r=wz(e,n,"set");return qFe(e,r,t),t}function wz(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function qFe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}var Fu=new WeakMap,zs=new WeakMap,Bu=new WeakMap,ZFe=function(){function e(n){zFe(this,e),Rk(this,Fu,{writable:!0,value:new Map}),Rk(this,zs,{writable:!0,value:new Map}),Rk(this,Bu,{writable:!0,value:null}),XFe(this,Bu,n)}return YFe(e,[{key:"getRoots",value:function(){return Array.from(Yn(this,Fu).values())}},{key:"getRootByColumn",value:function(t){var r;return Yn(this,zs).has(t)&&(r=Yn(this,Fu).get(Yn(this,zs).get(t))),r}},{key:"getNode",value:function(t,r){var i=this.getRootByColumn(r);if(!!i){var o=r-Yn(this,zs).get(r),a=0,s;return i.walkDown(function(l){var u=l.data,c=u.origColspan,f=u.headerLevel;if(t===f){if(o>=a&&o<=a+c-1)return s=l,!1;a+=c}}),s}}},{key:"rebuildTreeIndex",value:function(){var t=this,r=0;Yn(this,zs).clear(),B(Yn(this,Fu),function(i){for(var o=BFe(i,2),a=o[1].data.colspan,s=r;s<r+a;s++)Yn(t,zs).set(s,r);r+=a})}},{key:"buildTree",value:function(){this.clear();for(var t=Yn(this,Bu).getColumnsCount(),r=0;r<t;){var i=Yn(this,Bu).getHeaderSettings(0,r),o=new pz;Yn(this,Fu).set(r,o),this.buildLeaves(o,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}},{key:"buildLeaves",value:function(t,r,i){var o=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=Yn(this,Bu).getHeadersSettings(i,r,a);i+=1,B(s,function(l){var u=mz(mz({},l),{},{headerLevel:i-1,columnIndex:r}),c;i===1?(t.data=u,c=t):(c=new pz(u),t.addChild(c)),i<Yn(o,Bu).getLayersCount()&&o.buildLeaves(c,r,i,l.origColspan),r+=l.origColspan})}},{key:"clear",value:function(){Yn(this,Fu).clear(),Yn(this,zs).clear()}}]),e}();function _z(e,n){e.walkDown(function(t){var r=t.data,i=t.childs;if(!r.isHidden&&(n(r.columnIndex),i.length===0))for(var o=1;o<r.colspan;o++)n(r.columnIndex+o)})}function Vy(e,n){var t=e.childs;if(t.length!==0)return t[0].data[n]}function Wy(e){return Vy(e,"origColspan")===e.data.origColspan}function Ok(e){var n=e.data,t=e.childs;if(!n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};var r=Wy(e);if(r)return Ok(t[0]);n.isCollapsed=!1;var i=t.slice(1),o=new Set,a=0;if(i.length>0)B(i,function(f){f.replaceTreeWith(f.data.clonedTree),f.data.clonedTree=null;var h=f.data;a+=h.colspan,_z(f,function(d){o.add(d)})});else{var s=n.colspan,l=n.origColspan,u=n.columnIndex;a=l-s;for(var c=1;c<l;c++)o.add(u+c)}return e.walkUp(function(f){var h=f.data;h.colspan+=a,h.colspan>=h.origColspan?(h.colspan=h.origColspan,h.isCollapsed=!1):Wy(f)&&(h.isCollapsed=Vy(f,"isCollapsed"))}),{rollbackModification:function(){return Ek(e)},affectedColumns:Array.from(o),colspanCompensation:a}}function Ek(e){var n,t=e.data,r=e.childs;if(t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:function(){},affectedColumns:[],colspanCompensation:0};var i=Wy(e);if(i)return Ek(r[0]);t.isCollapsed=!0;var o=r.slice(1),a=new Set;if(o.length>0)B(o,function(h){_z(h,function(d){a.add(d)}),h.data.clonedTree=h.cloneTree(),h.walkDown(function(d){var g=d.data;g.isHidden=!0})});else for(var s=t.origColspan,l=t.columnIndex,u=1;u<s;u++){var c=l+u;a.add(c)}var f=t.colspan-((n=Vy(e,"colspan"))!==null&&n!==void 0?n:1);return e.walkUp(function(h){var d=h.data;d.colspan-=f,d.colspan<=1?(d.colspan=1,d.isCollapsed=!0):Wy(h)&&(d.isCollapsed=Vy(h,"isCollapsed"))}),{rollbackModification:function(){return Ok(e)},affectedColumns:Array.from(a),colspanCompensation:f}}var Sz;function QFe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function JFe(e,n){if(!Number.isInteger(n))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Mt(Sz||(Sz=QFe([`The passed node is not the last node on the tree. Only for 
the last node, the hide column modification can be applied.`],[`The passed node is not the last node on the tree. Only for\\x20
the last node, the hide column modification can be applied.`]))));var t=e.data.crossHiddenColumns;if(!t.includes(n)){var r=!1;e.walkUp(function(i){var o=i.data.collapsible;if(o)return r=!0,!1}),!r&&e.walkUp(function(i){var o=i.data;o.crossHiddenColumns.push(n),o.colspan>1?o.colspan-=1:o.isHidden=!0})}}var Cz;function eBe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function tBe(e,n){if(!Number.isInteger(n))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Mt(Cz||(Cz=eBe([`The passed node is not the last node on the tree. Only for 
the last node, the show column modification can be applied.`],[`The passed node is not the last node on the tree. Only for\\x20
the last node, the show column modification can be applied.`]))));var t=e.data.crossHiddenColumns;if(!!t.includes(n)){var r=!1;e.walkUp(function(i){var o=i.data.collapsible;if(o)return r=!0,!1}),!r&&e.walkUp(function(i){var o=i.data;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(n),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}}var Rz=new Map([["collapse",Ek],["expand",Ok],["hide-column",JFe],["show-column",tBe]]);function nBe(e,n,t){if(!Rz.has(e))throw new Error('The node modifier action ("'.concat(e,'") does not exist.'));return Rz.get(e)(n,t)}var rBe=["crossHiddenColumns"];function iBe(e,n){if(e==null)return{};var t=oBe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function oBe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function jy(e){var n=[];return B(e,function(t){t.walkDown(function(r){for(var i=r.data,o=i.origColspan,a=i.columnIndex,s=i.headerLevel,l=i.crossHiddenColumns,u=sBe(n,s),c=!1,f=a;f<a+o;f++){var h=l.includes(f);if(h||c)u.push(nz());else{var d=aBe(i);d.isRoot=!0,u.push(d),c=!0}}})}),n}function aBe(e){var n=bk(e);n.crossHiddenColumns;var t=iBe(n,rBe);return t}function sBe(e,n){var t;return Array.isArray(e[n])?t=e[n]:(t=[],e[n]=t),t}var lBe=["row"];function Oz(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Ez(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Oz(Object(t),!0).forEach(function(r){uBe(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oz(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function uBe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function cBe(e,n){if(e==null)return{};var t=fBe(e,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function fBe(e,n){if(e==null)return{};var t={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(t[i]=e[i]);return t}function hBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Tz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dBe(e,n,t){return n&&Tz(e.prototype,n),t&&Tz(e,t),e}function Tk(e,n,t){gBe(e,n),n.set(e,t)}function gBe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sh(e,n,t){var r=kz(e,n,"set");return pBe(e,r,t),t}function pBe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}function en(e,n){var t=kz(e,n,"get");return vBe(e,t)}function kz(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function vBe(e,n){return n.get?n.get.call(e):n.value}var ki=new WeakMap,mr=new WeakMap,Ys=new WeakMap,mBe=function(){function e(){hBe(this,e),Tk(this,ki,{writable:!0,value:new TFe}),Tk(this,mr,{writable:!0,value:new ZFe(en(this,ki))}),Tk(this,Ys,{writable:!0,value:[[]]})}return dBe(e,[{key:"setState",value:function(t){en(this,ki).setData(t);var r=!1;try{en(this,mr).buildTree()}catch{en(this,mr).clear(),en(this,ki).clear(),r=!0}return Sh(this,Ys,jy(en(this,mr).getRoots())),r}},{key:"setColumnsLimit",value:function(t){en(this,ki).setColumnsLimit(t)}},{key:"mergeStateWith",value:function(t){var r=this,i=it(t,function(o){var a=o.row,s=cBe(o,lBe);return Ez({row:a<0?r.rowCoordsToLevel(a):a},s)});en(this,ki).mergeWith(i),en(this,mr).buildTree(),Sh(this,Ys,jy(en(this,mr).getRoots()))}},{key:"mapState",value:function(t){en(this,ki).map(t),en(this,mr).buildTree(),Sh(this,Ys,jy(en(this,mr).getRoots()))}},{key:"mapNodes",value:function(t){return Qt(en(this,mr).getRoots(),function(r,i){return i.walkDown(function(o){var a=t(o.data);a!==void 0&&r.push(a)}),r},[])}},{key:"triggerNodeModification",value:function(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));var o=en(this,mr).getNode(r,i),a;return o&&(a=nBe(t,o,i),Sh(this,Ys,jy(en(this,mr).getRoots()))),a}},{key:"triggerColumnModification",value:function(t,r){return this.triggerNodeModification(t,-1,r)}},{key:"rowCoordsToLevel",value:function(t){var r=Math.max(this.getLayersCount(),1),i=r-1,o=0;return Math.min(Math.max(t+r,o),i)}},{key:"levelToRowCoords",value:function(t){var r=Math.max(this.getLayersCount(),1),i=-1,o=-r;return Math.min(Math.max(t-r,o),i)}},{key:"getHeaderSettings",value:function(t,r){var i,o;return t<0&&(t=this.rowCoordsToLevel(t)),t>=this.getLayersCount()?null:(i=(o=en(this,Ys)[t])===null||o===void 0?void 0:o[r])!==null&&i!==void 0?i:null}},{key:"getHeaderTreeNodeData",value:function(t,r){t<0&&(t=this.rowCoordsToLevel(t));var i=en(this,mr).getNode(t,r);return i?Ez({},i.data):null}},{key:"findLeftMostColumnIndex",value:function(t,r){var i,o=(i=this.getHeaderSettings(t,r))!==null&&i!==void 0?i:{isRoot:!0},a=o.isRoot;if(a)return r;for(var s=r-1;s>=0;){var l,u=(l=this.getHeaderSettings(t,s))!==null&&l!==void 0?l:{isRoot:!0},c=u.isRoot;if(c)break;s-=1}return s}},{key:"getLayersCount",value:function(){return en(this,ki).getLayersCount()}},{key:"getColumnsCount",value:function(){return en(this,ki).getColumnsCount()}},{key:"clear",value:function(){Sh(this,Ys,[]),en(this,ki).clear(),en(this,mr).clear()}}]),e}();function yBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Az(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bBe(e,n,t){return n&&Az(e.prototype,n),t&&Az(e,t),e}var wBe=function(){function e(n){yBe(this,e),this.nestedHeaders=n,this.container=void 0,this.widthsCache=[]}return bBe(e,[{key:"buildWidthsMapper",value:function(){this.container=this.nestedHeaders.hot.rootDocument.createElement("div"),this.buildGhostTable(this.container),this.nestedHeaders.hot.rootElement.appendChild(this.container);var t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsCache.length=0;for(var i=0;i<r;i++)this.widthsCache.push(t[i].offsetWidth);this.container.parentNode.removeChild(this.container),this.container=null,this.nestedHeaders.hot.render()}},{key:"buildGhostTable",value:function(t){for(var r=this.nestedHeaders.hot.rootDocument,i=r.createDocumentFragment(),o=r.createElement("table"),a=!1,s=!!this.nestedHeaders.hot.getSettings().dropdownMenu,l=this.nestedHeaders.getLayersCount(),u=this.nestedHeaders.hot.countCols(),c=l-1,f=0;f<l;f++){var h=r.createElement("tr");a=!1;for(var d=0;d<u;d++){var g=r.createElement("th"),p=$n(this.nestedHeaders.getHeaderSettings(f,d));p&&!p.isHidden&&(f===c&&(p.colspan>1&&(a=!0),s&&(p.label+='<button class="changeType"></button>')),ta(g,p.label),p.colspan!==void 0&&(g.colSpan=p.colspan),h.appendChild(g))}o.appendChild(h)}if(a){for(var v=r.createElement("tr"),m=0;m<u;m++){var w=r.createElement("th");v.appendChild(w)}o.appendChild(v)}i.appendChild(o),t.appendChild(i)}},{key:"clear",value:function(){this.container=null,this.widthsCache.length=0}}]),e}(),_Be=wBe;function Uy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uy=function(t){return typeof t}:Uy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}var Mz,xz;function Pz(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function SBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Iz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CBe(e,n,t){return n&&Iz(e.prototype,n),t&&Iz(e,t),e}function Gs(){return typeof Reflect!="undefined"&&Reflect.get?Gs=Reflect.get:Gs=function(n,t,r){var i=RBe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Gs.apply(this,arguments)}function RBe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Oo(e),e!==null););return e}function OBe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&kk(e,n)}function kk(e,n){return kk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},kk(e,n)}function EBe(e){var n=kBe();return function(){var r=Oo(e),i;if(n){var o=Oo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return TBe(this,i)}}function TBe(e,n){if(n&&(Uy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vu(e)}function Vu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oo(e)}function $z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Dz(e,n,t){ABe(e,n),n.set(e,t)}function ABe(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zy(e,n,t){var r=Nz(e,n,"set");return MBe(e,r,t),t}function MBe(e,n,t){if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}function hn(e,n){var t=Nz(e,n,"get");return xBe(e,t)}function Nz(e,n,t){if(!n.has(e))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(e)}function xBe(e,n){return n.get?n.get.call(e):n.value}var Lz="nestedHeaders",PBe=280,Rn=new WeakMap,Ea=new WeakMap,IBe=function(e){OBe(t,e);var n=EBe(t);function t(){var r;SBe(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o)),Dz(Vu(r),Rn,{writable:!0,value:new mBe}),Dz(Vu(r),Ea,{writable:!0,value:null}),$z(Vu(r),"ghostTable",new _Be(Vu(r))),$z(Vu(r),"detectedOverlappedHeaders",!1),r}return CBe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Lz]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings(),a=o.nestedHeaders;(!Array.isArray(a)||!Array.isArray(a[0]))&&Nt(Mt(Mz||(Mz=Pz([`Your Nested Headers plugin configuration is invalid. The settings has to be 
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`],[`Your Nested Headers plugin configuration is invalid. The settings has to be\\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`])))),this.addHook("init",function(){return i.onInit()}),this.addHook("afterLoadData",function(){return i.onAfterLoadData.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("afterOnCellMouseDown",function(){return i.onAfterOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeOnCellMouseOver",function(){return i.onBeforeOnCellMouseOver.apply(i,arguments)}),this.addHook("afterGetColumnHeaderRenderers",function(s){return i.onAfterGetColumnHeaderRenderers(s)}),this.addHook("modifyColWidth",function(){return i.onModifyColWidth.apply(i,arguments)}),this.addHook("beforeHighlightingColumnHeader",function(){return i.onBeforeHighlightingColumnHeader.apply(i,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return i.onAfterViewportColumnCalculatorOverride.apply(i,arguments)}),Gs(Oo(t.prototype),"enablePlugin",this).call(this),this.updatePlugin()}}},{key:"updatePlugin",value:function(){var i=this;if(!!this.hot.view){var o=this.hot.getSettings(),a=o.nestedHeaders;hn(this,Rn).setColumnsLimit(this.hot.countSourceCols()),Array.isArray(a)&&(this.detectedOverlappedHeaders=hn(this,Rn).setState(a)),this.detectedOverlappedHeaders&&Nt(Mt(xz||(xz=Pz([`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration 
                        is currently not supported.`],[`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\\x20
                        is currently not supported.`])))),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(function(s,l){var u=s===!0?"hide-column":"show-column";hn(i,Rn).triggerColumnModification(u,l)}),!hn(this,Ea)&&this.enabled&&zy(this,Ea,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(function(s){s.forEach(function(l){var u=l.op,c=l.index,f=l.newValue;if(u==="replace"){var h=f===!0?"hide-column":"show-column";hn(i,Rn).triggerColumnModification(h,c)}})})),this.ghostTable.buildWidthsMapper(),Gs(Oo(t.prototype),"updatePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.clearColspans(),hn(this,Rn).clear(),hn(this,Ea).unsubscribe(),zy(this,Ea,null),this.ghostTable.clear(),Gs(Oo(t.prototype),"disablePlugin",this).call(this)}},{key:"getStateManager",value:function(){return hn(this,Rn)}},{key:"getLayersCount",value:function(){return hn(this,Rn).getLayersCount()}},{key:"getHeaderSettings",value:function(i,o){return hn(this,Rn).getHeaderSettings(i,o)}},{key:"clearColspans",value:function(){if(!!this.hot.view)for(var i=this.hot.view.wt,o=i.getSetting("columnHeaders").length,a=i.wtTable.THEAD,s=i.wtOverlays.topOverlay.clone.wtTable.THEAD,l=i.wtOverlays.topLeftCornerOverlay?i.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null,u=0;u<o;u++){var c=a.childNodes[u];if(!c)break;for(var f=s.childNodes[u],h=l?l.childNodes[u]:null,d=0,g=c.childNodes.length;d<g;d++)c.childNodes[d].removeAttribute("colspan"),Je(c.childNodes[d],"hiddenHeader"),f&&f.childNodes[d]&&(f.childNodes[d].removeAttribute("colspan"),Je(f.childNodes[d],"hiddenHeader")),l&&h&&h.childNodes[d]&&(h.childNodes[d].removeAttribute("colspan"),Je(h.childNodes[d],"hiddenHeader"))}}},{key:"headerRendererFactory",value:function(i){var o=this,a=this.hot.view.wt.getSetting("fixedColumnsLeft");return function(s,l){var u,c=o.hot,f=c.rootDocument,h=c.columnIndexMapper,d=c.view,g=h.getVisualFromRenderableIndex(s);g===null&&(g=s),l.removeAttribute("colspan"),Je(l,"hiddenHeader");var p=(u=hn(o,Rn).getHeaderSettings(i,g))!==null&&u!==void 0?u:{label:""},v=p.colspan,m=p.label,w=p.isHidden,C=p.isPlaceholder;if(C||w)ve(l,"hiddenHeader");else if(v>1){var E,k,$=(E=d.wt.wtOverlays.topLeftCornerOverlay)===null||E===void 0?void 0:E.clone.wtTable.THEAD.contains(l),D=(k=d.wt.wtOverlays.leftOverlay)===null||k===void 0?void 0:k.clone.wtTable.THEAD.contains(l),Y=$||D?Math.min(v,a-s):v;Y>1&&l.setAttribute("colspan",Y)}var L=f.createElement("div"),X=f.createElement("span");ve(L,"relative"),ve(X,"colHeader"),ta(X,m),L.appendChild(X),Mr(l),l.appendChild(L),o.hot.runHooks("afterGetColHeader",g,l)}}},{key:"onBeforeHighlightingColumnHeader",value:function(i,o,a){var s=hn(this,Rn).getHeaderTreeNodeData(o,i);if(!s)return i;var l=a.classNames,u=a.columnCursor,c=a.selectionType,f=a.selectionWidth,h=hn(this,Rn).getHeaderSettings(o,i),d=h.isRoot,g=h.colspan;if(c===Yf){if(!d)return s.columnIndex}else c===Ov&&(g>f-u||!d)&&(l.length=0);return i}},{key:"onBeforeOnCellMouseDown",value:function(i,o,a,s){var l=this._getHeaderTreeNodeDataByCoords(o);l&&(s.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(i,o){var a=this._getHeaderTreeNodeDataByCoords(o);if(!!a){var s=this.hot.selection,l=s.isSelected()?s.getSelectedRange().current():null,u=[],c=a.columnIndex,f=a.origColspan,h=!s.inInSelection(o);i.shiftKey&&l?o.col<l.from.col?u.push(l.getTopRightCorner().col,c,o.row):o.col>l.from.col?u.push(l.getTopLeftCorner().col,c+f-1,o.row):u.push(c,c+f-1,o.row):(wp(i)||oa(i)&&h)&&u.push(c,c+f-1,o.row),s.selectColumns.apply(s,u)}}},{key:"onBeforeOnCellMouseOver",value:function(i,o,a,s){var l;if(!!this.hot.view.isMouseDown()){var u=this._getHeaderTreeNodeDataByCoords(o);if(!!u){var c=u.columnIndex,f=u.origColspan,h=this.hot.getSelectedRangeLast(),d=h.getTopLeftCorner(),g=h.getBottomRightCorner(),p=h.from;s.column=!0,s.cell=!0;var v=[];o.col<p.col?v.push(g.col,c):o.col>p.col?v.push(d.col,c+f-1):v.push(c,c+f-1),(l=this.hot).selectColumns.apply(l,v)}}}},{key:"onAfterGetColumnHeaderRenderers",value:function(i){if(i){i.length=0;for(var o=0;o<hn(this,Rn).getLayersCount();o++)i.push(this.headerRendererFactory(o))}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(i){for(var o=hn(this,Rn).getLayersCount(),a=i.startColumn,s=!!o,l=0;l<o;l++){var u=hn(this,Rn).findLeftMostColumnIndex(l,i.startColumn),c=this.hot.columnIndexMapper.getRenderableFromVisualIndex(u);if(u>=0&&(s=!1),dr(c)&&c<i.startColumn){a=c;break}}i.startColumn=s?hn(this,Rn).getHeaderTreeNodeData(0,a).columnIndex:a}},{key:"onModifyColWidth",value:function(i,o){var a=this.ghostTable.widthsCache[o];return i>a?i:a}},{key:"onInit",value:function(){this.updatePlugin()}},{key:"onAfterLoadData",value:function(i,o){o||this.updatePlugin()}},{key:"destroy",value:function(){zy(this,Rn,null),hn(this,Ea)!==null&&(hn(this,Ea).unsubscribe(),zy(this,Ea,null)),Gs(Oo(t.prototype),"destroy",this).call(this)}},{key:"_getHeaderTreeNodeDataByCoords",value:function(i){if(!(i.row>=0||i.col<0))return hn(this,Rn).getHeaderTreeNodeData(i.row,i.col)}}],[{key:"PLUGIN_KEY",get:function(){return Lz}},{key:"PLUGIN_PRIORITY",get:function(){return PBe}}]),t}(wt);function Hz(e){return LBe(e)||NBe(e)||DBe(e)||$Be()}function $Be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DBe(e,n){if(!!e){if(typeof e=="string")return Ak(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ak(e,n)}}function NBe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LBe(e){if(Array.isArray(e))return Ak(e)}function Ak(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Yy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yy=function(t){return typeof t}:Yy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function HBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FBe(e,n,t){return n&&Fz(e.prototype,n),t&&Fz(e,t),e}var BBe=function(){function e(n,t){HBe(this,e),this.hot=t,this.data=null,this.plugin=n,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}}return FBe(e,[{key:"setData",value:function(t){this.data=t}},{key:"getData",value:function(){return this.data}},{key:"getRawSourceData",value:function(){var t=null;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}},{key:"updateWithData",value:function(t){this.setData(t),this.rewriteCache()}},{key:"rewriteCache",value:function(){var t=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Le(0,this.data.length-1,function(r){t.cacheNode(t.data[r],0,null)})}},{key:"cacheNode",value:function(t,r,i){var o=this;this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&B(t.__children,function(a){o.cacheNode(a,r+1,t)})}},{key:"getDataObject",value:function(t){return t==null?null:this.cache.rows[t]}},{key:"readTreeNodes",value:function(t,r,i,o){var a=this,s=!1,l=r;if(isNaN(l)&&l.end)return l;var u=t;return u||(u={__children:this.data},s=!0,l-=1),i!=null&&l===i?{result:u,end:!0}:o!=null&&u===o?{result:l,end:!0}:(l+=1,u.__children&&B(u.__children,function(c){if(a.parentReference.set(c,s?null:u),l=a.readTreeNodes(c,l,i,o),isNaN(l)&&l.end)return!1}),l)}},{key:"mockParent",value:function(){var t=this.mockNode();return t.__children=this.data,t}},{key:"mockNode",value:function(){var t={};return st(this.data[0],function(r,i){t[i]=null}),t}},{key:"getRowIndex",value:function(t){return t==null?null:this.cache.nodeInfo.get(t).row}},{key:"getRowIndexWithinParent",value:function(t){var r=null;isNaN(t)?r=t:r=this.getDataObject(t);var i=this.getRowParent(t);return i==null?this.data.indexOf(r):i.__children.indexOf(r)}},{key:"countAllRows",value:function(){var t={__children:this.data};return this.countChildren(t)}},{key:"countChildren",value:function(t){var r=this,i=0,o=t;return isNaN(o)||(o=this.getDataObject(o)),!o||!o.__children?0:(B(o.__children,function(a){i+=1,a.__children&&(i+=r.countChildren(a))}),i)}},{key:"getRowParent",value:function(t){var r;return isNaN(t)?r=t:r=this.getDataObject(t),this.getRowObjectParent(r)}},{key:"getRowObjectParent",value:function(t){return!t||Yy(t)!=="object"?null:this.cache.nodeInfo.get(t).parent}},{key:"getRowLevel",value:function(t){var r=null;return isNaN(t)?r=t:r=this.getDataObject(t),r?this.getRowObjectLevel(r):null}},{key:"getRowObjectLevel",value:function(t){return t==null?null:this.cache.nodeInfo.get(t).level}},{key:"hasChildren",value:function(t){var r=t;return isNaN(r)||(r=this.getDataObject(r)),!!(r.__children&&r.__children.length)}},{key:"isChild",value:function(t){return this.getRowParent(t)!==null}},{key:"getChild",value:function(t,r){var i;return((i=t.__children)===null||i===void 0?void 0:i[r])||null}},{key:"isRowHighestLevel",value:function(t){return!this.isChild(t)}},{key:"isParent",value:function(t){var r,i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&((r=i.__children)===null||r===void 0?void 0:r.length)!==0}},{key:"addChild",value:function(t,r){var i=r;this.hot.runHooks("beforeAddChild",t,i);var o=null;t&&(o=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",o+this.countChildren(t)+1,1);var a=t;t||(a=this.mockParent()),a.__children||(a.__children=[]),i||(i=this.mockNode()),a.__children.push(i),this.rewriteCache();var s=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",t,i)}},{key:"addChildAtIndex",value:function(t,r,i){var o=i,a;if(o||(o=this.mockNode()),this.hot.runHooks("beforeAddChild",t,o,r),t){var s=this.getRowIndex(t),l=s+r+1;this.hot.runHooks("beforeCreateRow",l,1),t.__children.splice(r,null,o),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(l,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",l,1),a=l}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),a=this.getRowIndex(this.data[r]);o=this.getDataObject(a),this.hot.runHooks("afterAddChild",t,o,r)}},{key:"addSibling",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below",i=this.translateTrimmedRow(t),o=this.getRowParent(i),a=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(o,a+1,null);break;case"above":this.addChildAtIndex(o,a,null);break}}},{key:"detachFromParent",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=null,a=[];Array.isArray(t)?(Le(t[0],t[2],function(m){var w=r.translateTrimmedRow(m);a.push(r.getDataObject(w))}),Le(0,a.length-2,function(m){r.detachFromParent(a[m],!1)}),o=a[a.length-1]):o=t;var s=this.getRowIndex(o),l=this.countChildren(o),u=this.getRowIndexWithinParent(o),c=this.getRowParent(o),f=this.getRowParent(c),h=this.getRowIndex(f),d=null;if(this.hot.runHooks("beforeDetachChild",c,o),u!=null){var g=Array.from(new Array(s+l+1).keys()).splice(-1*(l+1));if(this.hot.runHooks("beforeRemoveRow",s,l+1,g,this.plugin.pluginName),c.__children.splice(u,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",s,l+1,g,this.plugin.pluginName),f){d=h+this.countChildren(f);var p=this.getChild(f,this.countChildren(f)-1),v=this.getRowIndex(p);this.hot.runHooks("beforeCreateRow",v+1,l+1,this.plugin.pluginName),f.__children.push(o)}else d=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",d-2,l+1,this.plugin.pluginName),this.data.push(o)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",d-2,l+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",c,o,this.getRowIndex(o)),i&&this.hot.render()}},{key:"filterData",value:function(t,r,i){var o=this,a=[];B(i,function(s){a.push(o.getDataObject(s))}),B(a,function(s){var l=o.getRowIndexWithinParent(s),u=o.getRowParent(s);u===null?o.data.splice(l,1):u.__children.splice(l,1)}),this.rewriteCache()}},{key:"spliceData",value:function(t,r,i){var o=this.getDataObject(t-1),a=null,s=t;if(o&&o.__children&&o.__children.length===0?(a=o,s=0):t<this.countAllRows()&&(a=this.getRowParent(t),s=this.getRowIndexWithinParent(t)),a)if(i){var l;(l=a.__children).splice.apply(l,[s,r].concat(Hz(i)))}else a.__children.splice(s,r);else if(i){var u;(u=this.data).splice.apply(u,[s,r].concat(Hz(i)))}else this.data.splice(s,r);this.rewriteCache()}},{key:"syncRowWithRawSource",value:function(t){var r=t,i=null;do i=this.getRowParent(i),i!==null&&(r=i);while(i!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}},{key:"moveRow",value:function(t,r,i,o){var a=r===this.hot.countRows(),s=this.getRowParent(t),l=this.getRowIndexWithinParent(t),u=s.__children.slice(l,l+1),c=t>r,f=a?this.getRowParent(r-1):this.getRowParent(r);f==null&&(f=this.getRowParent(r-1)),f==null&&(f=this.getDataObject(r-1)),f?f.__children||(f.__children=[]):(f=this.getDataObject(r),f.__children=[]);var h=a||i||o?f.__children.length:this.getRowIndexWithinParent(r),d=s===f;f.__children.splice(h,0,u[0]),s.__children.splice(l+(c&&d?1:0),1),this.syncRowWithRawSource(s),d||this.syncRowWithRawSource(f)}},{key:"translateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}},{key:"untranslateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}}]),e}(),VBe=BBe;function WBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var jBe=function e(n,t){WBe(this,e),this.hot=t,this.plugin=n},Mk=jBe;function Gy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gy=function(t){return typeof t}:Gy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}function UBe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zBe(e,n,t){return n&&Bz(e.prototype,n),t&&Bz(e,t),e}function YBe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&xk(e,n)}function xk(e,n){return xk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xk(e,n)}function GBe(e){var n=qBe();return function(){var r=Ky(e),i;if(n){var o=Ky(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KBe(this,i)}}function KBe(e,n){if(n&&(Gy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(e)}function XBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ky(e)}var ZBe=function(e){YBe(t,e);var n=GBe(t);function t(r,i){var o;return UBe(this,t),o=n.call(this,r,i),o.dataManager=o.plugin.dataManager,o.collapsingUI=o.plugin.collapsingUI,o.rowHeaderWidthCache=null,o}return zBe(t,[{key:"appendLevelIndicators",value:function(i,o){var a=this.hot.toPhysicalRow(i),s=this.dataManager.getRowLevel(a),l=this.dataManager.getDataObject(a),u=o.getElementsByTagName("DIV")[0],c=u.querySelector("span.rowHeader"),f=u.querySelectorAll('[class^="ht_nesting"]');if(B(f,function(p){p&&u.removeChild(p)}),ve(o,t.CSS_CLASSES.indicatorContainer),s){var h=this.hot.rootDocument,d=c.cloneNode(!0);u.innerHTML="",Le(0,s-1,function(){var p=h.createElement("SPAN");ve(p,t.CSS_CLASSES.emptyIndicator),u.appendChild(p)}),u.appendChild(d)}if(this.dataManager.hasChildren(l)){var g=this.hot.rootDocument.createElement("DIV");ve(o,t.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(a)?ve(g,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.expandButton)):ve(g,"".concat(t.CSS_CLASSES.button," ").concat(t.CSS_CLASSES.collapseButton)),u.appendChild(g)}}},{key:"updateRowHeaderWidth",value:function(i){var o=i;o||(o=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*o+25),this.hot.render()}}],[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}]),t}(Mk),Vz=ZBe;function Xy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xy=function(t){return typeof t}:Xy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function Wz(e){return t2e(e)||e2e(e)||JBe(e)||QBe()}function QBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JBe(e,n){if(!!e){if(typeof e=="string")return Pk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pk(e,n)}}function e2e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t2e(e){if(Array.isArray(e))return Pk(e)}function Pk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function n2e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r2e(e,n,t){return n&&jz(e.prototype,n),t&&jz(e,t),e}function i2e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ik(e,n)}function Ik(e,n){return Ik=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ik(e,n)}function o2e(e){var n=l2e();return function(){var r=qy(e),i;if(n){var o=qy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return a2e(this,i)}}function a2e(e,n){if(n&&(Xy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s2e(e)}function s2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l2e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qy(e)}var u2e=function(e){i2e(t,e);var n=o2e(t);function t(r,i){var o;return n2e(this,t),o=n.call(this,r,i),o.dataManager=o.plugin.dataManager,o.collapsedRows=[],o.collapsedRowsStash={stash:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;o.lastCollapsedRows=o.collapsedRows.slice(0),o.expandMultipleChildren(o.lastCollapsedRows,s)},shiftStash:function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;l==null&&(l=1/0),B(o.lastCollapsedRows,function(c,f){c>=s&&c<l&&(o.lastCollapsedRows[f]=c+u)})},applyStash:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.collapseMultipleChildren(o.lastCollapsedRows,s),o.lastCollapsedRows=void 0},trimStash:function(s,l){Le(s,s+l-1,function(u){var c=o.lastCollapsedRows.indexOf(u);c>-1&&o.lastCollapsedRows.splice(c,1)})}},o}return r2e(t,[{key:"collapseChildren",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=[],u=null,c=null,f=null;return isNaN(i)?(u=i,c=this.dataManager.getRowIndex(u)):(u=this.dataManager.getDataObject(i),c=i),this.dataManager.hasChildren(u)&&B(u.__children,function(h){l.push(o.dataManager.getRowIndex(h))}),f=this.collapseRows(l,!0,!1),s&&this.trimRows(f),a&&this.renderAndAdjust(),this.collapsedRows.indexOf(c)===-1&&this.collapsedRows.push(c),f}},{key:"collapseMultipleChildren",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=[];B(i,function(u){l.push.apply(l,Wz(o.collapseChildren(u,!1,!1)))}),s&&this.trimRows(l),a&&this.renderAndAdjust()}},{key:"collapseRow",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([i],o)}},{key:"collapseRows",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=[];return B(i,function(u){l.push(u),a&&o.collapseChildRows(u,l)}),s&&this.trimRows(l),l}},{key:"collapseChildRows",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(i)){var l=this.dataManager.getDataObject(i);B(l.__children,function(u){var c=o.dataManager.getRowIndex(u);a.push(c),o.collapseChildRows(c,a)})}s&&this.trimRows(a)}},{key:"expandRow",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([i],o)}},{key:"expandRows",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=[];return B(i,function(u){l.push(u),a&&o.expandChildRows(u,l)}),s&&this.untrimRows(l),l}},{key:"expandChildRows",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(i)){var l=this.dataManager.getDataObject(i);B(l.__children,function(u){if(!o.isAnyParentCollapsed(u)){var c=o.dataManager.getRowIndex(u);a.push(c),o.expandChildRows(c,a)}})}s&&this.untrimRows(a)}},{key:"expandChildren",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=[],u=null,c=null,f=null;return isNaN(i)?(u=i,c=this.dataManager.getRowIndex(i)):(u=this.dataManager.getDataObject(i),c=i),this.collapsedRows.splice(this.collapsedRows.indexOf(c),1),this.dataManager.hasChildren(u)&&B(u.__children,function(h){var d=o.dataManager.getRowIndex(h);l.push(d)}),f=this.expandRows(l,!0,!1),s&&this.untrimRows(f),a&&this.renderAndAdjust(),f}},{key:"expandMultipleChildren",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=[];B(i,function(u){l.push.apply(l,Wz(o.expandChildren(u,!1,!1)))}),s&&this.untrimRows(l),a&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var i=this,o=this.dataManager.getData(),a=[];B(o,function(s){i.dataManager.hasChildren(s)&&a.push(s)}),this.collapseMultipleChildren(a),this.renderAndAdjust()}},{key:"expandAll",value:function(){var i=this,o=this.dataManager.getData(),a=[];B(o,function(s){i.dataManager.hasChildren(s)&&a.push(s)}),this.expandMultipleChildren(a),this.renderAndAdjust()}},{key:"trimRows",value:function(i){var o=this;this.hot.batchExecution(function(){B(i,function(a){o.plugin.collapsedRowsMap.setValueAtIndex(a,!0)})},!0)}},{key:"untrimRows",value:function(i){var o=this;this.hot.batchExecution(function(){B(i,function(a){o.plugin.collapsedRowsMap.setValueAtIndex(a,!1)})},!0)}},{key:"areChildrenCollapsed",value:function(i){var o=this,a=isNaN(i)?i:this.dataManager.getDataObject(i),s=!0;return a===null&&(a={__children:this.dataManager.data}),this.dataManager.hasChildren(a)&&B(a.__children,function(l){var u=o.dataManager.getRowIndex(l);if(!o.plugin.collapsedRowsMap.getValueAtIndex(u))return s=!1,!1}),s}},{key:"isAnyParentCollapsed",value:function(i){for(var o=i;o!==null;){o=this.dataManager.getRowParent(o);var a=this.dataManager.getRowIndex(o);if(this.collapsedRows.indexOf(a)>-1)return!0}return!1}},{key:"toggleState",value:function(i,o){if(!(o.col>=0)){var a=this.translateTrimmedRow(o.row);ze(i.target,Vz.CSS_CLASSES.button)&&(this.areChildrenCollapsed(a)?this.expandChildren(a):this.collapseChildren(a),Lt(i))}}},{key:"translateTrimmedRow",value:function(i){return this.hot.toPhysicalRow(i)}},{key:"untranslateTrimmedRow",value:function(i){return this.hot.toVisualRow(i)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.adjustElementsSize()}}]),t}(Mk),c2e=u2e;function Zy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zy=function(t){return typeof t}:Zy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}function f2e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Uz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h2e(e,n,t){return n&&Uz(e.prototype,n),t&&Uz(e,t),e}function d2e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&$k(e,n)}function $k(e,n){return $k=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$k(e,n)}function g2e(e){var n=v2e();return function(){var r=Qy(e),i;if(n){var o=Qy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return p2e(this,i)}}function p2e(e,n){if(n&&(Zy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zz(e)}function zz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v2e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qy(e)}var Yz=new WeakMap,m2e=function(e){d2e(t,e);var n=g2e(t);function t(r,i){var o;return f2e(this,t),o=n.call(this,r,i),Yz.set(zz(o),{row_above:function(s,l){var u=l[l.length-1];o.dataManager.addSibling(u.start.row,"above")},row_below:function(s,l){var u=l[l.length-1];o.dataManager.addSibling(u.start.row,"below")}}),o.dataManager=o.plugin.dataManager,o}return h2e(t,[{key:"appendOptions",value:function(i){var o=this,a=[{key:"add_child",name:function(){return this.getTranslatedPhrase(qR)},callback:function(){var l=o.dataManager.translateTrimmedRow(o.hot.getSelectedLast()[0]),u=o.dataManager.getDataObject(l);o.dataManager.addChild(u)},disabled:function(){var l=o.hot.getSelectedLast();return!l||l[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(ZR)},callback:function(){o.dataManager.detachFromParent(o.hot.getSelectedLast())},disabled:function(){var l=o.hot.getSelectedLast(),u=o.dataManager.translateTrimmedRow(l[0]),c=o.dataManager.getRowParent(u);return!c||!l||l[0]<0||o.hot.selection.isSelectedByColumnHeader()||o.hot.countRows()>=o.hot.getSettings().maxRows}},{name:"---------"}];return Le(0,i.items.length-1,function(s){if(s===0)return B(a,function(l,u){i.items.splice(s+u,0,l)}),!1}),this.modifyRowInsertingOptions(i)}},{key:"modifyRowInsertingOptions",value:function(i){var o=Yz.get(this);return Le(0,i.items.length-1,function(a){var s=o[i.items[a].key];s!=null&&(i.items[a].callback=s)}),i}}]),t}(Mk),y2e=m2e,Gz;function Kz(e){return S2e(e)||_2e(e)||w2e(e)||b2e()}function b2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2e(e,n){if(!!e){if(typeof e=="string")return Dk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dk(e,n)}}function _2e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S2e(e){if(Array.isArray(e))return Dk(e)}function Dk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function C2e(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function R2e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O2e(e,n,t){return n&&Xz(e.prototype,n),t&&Xz(e,t),e}var E2e=function(){function e(n){R2e(this,e),this.plugin=n,this.hot=n.hot,this.dataManager=n.dataManager,this.collapsingUI=n.collapsingUI}return O2e(e,[{key:"onBeforeRowMove",value:function(t,r,i,o){var a=this,s=this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:o});if(s)return!1;this.movedToCollapsed=!1;var l=i===this.hot.countRows(),u=l?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),c=!0,f=t.map(function(v){if(!c)return!1;var m=a.dataManager.translateTrimmedRow(v);return c=a.shouldAllowMoving(m,u),m}),h=f.indexOf(u)===-1;if(!c||!h)return!1;var d=this.getBaseParent(f),g=this.getTargetParent(l,u),p=d===g;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(g),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(f,u,p),this.moveRows(f,u,g),this.dataManager.rewriteCache(),this.moveCellsMeta(f,u),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,o,o&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}},{key:"displayAPICompatibilityWarning",value:function(t){var r=t.rows,i=t.finalIndex,o=t.dropIndex,a=t.movePossible,s=!1;return Dt(o)&&(Nt(Mt(Gz||(Gz=C2e([`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows 
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`],[`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`])))),this.hot.runHooks("afterRowMove",r,i,o,a,!1),s=!0),s}},{key:"shouldAllowMoving",value:function(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||r===0)}},{key:"getBaseParent",value:function(t){return this.dataManager.getRowParent(t[0])}},{key:"getTargetParent",value:function(t,r){var i=this.dataManager.getRowParent(t?r-1:r);return i==null&&(i=this.dataManager.getRowParent(r-1)),i}},{key:"shiftCollapsibleParentsLocations",value:function(t,r,i){i||(Math.max.apply(Math,Kz(t))<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}},{key:"moveRows",value:function(t,r,i){var o=this,a=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(function(){t.forEach(function(s){o.dataManager.moveRow(s,r,o.movedToCollapsed,a)})})}},{key:"moveCellsMeta",value:function(t,r){var i=this,o,a=[],s=Math.max.apply(Math,Kz(t))<r;t.forEach(function(l){a.push(i.hot.getCellMetaAtRow(l))}),this.hot.spliceCellsMeta(t[0],t.length),(o=this.hot).spliceCellsMeta.apply(o,[r-(s?a.length:0),0].concat(a))}},{key:"selectCells",value:function(t,r){var i=t.length,o=0,a=0,s=null,l=null;if(this.movedToCollapsed){var u=null;t[i-1]<r?u=this.dataManager.translateTrimmedRow(r-i):u=this.dataManager.translateTrimmedRow(r);var c=this.dataManager.getRowParent(u===null?this.hot.countSourceRows()-1:u-1),f=this.dataManager.getRowIndex(c);o=this.dataManager.untranslateTrimmedRow(f),a=o}else t[i-1]<r?(a=r-1,o=a-i+1):(o=r,a=o+i-1);s=this.hot.selection,l=this.hot.countCols()-1,s.setRangeStart(new ae(o,0)),s.setRangeEnd(new ae(a,l),!0)}},{key:"isRowOrderChanged",value:function(t,r){return t.some(function(i,o){return i-o!==r})}}]),e}();function Jy(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jy=function(t){return typeof t}:Jy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}function qz(e){return M2e(e)||A2e(e)||k2e(e)||T2e()}function T2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(e,n){if(!!e){if(typeof e=="string")return Nk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nk(e,n)}}function A2e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M2e(e){if(Array.isArray(e))return Nk(e)}function Nk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x2e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zz(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P2e(e,n,t){return n&&Zz(e.prototype,n),t&&Zz(e,t),e}function Ks(){return typeof Reflect!="undefined"&&Reflect.get?Ks=Reflect.get:Ks=function(n,t,r){var i=I2e(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Ks.apply(this,arguments)}function I2e(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Eo(e),e!==null););return e}function $2e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Lk(e,n)}function Lk(e,n){return Lk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Lk(e,n)}function D2e(e){var n=L2e();return function(){var r=Eo(e),i;if(n){var o=Eo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return N2e(this,i)}}function N2e(e,n){if(n&&(Jy(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qz(e)}function Qz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L2e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(e)}var Jz="nestedRows",H2e=300,To=new WeakMap,F2e="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.",B2e=function(e){$2e(t,e);var n=D2e(t);function t(r){var i;return x2e(this,t),i=n.call(this,r),i.dataManager=null,i.headersUI=null,i.collapsedRowsMap=null,To.set(Qz(i),{movedToCollapsed:!1,skipRender:null,skipCoreAPIModifiers:!1}),i}return P2e(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[Jz]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new Bf),this.dataManager=new VBe(this,this.hot),this.collapsingUI=new c2e(this,this.hot),this.headersUI=new Vz(this,this.hot),this.contextMenuUI=new y2e(this,this.hot),this.rowMoveController=new E2e(this),this.addHook("afterInit",function(){return i.onAfterInit.apply(i,arguments)}),this.addHook("beforeViewRender",function(){return i.onBeforeViewRender.apply(i,arguments)}),this.addHook("modifyRowData",function(){return i.onModifyRowData.apply(i,arguments)}),this.addHook("modifySourceLength",function(){return i.onModifySourceLength.apply(i,arguments)}),this.addHook("beforeDataSplice",function(){return i.onBeforeDataSplice.apply(i,arguments)}),this.addHook("filterData",function(){return i.onFilterData.apply(i,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return i.onAfterContextMenuDefaultOptions.apply(i,arguments)}),this.addHook("afterGetRowHeader",function(){return i.onAfterGetRowHeader.apply(i,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return i.onBeforeOnCellMouseDown.apply(i,arguments)}),this.addHook("beforeRemoveRow",function(){return i.onBeforeRemoveRow.apply(i,arguments)}),this.addHook("afterRemoveRow",function(){return i.onAfterRemoveRow.apply(i,arguments)}),this.addHook("beforeAddChild",function(){return i.onBeforeAddChild.apply(i,arguments)}),this.addHook("afterAddChild",function(){return i.onAfterAddChild.apply(i,arguments)}),this.addHook("beforeDetachChild",function(){return i.onBeforeDetachChild.apply(i,arguments)}),this.addHook("afterDetachChild",function(){return i.onAfterDetachChild.apply(i,arguments)}),this.addHook("modifyRowHeaderWidth",function(){return i.onModifyRowHeaderWidth.apply(i,arguments)}),this.addHook("afterCreateRow",function(){return i.onAfterCreateRow.apply(i,arguments)}),this.addHook("beforeRowMove",function(){return i.onBeforeRowMove.apply(i,arguments)}),this.addHook("beforeLoadData",function(o){return i.onBeforeLoadData(o)}),Ks(Eo(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),Ks(Eo(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin();var i=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(i),Ks(Eo(t.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(i,o,a,s){return this.rowMoveController.onBeforeRowMove(i,o,a,s)}},{key:"disableCoreAPIModifiers",value:function(){var i=To.get(this);i.skipCoreAPIModifiers=!0}},{key:"enableCoreAPIModifiers",value:function(){var i=To.get(this);i.skipCoreAPIModifiers=!1}},{key:"onBeforeOnCellMouseDown",value:function(i,o,a){this.collapsingUI.toggleState(i,o,a)}},{key:"onModifyRowData",value:function(i){var o=To.get(this);if(!o.skipCoreAPIModifiers)return this.dataManager.getDataObject(i)}},{key:"onModifySourceLength",value:function(){var i=To.get(this);if(!i.skipCoreAPIModifiers)return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(i,o,a){var s=To.get(this);return s.skipCoreAPIModifiers||this.dataManager.isRowHighestLevel(i)?!0:(this.dataManager.spliceData(i,o,a),!1)}},{key:"onFilterData",value:function(i,o,a){var s=To.get(this);return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(a[0],o),this.collapsingUI.collapsedRowsStash.shiftStash(a[0],null,-1*o),this.dataManager.filterData(i,o,a),s.skipRender=!0,this.dataManager.getData().slice()}},{key:"onAfterContextMenuDefaultOptions",value:function(i){return this.contextMenuUI.appendOptions(i)}},{key:"onAfterGetRowHeader",value:function(i,o){this.headersUI.appendLevelIndicators(i,o)}},{key:"onModifyRowHeaderWidth",value:function(i){return this.headersUI.rowHeaderWidthCache||i}},{key:"onAfterRemoveRow",value:function(i,o,a,s){var l=this;if(s!==this.pluginName){var u=To.get(this);setTimeout(function(){u.skipRender=null,l.headersUI.updateRowHeaderWidth(),l.collapsingUI.collapsedRowsStash.applyStash()},0)}}},{key:"onBeforeRemoveRow",value:function(i,o,a){var s=this,l=Array.from(a.reduce(function(u,c){if(s.dataManager.isParent(c)){var f=s.dataManager.getDataObject(c).__children;return u.add(c),Array.isArray(f)&&f.forEach(function(h){return u.add(s.dataManager.getRowIndex(h))}),u}return u.add(c)},new Set));a.length=0,a.push.apply(a,qz(l))}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(i,o){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(o)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(i,o,a){this.collapsingUI.collapsedRowsStash.shiftStash(a,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(){this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){var i=Math.max.apply(Math,qz(this.dataManager.cache.levels));i>0&&this.headersUI.updateRowHeaderWidth(i)}},{key:"onBeforeViewRender",value:function(i,o){var a=To.get(this);a.skipRender&&(o.skipRender=!0)}},{key:"destroy",value:function(){Ks(Eo(t.prototype),"destroy",this).call(this)}},{key:"onBeforeLoadData",value:function(i){if(!lF(i)){zC(F2e),this.disablePlugin();return}this.dataManager.setData(i),this.dataManager.rewriteCache()}}],[{key:"PLUGIN_KEY",get:function(){return Jz}},{key:"PLUGIN_PRIORITY",get:function(){return H2e}}]),t}(wt);function V2e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function e3(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W2e(e,n,t){return n&&e3(e.prototype,n),t&&e3(e,t),e}var j2e=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;V2e(this,e),this.rootWindow=t,this.prefix=n,this.savedKeys=[],this.loadSavedKeys()}return W2e(e,[{key:"saveValue",value:function(t,r){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(t),JSON.stringify(r)),this.savedKeys.indexOf(t)===-1&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,r){var i=typeof t=="undefined"?r:t,o=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(i));return o===null?void 0:JSON.parse(o)}},{key:"reset",value:function(t){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(t))}},{key:"resetAll",value:function(){var t=this;B(this.savedKeys,function(r,i){t.rootWindow.localStorage.removeItem("".concat(t.prefix,"_").concat(t.savedKeys[i]))}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),r=typeof t=="string"?JSON.parse(t):void 0;this.savedKeys=r||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),e}(),U2e=j2e;function eb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eb=function(t){return typeof t}:eb=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(e)}function z2e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t3(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y2e(e,n,t){return n&&t3(e.prototype,n),t&&t3(e,t),e}function Xs(){return typeof Reflect!="undefined"&&Reflect.get?Xs=Reflect.get:Xs=function(n,t,r){var i=G2e(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Xs.apply(this,arguments)}function G2e(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=ko(e),e!==null););return e}function K2e(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Hk(e,n)}function Hk(e,n){return Hk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Hk(e,n)}function X2e(e){var n=Q2e();return function(){var r=ko(e),i;if(n){var o=ko(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return q2e(this,i)}}function q2e(e,n){if(n&&(eb(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z2e(e)}function Z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q2e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(e)}De.getSingleton().register("persistentStateSave");De.getSingleton().register("persistentStateLoad");De.getSingleton().register("persistentStateReset");var n3="persistentState",J2e=0,eVe=function(e){K2e(t,e);var n=X2e(t);function t(r){var i;return z2e(this,t),i=n.call(this,r),i.storage=void 0,i}return Y2e(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[n3]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.storage||(this.storage=new U2e(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",function(o,a){return i.saveValue(o,a)}),this.addHook("persistentStateLoad",function(o,a){return i.loadValue(o,a)}),this.addHook("persistentStateReset",function(){return i.resetValue()}),Xs(ko(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,Xs(ko(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Xs(ko(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(i,o){o.value=this.storage.loadValue(i)}},{key:"saveValue",value:function(i,o){this.storage.saveValue(i,o)}},{key:"resetValue",value:function(i){typeof i=="undefined"?this.storage.resetAll():this.storage.reset(i)}},{key:"destroy",value:function(){Xs(ko(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return n3}},{key:"PLUGIN_PRIORITY",get:function(){return J2e}}]),t}(wt);function tb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tb=function(t){return typeof t}:tb=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tb(e)}function tVe(e){return oVe(e)||iVe(e)||rVe(e)||nVe()}function nVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rVe(e,n){if(!!e){if(typeof e=="string")return Fk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fk(e,n)}}function iVe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oVe(e){if(Array.isArray(e))return Fk(e)}function Fk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function aVe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r3(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sVe(e,n,t){return n&&r3(e.prototype,n),t&&r3(e,t),e}function qs(){return typeof Reflect!="undefined"&&Reflect.get?qs=Reflect.get:qs=function(n,t,r){var i=lVe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},qs.apply(this,arguments)}function lVe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Ao(e),e!==null););return e}function uVe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Bk(e,n)}function Bk(e,n){return Bk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Bk(e,n)}function cVe(e){var n=dVe();return function(){var r=Ao(e),i;if(n){var o=Ao(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fVe(this,i)}}function fVe(e,n){if(n&&(tb(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hVe(e)}function hVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}var Vk="search",gVe=190,pVe="htSearchResult",vVe=function(n,t,r,i,o){n.getCellMeta(t,r).isSearchResult=o},mVe=function(n,t,r){return Dt(n)||n===null||!n.toLocaleLowerCase||n.length===0||Dt(t)||t===null?!1:t.toString().toLocaleLowerCase(r.locale).indexOf(n.toLocaleLowerCase(r.locale))!==-1},yVe=function(e){uVe(t,e);var n=cVe(t);function t(r){var i;return aVe(this,t),i=n.call(this,r),i.callback=vVe,i.queryMethod=mVe,i.searchResultClass=pVe,i}return sVe(t,[{key:"isEnabled",value:function(){return this.hot.getSettings()[Vk]}},{key:"enablePlugin",value:function(){var i=this;if(!this.enabled){var o=this.hot.getSettings()[Vk];this.updatePluginSettings(o),this.addHook("beforeRenderer",function(){return i.onBeforeRenderer.apply(i,arguments)}),qs(Ao(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var i=this,o=function(){return i.onBeforeRenderer.apply(i,arguments)};this.hot.addHook("beforeRenderer",o),this.hot.addHookOnce("afterViewRender",function(){i.hot.removeHook("beforeRenderer",o)}),qs(Ao(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),qs(Ao(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod(),l=this.hot.countRows(),u=this.hot.countCols(),c=[],f=this.hot;return Le(0,l-1,function(h){Le(0,u-1,function(d){var g=o.hot.getDataAtCell(h,d),p=o.hot.getCellMeta(h,d),v=p.search.callback||a,m=p.search.queryMethod||s,w=m(i,g,p);if(w){var C={row:h,col:d,data:g};c.push(C)}v&&v(f,h,d,g,w)})}),c}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(i){this.callback=i}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(i){this.queryMethod=i}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(i){this.searchResultClass=i}},{key:"updatePluginSettings",value:function(i){rt(i)&&(i.searchResultClass&&this.setSearchResultClass(i.searchResultClass),i.queryMethod&&this.setQueryMethod(i.queryMethod),i.callback&&this.setCallback(i.callback))}},{key:"onBeforeRenderer",value:function(i,o,a,s,l,u){var c=u.className||[],f=[];if(typeof c=="string")f=c.split(" ");else{var h;(h=f).push.apply(h,tVe(c))}this.isEnabled()&&u.isSearchResult?f.includes(this.searchResultClass)||f.push("".concat(this.searchResultClass)):f.includes(this.searchResultClass)&&f.splice(f.indexOf(this.searchResultClass),1),u.className=f.join(" ")}},{key:"destroy",value:function(){qs(Ao(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return Vk}},{key:"PLUGIN_PRIORITY",get:function(){return gVe}}]),t}(wt);function nb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nb=function(t){return typeof t}:nb=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nb(e)}function bVe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i3(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wVe(e,n,t){return n&&i3(e.prototype,n),t&&i3(e,t),e}function Wu(){return typeof Reflect!="undefined"&&Reflect.get?Wu=Reflect.get:Wu=function(n,t,r){var i=_Ve(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Wu.apply(this,arguments)}function _Ve(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Ta(e),e!==null););return e}function SVe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Wk(e,n)}function Wk(e,n){return Wk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Wk(e,n)}function CVe(e){var n=EVe();return function(){var r=Ta(e),i;if(n){var o=Ta(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RVe(this,i)}}function RVe(e,n){if(n&&(nb(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OVe(e)}function OVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ta(e)}var TVe="touchScroll",kVe=200,AVe=function(e){SVe(t,e);var n=CVe(t);function t(r){var i;return bVe(this,t),i=n.call(this,r),i.scrollbars=[],i.clones=[],i.lockedCollection=!1,i.freezeOverlays=!1,i}return wVe(t,[{key:"isEnabled",value:function(){return vS()}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.addHook("afterViewRender",function(){return i.onAfterViewRender()}),this.registerEvents(),Wu(Ta(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,Wu(Ta(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Wu(Ta(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var i=this;this.addHook("beforeTouchScroll",function(){return i.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return i.onAfterMomentumScroll()})}},{key:"onAfterViewRender",value:function(){if(!this.lockedCollection){var i=this.hot.view.wt.wtOverlays,o=i.topOverlay,a=i.bottomOverlay,s=i.leftOverlay,l=i.topLeftCornerOverlay,u=i.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(o),a.clone&&this.scrollbars.push(a),this.scrollbars.push(s),l&&this.scrollbars.push(l),u&&u.clone&&this.scrollbars.push(u),this.clones.length=0,o.needFullRender&&this.clones.push(o.clone.wtTable.holder.parentNode),a.needFullRender&&this.clones.push(a.clone.wtTable.holder.parentNode),s.needFullRender&&this.clones.push(s.clone.wtTable.holder.parentNode),l&&this.clones.push(l.clone.wtTable.holder.parentNode),u&&u.clone&&this.clones.push(u.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,B(this.clones,function(i){ve(i,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var i=this;this.freezeOverlays=!1,B(this.clones,function(o){Je(o,"hide-tween"),ve(o,"show-tween")}),setTimeout(function(){B(i.clones,function(o){Je(o,"show-tween")})},400),B(this.scrollbars,function(o){o.refresh(),o.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}],[{key:"PLUGIN_KEY",get:function(){return TVe}},{key:"PLUGIN_PRIORITY",get:function(){return kVe}}]),t}(wt);function rb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rb=function(t){return typeof t}:rb=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(e)}function MVe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o3(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xVe(e,n,t){return n&&o3(e.prototype,n),t&&o3(e,t),e}function Zs(){return typeof Reflect!="undefined"&&Reflect.get?Zs=Reflect.get:Zs=function(n,t,r){var i=PVe(n,t);if(!!i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?n:r):o.value}},Zs.apply(this,arguments)}function PVe(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Mo(e),e!==null););return e}function IVe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&jk(e,n)}function jk(e,n){return jk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},jk(e,n)}function $Ve(e){var n=LVe();return function(){var r=Mo(e),i;if(n){var o=Mo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return DVe(this,i)}}function DVe(e,n){if(n&&(rb(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NVe(e)}function NVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(e)}var ib="trimRows",HVe=330,FVe=function(e){IVe(t,e);var n=$Ve(t);function t(r){var i;return MVe(this,t),i=n.call(this,r),i.trimmedRowsMap=null,i}return xVe(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[ib]}},{key:"enablePlugin",value:function(){var i=this;this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new Bf),this.trimmedRowsMap.addLocalHook("init",function(){return i.onMapInit()}),Zs(Mo(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){var i=this,o=this.hot.getSettings()[ib];Array.isArray(o)&&this.hot.batchExecution(function(){i.trimmedRowsMap.clear(),B(o,function(a){i.trimmedRowsMap.setValueAtIndex(a,!0)})},!0),Zs(Mo(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.hot.rowIndexMapper.unregisterMap("trimRows"),Zs(Mo(t.prototype),"disablePlugin",this).call(this)}},{key:"getTrimmedRows",value:function(){return this.trimmedRowsMap.getTrimmedIndexes()}},{key:"trimRows",value:function(i){var o=this,a=this.getTrimmedRows(),s=this.isValidConfig(i),l=a;s&&(l=Array.from(new Set(a.concat(i))));var u=this.hot.runHooks("beforeTrimRow",a,l,s);u!==!1&&(s&&this.hot.batchExecution(function(){B(i,function(c){o.trimmedRowsMap.setValueAtIndex(c,!0)})},!0),this.hot.runHooks("afterTrimRow",a,l,s,s&&l.length>a.length))}},{key:"trimRow",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.trimRows(o)}},{key:"untrimRows",value:function(i){var o=this.getTrimmedRows(),a=this.isValidConfig(i),s=o,l=this.trimmedRowsMap.getValues().slice(),u=i.length>0;a&&u&&(B(i,function(f){l[f]=!1}),s=Qt(l,function(f,h,d){return h&&f.push(d),f},[]));var c=this.hot.runHooks("beforeUntrimRow",o,s,a&&u);c!==!1&&(a&&u&&this.trimmedRowsMap.setValues(l),this.hot.runHooks("afterUntrimRow",o,s,a&&u,a&&s.length<o.length))}},{key:"untrimRow",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.untrimRows(o)}},{key:"isTrimmed",value:function(i){return this.trimmedRowsMap.getValueAtIndex(i)||!1}},{key:"untrimAll",value:function(){this.untrimRows(this.getTrimmedRows())}},{key:"isValidConfig",value:function(i){var o=this.hot.countSourceRows();return i.every(function(a){return Number.isInteger(a)&&a>=0&&a<o})}},{key:"onMapInit",value:function(){var i=this,o=this.hot.getSettings()[ib];Array.isArray(o)&&this.hot.batchExecution(function(){B(o,function(a){i.trimmedRowsMap.setValueAtIndex(a,!0)})},!0)}},{key:"destroy",value:function(){Zs(Mo(t.prototype),"destroy",this).call(this)}}],[{key:"PLUGIN_KEY",get:function(){return ib}},{key:"PLUGIN_PRIORITY",get:function(){return HVe}}]),t}(wt);function ob(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ob=function(t){return typeof t}:ob=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ob(e)}function a3(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s3(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l3(e,n,t){return n&&s3(e.prototype,n),t&&s3(e,t),e}function u3(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Uk(e,n)}function Uk(e,n){return Uk=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Uk(e,n)}function c3(e){var n=WVe();return function(){var r=ab(e),i;if(n){var o=ab(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return BVe(this,i)}}function BVe(e,n){if(n&&(ob(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VVe(e)}function VVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ab(e)}function jVe(e){return YVe(e)||zVe(e)||h3(e)||UVe()}function UVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zVe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YVe(e){if(Array.isArray(e))return zk(e)}function f3(e,n){return XVe(e)||KVe(e,n)||h3(e,n)||GVe()}function GVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3(e,n){if(!!e){if(typeof e=="string")return zk(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zk(e,n)}}function zk(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function KVe(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,a,s;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(r.push(a.value),!(n&&r.length===n));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function XVe(e){if(Array.isArray(e))return e}var qVe="undoRedo";function Ie(e){var n=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,e.addHook("afterChange",function(t,r){var i=this,o=t&&t.length;if(!!o){var a=t.find(function(l){var u=f3(l,4),c=u[2],f=u[3];return c!==f});if(!!a){var s=function(){var u=t.reduce(function(f,h){return f.push(jVe(h)),f},[]);B(u,function(f){f[1]=e.propToCol(f[1])});var c=o>1?i.getSelected():[[u[0][0],u[0][1]]];return new Ie.ChangeAction(u,c)};n.done(s,r)}}}),e.addHook("afterCreateRow",function(t,r,i){n.done(function(){return new Ie.CreateRowAction(t,r)},i)}),e.addHook("beforeRemoveRow",function(t,r,i,o){var a=function(){var l=n.instance.getSourceDataArray(),u=(l.length+t)%l.length,c=e.toPhysicalRow(u),f=Bn(l.slice(c,c+r));return new Ie.RemoveRowAction(u,f,e.getSettings().fixedRowsBottom,e.getSettings().fixedRowsTop)};n.done(a,o)}),e.addHook("afterCreateCol",function(t,r,i){n.done(function(){return new Ie.CreateColumnAction(t,r)},i)}),e.addHook("beforeRemoveCol",function(t,r,i,o){var a=function(){var l=n.instance.getSourceDataArray(),u=(n.instance.countCols()+t)%n.instance.countCols(),c=[],f=[],h=[];Le(l.length-1,function(p){var v=[],m=l[p];Le(u,u+(r-1),function(w){v.push(m[e.toPhysicalColumn(w)])}),c.push(v)}),Le(r-1,function(p){h.push(e.toPhysicalColumn(u+p))}),Array.isArray(e.getSettings().colHeaders)&&Le(r-1,function(p){f.push(e.getSettings().colHeaders[e.toPhysicalColumn(u+p)]||null)});var d=e.columnIndexMapper.getIndexesSequence(),g=e.rowIndexMapper.getIndexesSequence();return new Ie.RemoveColumnAction(u,h,c,f,d,g,e.getSettings().fixedColumnsLeft)};n.done(a,o)}),e.addHook("beforeCellAlignment",function(t,r,i,o){n.done(function(){return new Ie.CellAlignmentAction(t,r,i,o)})}),e.addHook("beforeFilter",function(t){n.done(function(){return new Ie.FiltersAction(t)})}),e.addHook("beforeRowMove",function(t,r){t!==!1&&n.done(function(){return new Ie.RowMoveAction(t,r)})}),e.addHook("beforeMergeCells",function(t,r){r||n.done(function(){return new Ie.MergeCellsAction(e,t)})}),e.addHook("afterUnmergeCells",function(t,r){r||n.done(function(){return new Ie.UnmergeCellsAction(e,t)})}),e.addHook("afterInit",function(){n.init()})}Ie.prototype.done=function(e,n){if(!this.ignoreNewActions){var t=n==="UndoRedo.undo"||n==="UndoRedo.redo"||n==="auto";if(!t){var r=this.doneActions.slice(),i=this.instance.runHooks("beforeUndoStackChange",r,n);if(i!==!1){var o=e(),a=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",a),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",a,this.undoneActions.slice())}}}};Ie.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",e);var n=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",e,this.doneActions.slice());var t=Bn(n),r=this.instance.runHooks("beforeUndo",t);if(r===!1)return;this.ignoreNewActions=!0;var i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),n.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(n)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",t)}};Ie.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",e);var n=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",e,this.undoneActions.slice());var t=Bn(n),r=this.instance.runHooks("beforeRedo",t);if(r===!1)return;this.ignoreNewActions=!0;var i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),n.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(n)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",t)}};Ie.prototype.isUndoAvailable=function(){return this.doneActions.length>0};Ie.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};Ie.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};Ie.prototype.isEnabled=function(){return this.enabled};Ie.prototype.enable=function(){if(!this.isEnabled()){var e=this.instance;this.enabled=!0,JVe(e),e.addHook("beforeKeyDown",d3),e.addHook("afterChange",g3)}};Ie.prototype.disable=function(){if(!!this.isEnabled()){var e=this.instance;this.enabled=!1,eWe(e),e.removeHook("beforeKeyDown",d3),e.removeHook("afterChange",g3)}};Ie.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};Ie.Action=function(){};Ie.Action.prototype.undo=function(){};Ie.Action.prototype.redo=function(){};Ie.ChangeAction=function(e,n){this.changes=e,this.selected=n,this.actionType="change"};Ui(Ie.ChangeAction,Ie.Action);Ie.ChangeAction.prototype.undo=function(e,n){for(var t=Bn(this.changes),r=e.countEmptyRows(!0),i=e.countEmptyCols(!0),o=0,a=t.length;o<a;o++)t[o].splice(3,1);e.addHookOnce("afterChange",n),e.setDataAtCell(t,null,null,"UndoRedo.undo");for(var s=0,l=t.length;s<l;s++){var u=f3(t[s],2),c=u[0],f=u[1];e.getSettings().minSpareRows&&c+1+e.getSettings().minSpareRows===e.countRows()&&r===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(c+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&f+1+e.getSettings().minSpareCols===e.countCols()&&i===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(f+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())}e.selectCells(this.selected,!1,!1)};Ie.ChangeAction.prototype.redo=function(e,n){for(var t=Bn(this.changes),r=0,i=t.length;r<i;r++)t[r].splice(2,1);e.addHookOnce("afterChange",n),e.setDataAtCell(t,null,null,"UndoRedo.redo"),this.selected&&e.selectCells(this.selected,!1,!1)};Ie.CreateRowAction=function(e,n){this.index=e,this.amount=n,this.actionType="insert_row"};Ui(Ie.CreateRowAction,Ie.Action);Ie.CreateRowAction.prototype.undo=function(e,n){var t=e.countRows(),r=e.getSettings().minSpareRows;this.index>=t&&this.index-r<t&&(this.index-=r),e.addHookOnce("afterRemoveRow",n),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};Ie.CreateRowAction.prototype.redo=function(e,n){e.addHookOnce("afterCreateRow",n),e.alter("insert_row",this.index,this.amount,"UndoRedo.redo")};Ie.RemoveRowAction=function(e,n,t,r){this.index=e,this.data=n,this.actionType="remove_row",this.fixedRowsBottom=t,this.fixedRowsTop=r};Ui(Ie.RemoveRowAction,Ie.Action);Ie.RemoveRowAction.prototype.undo=function(e,n){var t=e.getSettings();t.fixedRowsBottom=this.fixedRowsBottom,t.fixedRowsTop=this.fixedRowsTop,e.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),e.addHookOnce("afterViewRender",n),e.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")};Ie.RemoveRowAction.prototype.redo=function(e,n){e.addHookOnce("afterRemoveRow",n),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};Ie.CreateColumnAction=function(e,n){this.index=e,this.amount=n,this.actionType="insert_col"};Ui(Ie.CreateColumnAction,Ie.Action);Ie.CreateColumnAction.prototype.undo=function(e,n){e.addHookOnce("afterRemoveCol",n),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};Ie.CreateColumnAction.prototype.redo=function(e,n){e.addHookOnce("afterCreateCol",n),e.alter("insert_col",this.index,this.amount,"UndoRedo.redo")};Ie.RemoveColumnAction=function(e,n,t,r,i,o,a){this.index=e,this.indexes=n,this.data=t,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsLeft=a};Ui(Ie.RemoveColumnAction,Ie.Action);Ie.RemoveColumnAction.prototype.undo=function(e,n){var t=this,r=e.getSettings();r.fixedColumnsLeft=this.fixedColumnsLeft;for(var i=this.indexes.slice(0).sort(),o=function(h,d,g){return g[t.indexes.indexOf(i[d])]},a=this.data.length,s=[],l=0;l<a;l++)s.push(it(this.data[l],o));var u=it(this.headers,o),c=[];e.alter("insert_col",this.indexes[0],this.indexes.length,"UndoRedo.undo"),B(e.getSourceDataArray(),function(f,h){B(i,function(d,g){f[d]=s[h][g],c.push([h,d,f[d]])})}),e.setSourceDataAtCell(c,void 0,void 0,"UndoRedo.undo"),e.columnIndexMapper.insertIndexes(i[0],i.length),typeof this.headers!="undefined"&&B(u,function(f,h){e.getSettings().colHeaders[i[h]]=f}),e.batchExecution(function(){e.rowIndexMapper.setIndexesSequence(t.rowPositions),e.columnIndexMapper.setIndexesSequence(t.columnPositions)},!0),e.addHookOnce("afterViewRender",n),e.render()};Ie.RemoveColumnAction.prototype.redo=function(e,n){e.addHookOnce("afterRemoveCol",n),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};Ie.CellAlignmentAction=function(e,n,t,r){this.stateBefore=e,this.range=n,this.type=t,this.alignment=r};Ie.CellAlignmentAction.prototype.undo=function(e,n){var t=this;B(this.range,function(r){r.forAll(function(i,o){i>=0&&o>=0&&e.setCellMeta(i,o,"className",t.stateBefore[i][o]||" htLeft")})}),e.addHookOnce("afterViewRender",n),e.render()};Ie.CellAlignmentAction.prototype.redo=function(e,n){pa(this.range,this.type,this.alignment,function(t,r){return e.getCellMeta(t,r)},function(t,r,i,o){return e.setCellMeta(t,r,i,o)}),e.addHookOnce("afterViewRender",n),e.render()};Ie.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"};Ui(Ie.FiltersAction,Ie.Action);Ie.FiltersAction.prototype.undo=function(e,n){var t=e.getPlugin("filters");e.addHookOnce("afterViewRender",n),t.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),t.filter()};Ie.FiltersAction.prototype.redo=function(e,n){var t=e.getPlugin("filters");e.addHookOnce("afterViewRender",n),t.conditionCollection.importAllConditions(this.conditionsStack),t.filter()};var ZVe=function(e){u3(t,e);var n=c3(t);function t(r,i){var o;a3(this,t),o=n.call(this),o.cellRange=i;var a=o.cellRange.getTopLeftCorner(),s=o.cellRange.getBottomRightCorner();return o.rangeData=r.getData(a.row,a.col,s.row,s.col),o}return l3(t,[{key:"undo",value:function(i,o){var a=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),a.unmergeRange(this.cellRange,!0);var s=this.cellRange.getTopLeftCorner();i.populateFromArray(s.row,s.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(i,o){var a=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),a.mergeRange(this.cellRange)}}]),t}(Ie.Action);Ie.MergeCellsAction=ZVe;var QVe=function(e){u3(t,e);var n=c3(t);function t(r,i){var o;return a3(this,t),o=n.call(this),o.cellRange=i,o}return l3(t,[{key:"undo",value:function(i,o){var a=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),a.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(i,o){var a=i.getPlugin("mergeCells");i.addHookOnce("afterViewRender",o),a.unmergeRange(this.cellRange,!0),i.render()}}]),t}(Ie.Action);Ie.UnmergeCellsAction=QVe;Ie.RowMoveAction=function(e,n){this.rows=e.slice(),this.finalIndex=n,this.actionType="row_move"};Ui(Ie.RowMoveAction,Ie.Action);Ie.RowMoveAction.prototype.undo=function(e,n){var t=this,r=e.getPlugin("manualRowMove"),i=[].concat(this.rows),o=i.filter(function(c){return c>t.finalIndex}),a=i.filter(function(c){return c<=t.finalIndex}),s=o.sort(function(c,f){return f-c}).concat(a.sort(function(c,f){return c-f}));e.addHookOnce("afterViewRender",n);for(var l=0;l<s.length;l+=1){var u=e.toVisualRow(s[l]);r.moveRow(u,s[l])}e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};Ie.RowMoveAction.prototype.redo=function(e,n){var t=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",n),t.moveRows(this.rows.slice(),this.finalIndex),e.render(),e.deselectCell(),e.selectRows(this.finalIndex,this.finalIndex+this.rows.length-1)};Ie.prototype.init=function(){var e=this.instance.getSettings().undo,n=typeof e=="undefined"||e;this.instance.undoRedo||(this.instance.undoRedo=this),n?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};function d3(e){if(!Xr(e)){var n=this,t=n.getActiveEditor();if(!(t&&t.isOpened())){var r=e.altKey,i=e.ctrlKey,o=e.keyCode,a=e.metaKey,s=e.shiftKey,l=(i||a)&&!r;if(!!l){var u=o===89||s&&o===90;u?(n.undoRedo.redo(),Lt(e)):o===90&&(n.undoRedo.undo(),Lt(e))}}}}function g3(e,n){var t=this;if(n==="loadData")return t.undoRedo.clear()}function JVe(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function eWe(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}var Ch=De.getSingleton();Ch.add("afterUpdateSettings",function(){var e;(e=this.getPlugin("undoRedo"))===null||e===void 0||e.init()});Ch.register("beforeUndo");Ch.register("afterUndo");Ch.register("beforeRedo");Ch.register("afterRedo");Ie.PLUGIN_KEY=qVe;function tWe(){mt(ARe),mt(QRe),mt(gOe),mt(tEe),mt(yEe),mt(pV),mt(WTe),mt(vke),mt(zV),mt(HAe),mt(o1e),mt(g1e),mt(uW),mt(aMe),mt(k$e),mt(iDe),mt(TDe),mt(qDe),mt(mNe),mt(ZNe),mt(aLe),mt(BLe),mt(XLe),mt(DHe),mt(eFe),mt(fFe),mt(IBe),mt(B2e),mt(eVe),mt(yVe),mt(AVe),mt(FVe),mt(Ie)}function nWe(){o0e(),m0e(),P0e(),X0e(),tWe()}function rWe(e){var n=typeof window=="undefined"?!1:window.jQuery;!n||(n.fn.handsontable=function(t){var r=this.first(),i=r.data("handsontable");if(typeof t!="string"){var o=t||{};return i?i.updateSettings(o):(i=new e.Core(r[0],o),r.data("handsontable",i),i.init()),r}var a;if(i)if(typeof i[t]!="undefined"){for(var s,l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a=(s=i[t]).call.apply(s,[i].concat(u)),t==="destroy"&&r.removeData()}else throw new Error("Handsontable do not provide action: ".concat(t));return a})}var Yk,Gk,Kk,Xk,qk;nWe();rWe(tt);tt.__GhostTable=vE;tt._getListenersCounter=$he;tt._getRegisteredMapsCounter=ibe;tt.EventManager=Rt;var iWe=[Pie,Lie,Lme,E0e,Ore,xue,pue,wve,Iie,mue,age,gve],oWe=[Tue,Ahe];tt.helper={};tt.dom={};B(iWe,function(e){B(Object.getOwnPropertyNames(e),function(n){n.charAt(0)!=="_"&&(tt.helper[n]=e[n])})});B(oWe,function(e){B(Object.getOwnPropertyNames(e),function(n){n.charAt(0)!=="_"&&(tt.dom[n]=e[n])})});tt.cellTypes=(Yk=tt.cellTypes)!==null&&Yk!==void 0?Yk:{};B(Pme(),function(e){tt.cellTypes[e]=tv(e)});tt.cellTypes.registerCellType=qr;tt.cellTypes.getCellType=tv;tt.editors=(Gk=tt.editors)!==null&&Gk!==void 0?Gk:{};B(tpe(),function(e){tt.editors["".concat(Gr(e),"Editor")]=CH(e)});tt.editors.registerEditor=hr;tt.editors.getEditor=CH;tt.renderers=(Kk=tt.renderers)!==null&&Kk!==void 0?Kk:{};B(fme(),function(e){var n=F0(e);e==="base"&&(tt.renderers.cellDecorator=n),tt.renderers["".concat(Gr(e),"Renderer")]=n});tt.renderers.registerRenderer=Ji;tt.renderers.getRenderer=F0;tt.validators=(Xk=tt.validators)!==null&&Xk!==void 0?Xk:{};B(gme(),function(e){tt.validators["".concat(Gr(e),"Validator")]=B0(e)});tt.validators.registerValidator=Yl;tt.validators.getValidator=B0;tt.plugins=(qk=tt.plugins)!==null&&qk!==void 0?qk:{};B(H0(),function(e){tt.plugins[e]=Pf(e)});tt.plugins["".concat(Gr(wt.PLUGIN_KEY),"Plugin")]=wt;tt.plugins.registerPlugin=mt;tt.plugins.getPlugin=Pf;var p3={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(e){(function(n,t,r,i){var o=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),s="function",l=Math.round,u=Math.abs,c=Date.now;function f(O,x,W){return setTimeout(C(O,W),x)}function h(O,x,W){return Array.isArray(O)?(d(O,W[x],W),!0):!1}function d(O,x,W){var se;if(!!O)if(O.forEach)O.forEach(x,W);else if(O.length!==i)for(se=0;se<O.length;)x.call(W,O[se],se,O),se++;else for(se in O)O.hasOwnProperty(se)&&x.call(W,O[se],se,O)}function g(O,x,W){var se="DEPRECATED METHOD: "+x+`
`+W+` AT 
`;return function(){var ye=new Error("get-stack-trace"),Pe=ye&&ye.stack?ye.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ft=n.console&&(n.console.warn||n.console.log);return ft&&ft.call(n.console,se,Pe),O.apply(this,arguments)}}var p;typeof Object.assign!="function"?p=function(x){if(x===i||x===null)throw new TypeError("Cannot convert undefined or null to object");for(var W=Object(x),se=1;se<arguments.length;se++){var ye=arguments[se];if(ye!==i&&ye!==null)for(var Pe in ye)ye.hasOwnProperty(Pe)&&(W[Pe]=ye[Pe])}return W}:p=Object.assign;var v=g(function(x,W,se){for(var ye=Object.keys(W),Pe=0;Pe<ye.length;)(!se||se&&x[ye[Pe]]===i)&&(x[ye[Pe]]=W[ye[Pe]]),Pe++;return x},"extend","Use `assign`."),m=g(function(x,W){return v(x,W,!0)},"merge","Use `assign`.");function w(O,x,W){var se=x.prototype,ye;ye=O.prototype=Object.create(se),ye.constructor=O,ye._super=se,W&&p(ye,W)}function C(O,x){return function(){return O.apply(x,arguments)}}function E(O,x){return typeof O==s?O.apply(x&&x[0]||i,x):O}function k(O,x){return O===i?x:O}function $(O,x,W){d(X(x),function(se){O.addEventListener(se,W,!1)})}function D(O,x,W){d(X(x),function(se){O.removeEventListener(se,W,!1)})}function Y(O,x){for(;O;){if(O==x)return!0;O=O.parentNode}return!1}function L(O,x){return O.indexOf(x)>-1}function X(O){return O.trim().split(/\s+/g)}function te(O,x,W){if(O.indexOf&&!W)return O.indexOf(x);for(var se=0;se<O.length;){if(W&&O[se][W]==x||!W&&O[se]===x)return se;se++}return-1}function oe(O){return Array.prototype.slice.call(O,0)}function ie(O,x,W){for(var se=[],ye=[],Pe=0;Pe<O.length;){var ft=x?O[Pe][x]:O[Pe];te(ye,ft)<0&&se.push(O[Pe]),ye[Pe]=ft,Pe++}return W&&(x?se=se.sort(function(On,Hn){return On[x]>Hn[x]}):se=se.sort()),se}function de(O,x){for(var W,se,ye=x[0].toUpperCase()+x.slice(1),Pe=0;Pe<o.length;){if(W=o[Pe],se=W?W+ye:x,se in O)return se;Pe++}return i}var y=1;function S(){return y++}function b(O){var x=O.ownerDocument||O;return x.defaultView||x.parentWindow||n}var _=/mobile|tablet|ip(ad|hone|od)|android/i,A="ontouchstart"in n,N=de(n,"PointerEvent")!==i,I=A&&_.test(navigator.userAgent),R="touch",P="pen",H="mouse",V="kinect",q=25,K=1,ce=2,ue=4,ge=8,fe=1,be=2,Ee=4,re=8,He=16,Te=be|Ee,Ue=re|He,Ge=Te|Ue,Me=["x","y"],T=["clientX","clientY"];function M(O,x){var W=this;this.manager=O,this.callback=x,this.element=O.element,this.target=O.options.inputTarget,this.domHandler=function(se){E(O.options.enable,[O])&&W.handler(se)},this.init()}M.prototype={handler:function(){},init:function(){this.evEl&&$(this.element,this.evEl,this.domHandler),this.evTarget&&$(this.target,this.evTarget,this.domHandler),this.evWin&&$(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(b(this.element),this.evWin,this.domHandler)}};function F(O){var x,W=O.options.inputClass;return W?x=W:N?x=Ct:I?x=Xn:A?x=Js:x=Ke,new x(O,Q)}function Q(O,x,W){var se=W.pointers.length,ye=W.changedPointers.length,Pe=x&K&&se-ye==0,ft=x&(ue|ge)&&se-ye==0;W.isFirst=!!Pe,W.isFinal=!!ft,Pe&&(O.session={}),W.eventType=x,U(O,W),O.emit("hammer.input",W),O.recognize(W),O.session.prevInput=W}function U(O,x){var W=O.session,se=x.pointers,ye=se.length;W.firstInput||(W.firstInput=j(x)),ye>1&&!W.firstMultiple?W.firstMultiple=j(x):ye===1&&(W.firstMultiple=!1);var Pe=W.firstInput,ft=W.firstMultiple,Sn=ft?ft.center:Pe.center,On=x.center=Z(se);x.timeStamp=c(),x.deltaTime=x.timeStamp-Pe.timeStamp,x.angle=Re(Sn,On),x.distance=pe(Sn,On),J(W,x),x.offsetDirection=ne(x.deltaX,x.deltaY);var Hn=G(x.deltaTime,x.deltaX,x.deltaY);x.overallVelocityX=Hn.x,x.overallVelocityY=Hn.y,x.overallVelocity=u(Hn.x)>u(Hn.y)?Hn.x:Hn.y,x.scale=ft?Be(ft.pointers,se):1,x.rotation=ft?xe(ft.pointers,se):0,x.maxPointers=W.prevInput?x.pointers.length>W.prevInput.maxPointers?x.pointers.length:W.prevInput.maxPointers:x.pointers.length,z(W,x);var ri=O.element;Y(x.srcEvent.target,ri)&&(ri=x.srcEvent.target),x.target=ri}function J(O,x){var W=x.center,se=O.offsetDelta||{},ye=O.prevDelta||{},Pe=O.prevInput||{};(x.eventType===K||Pe.eventType===ue)&&(ye=O.prevDelta={x:Pe.deltaX||0,y:Pe.deltaY||0},se=O.offsetDelta={x:W.x,y:W.y}),x.deltaX=ye.x+(W.x-se.x),x.deltaY=ye.y+(W.y-se.y)}function z(O,x){var W=O.lastInterval||x,se=x.timeStamp-W.timeStamp,ye,Pe,ft,Sn;if(x.eventType!=ge&&(se>q||W.velocity===i)){var On=x.deltaX-W.deltaX,Hn=x.deltaY-W.deltaY,ri=G(se,On,Hn);Pe=ri.x,ft=ri.y,ye=u(ri.x)>u(ri.y)?ri.x:ri.y,Sn=ne(On,Hn),O.lastInterval=x}else ye=W.velocity,Pe=W.velocityX,ft=W.velocityY,Sn=W.direction;x.velocity=ye,x.velocityX=Pe,x.velocityY=ft,x.direction=Sn}function j(O){for(var x=[],W=0;W<O.pointers.length;)x[W]={clientX:l(O.pointers[W].clientX),clientY:l(O.pointers[W].clientY)},W++;return{timeStamp:c(),pointers:x,center:Z(x),deltaX:O.deltaX,deltaY:O.deltaY}}function Z(O){var x=O.length;if(x===1)return{x:l(O[0].clientX),y:l(O[0].clientY)};for(var W=0,se=0,ye=0;ye<x;)W+=O[ye].clientX,se+=O[ye].clientY,ye++;return{x:l(W/x),y:l(se/x)}}function G(O,x,W){return{x:x/O||0,y:W/O||0}}function ne(O,x){return O===x?fe:u(O)>=u(x)?O<0?be:Ee:x<0?re:He}function pe(O,x,W){W||(W=Me);var se=x[W[0]]-O[W[0]],ye=x[W[1]]-O[W[1]];return Math.sqrt(se*se+ye*ye)}function Re(O,x,W){W||(W=Me);var se=x[W[0]]-O[W[0]],ye=x[W[1]]-O[W[1]];return Math.atan2(ye,se)*180/Math.PI}function xe(O,x){return Re(x[1],x[0],T)+Re(O[1],O[0],T)}function Be(O,x){return pe(x[0],x[1],T)/pe(O[0],O[1],T)}var qe={mousedown:K,mousemove:ce,mouseup:ue},Ye="mousedown",Ne="mousemove mouseup";function Ke(){this.evEl=Ye,this.evWin=Ne,this.pressed=!1,M.apply(this,arguments)}w(Ke,M,{handler:function(x){var W=qe[x.type];W&K&&x.button===0&&(this.pressed=!0),W&ce&&x.which!==1&&(W=ue),!!this.pressed&&(W&ue&&(this.pressed=!1),this.callback(this.manager,W,{pointers:[x],changedPointers:[x],pointerType:H,srcEvent:x}))}});var yt={pointerdown:K,pointermove:ce,pointerup:ue,pointercancel:ge,pointerout:ge},Gn={2:R,3:P,4:H,5:V},ir="pointerdown",Kn="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(ir="MSPointerDown",Kn="MSPointerMove MSPointerUp MSPointerCancel");function Ct(){this.evEl=ir,this.evWin=Kn,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}w(Ct,M,{handler:function(x){var W=this.store,se=!1,ye=x.type.toLowerCase().replace("ms",""),Pe=yt[ye],ft=Gn[x.pointerType]||x.pointerType,Sn=ft==R,On=te(W,x.pointerId,"pointerId");Pe&K&&(x.button===0||Sn)?On<0&&(W.push(x),On=W.length-1):Pe&(ue|ge)&&(se=!0),!(On<0)&&(W[On]=x,this.callback(this.manager,Pe,{pointers:W,changedPointers:[x],pointerType:ft,srcEvent:x}),se&&W.splice(On,1))}});var _e={touchstart:K,touchmove:ce,touchend:ue,touchcancel:ge},le="touchstart",he="touchstart touchmove touchend touchcancel";function ke(){this.evTarget=le,this.evWin=he,this.started=!1,M.apply(this,arguments)}w(ke,M,{handler:function(x){var W=_e[x.type];if(W===K&&(this.started=!0),!!this.started){var se=bt.call(this,x,W);W&(ue|ge)&&se[0].length-se[1].length==0&&(this.started=!1),this.callback(this.manager,W,{pointers:se[0],changedPointers:se[1],pointerType:R,srcEvent:x})}}});function bt(O,x){var W=oe(O.touches),se=oe(O.changedTouches);return x&(ue|ge)&&(W=ie(W.concat(se),"identifier",!0)),[W,se]}var Xt={touchstart:K,touchmove:ce,touchend:ue,touchcancel:ge},Mn="touchstart touchmove touchend touchcancel";function Xn(){this.evTarget=Mn,this.targetIds={},M.apply(this,arguments)}w(Xn,M,{handler:function(x){var W=Xt[x.type],se=Lr.call(this,x,W);!se||this.callback(this.manager,W,{pointers:se[0],changedPointers:se[1],pointerType:R,srcEvent:x})}});function Lr(O,x){var W=oe(O.touches),se=this.targetIds;if(x&(K|ce)&&W.length===1)return se[W[0].identifier]=!0,[W,W];var ye,Pe,ft=oe(O.changedTouches),Sn=[],On=this.target;if(Pe=W.filter(function(Hn){return Y(Hn.target,On)}),x===K)for(ye=0;ye<Pe.length;)se[Pe[ye].identifier]=!0,ye++;for(ye=0;ye<ft.length;)se[ft[ye].identifier]&&Sn.push(ft[ye]),x&(ue|ge)&&delete se[ft[ye].identifier],ye++;if(!!Sn.length)return[ie(Pe.concat(Sn),"identifier",!0),Sn]}var Th=2500,ju=25;function Js(){M.apply(this,arguments);var O=C(this.handler,this);this.touch=new Xn(this.manager,O),this.mouse=new Ke(this.manager,O),this.primaryTouch=null,this.lastTouches=[]}w(Js,M,{handler:function(x,W,se){var ye=se.pointerType==R,Pe=se.pointerType==H;if(!(Pe&&se.sourceCapabilities&&se.sourceCapabilities.firesTouchEvents)){if(ye)kh.call(this,W,se);else if(Pe&&Ve.call(this,se))return;this.callback(x,W,se)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function kh(O,x){O&K?(this.primaryTouch=x.changedPointers[0].identifier,Ah.call(this,x)):O&(ue|ge)&&Ah.call(this,x)}function Ah(O){var x=O.changedPointers[0];if(x.identifier===this.primaryTouch){var W={x:x.clientX,y:x.clientY};this.lastTouches.push(W);var se=this.lastTouches,ye=function(){var Pe=se.indexOf(W);Pe>-1&&se.splice(Pe,1)};setTimeout(ye,Th)}}function Ve(O){for(var x=O.srcEvent.clientX,W=O.srcEvent.clientY,se=0;se<this.lastTouches.length;se++){var ye=this.lastTouches[se],Pe=Math.abs(x-ye.x),ft=Math.abs(W-ye.y);if(Pe<=ju&&ft<=ju)return!0}return!1}var ee=de(a.style,"touchAction"),Se=ee!==i,$e="compute",St="auto",ln="manipulation",Ht="none",qt="pan-x",Ln="pan-y",ti=rA();function el(O,x){this.manager=O,this.set(x)}el.prototype={set:function(O){O==$e&&(O=this.compute()),Se&&this.manager.element.style&&ti[O]&&(this.manager.element.style[ee]=O),this.actions=O.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var O=[];return d(this.manager.recognizers,function(x){E(x.options.enable,[x])&&(O=O.concat(x.getTouchAction()))}),lb(O.join(" "))},preventDefaults:function(O){var x=O.srcEvent,W=O.offsetDirection;if(this.manager.session.prevented){x.preventDefault();return}var se=this.actions,ye=L(se,Ht)&&!ti[Ht],Pe=L(se,Ln)&&!ti[Ln],ft=L(se,qt)&&!ti[qt];if(ye){var Sn=O.pointers.length===1,On=O.distance<2,Hn=O.deltaTime<250;if(Sn&&On&&Hn)return}if(!(ft&&Pe)&&(ye||Pe&&W&Te||ft&&W&Ue))return this.preventSrc(x)},preventSrc:function(O){this.manager.session.prevented=!0,O.preventDefault()}};function lb(O){if(L(O,Ht))return Ht;var x=L(O,qt),W=L(O,Ln);return x&&W?Ht:x||W?x?qt:Ln:L(O,ln)?ln:St}function rA(){if(!Se)return!1;var O={},x=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(W){O[W]=x?n.CSS.supports("touch-action",W):!0}),O}var Mh=1,yr=2,tl=4,xo=8,Ai=xo,Uu=16,ni=32;function Mi(O){this.options=p({},this.defaults,O||{}),this.id=S(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=Mh,this.simultaneous={},this.requireFail=[]}Mi.prototype={defaults:{},set:function(O){return p(this.options,O),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(O){if(h(O,"recognizeWith",this))return this;var x=this.simultaneous;return O=xh(O,this),x[O.id]||(x[O.id]=O,O.recognizeWith(this)),this},dropRecognizeWith:function(O){return h(O,"dropRecognizeWith",this)?this:(O=xh(O,this),delete this.simultaneous[O.id],this)},requireFailure:function(O){if(h(O,"requireFailure",this))return this;var x=this.requireFail;return O=xh(O,this),te(x,O)===-1&&(x.push(O),O.requireFailure(this)),this},dropRequireFailure:function(O){if(h(O,"dropRequireFailure",this))return this;O=xh(O,this);var x=te(this.requireFail,O);return x>-1&&this.requireFail.splice(x,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(O){return!!this.simultaneous[O.id]},emit:function(O){var x=this,W=this.state;function se(ye){x.manager.emit(ye,O)}W<xo&&se(x.options.event+iA(W)),se(x.options.event),O.additionalEvent&&se(O.additionalEvent),W>=xo&&se(x.options.event+iA(W))},tryEmit:function(O){if(this.canEmit())return this.emit(O);this.state=ni},canEmit:function(){for(var O=0;O<this.requireFail.length;){if(!(this.requireFail[O].state&(ni|Mh)))return!1;O++}return!0},recognize:function(O){var x=p({},O);if(!E(this.options.enable,[this,x])){this.reset(),this.state=ni;return}this.state&(Ai|Uu|ni)&&(this.state=Mh),this.state=this.process(x),this.state&(yr|tl|xo|Uu)&&this.tryEmit(x)},process:function(O){},getTouchAction:function(){},reset:function(){}};function iA(O){return O&Uu?"cancel":O&xo?"end":O&tl?"move":O&yr?"start":""}function oA(O){return O==He?"down":O==re?"up":O==be?"left":O==Ee?"right":""}function xh(O,x){var W=x.manager;return W?W.get(O):O}function Hr(){Mi.apply(this,arguments)}w(Hr,Mi,{defaults:{pointers:1},attrTest:function(O){var x=this.options.pointers;return x===0||O.pointers.length===x},process:function(O){var x=this.state,W=O.eventType,se=x&(yr|tl),ye=this.attrTest(O);return se&&(W&ge||!ye)?x|Uu:se||ye?W&ue?x|xo:x&yr?x|tl:yr:ni}});function Ph(){Hr.apply(this,arguments),this.pX=null,this.pY=null}w(Ph,Hr,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ge},getTouchAction:function(){var O=this.options.direction,x=[];return O&Te&&x.push(Ln),O&Ue&&x.push(qt),x},directionTest:function(O){var x=this.options,W=!0,se=O.distance,ye=O.direction,Pe=O.deltaX,ft=O.deltaY;return ye&x.direction||(x.direction&Te?(ye=Pe===0?fe:Pe<0?be:Ee,W=Pe!=this.pX,se=Math.abs(O.deltaX)):(ye=ft===0?fe:ft<0?re:He,W=ft!=this.pY,se=Math.abs(O.deltaY))),O.direction=ye,W&&se>x.threshold&&ye&x.direction},attrTest:function(O){return Hr.prototype.attrTest.call(this,O)&&(this.state&yr||!(this.state&yr)&&this.directionTest(O))},emit:function(O){this.pX=O.deltaX,this.pY=O.deltaY;var x=oA(O.direction);x&&(O.additionalEvent=this.options.event+x),this._super.emit.call(this,O)}});function ub(){Hr.apply(this,arguments)}w(ub,Hr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ht]},attrTest:function(O){return this._super.attrTest.call(this,O)&&(Math.abs(O.scale-1)>this.options.threshold||this.state&yr)},emit:function(O){if(O.scale!==1){var x=O.scale<1?"in":"out";O.additionalEvent=this.options.event+x}this._super.emit.call(this,O)}});function cb(){Mi.apply(this,arguments),this._timer=null,this._input=null}w(cb,Mi,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[St]},process:function(O){var x=this.options,W=O.pointers.length===x.pointers,se=O.distance<x.threshold,ye=O.deltaTime>x.time;if(this._input=O,!se||!W||O.eventType&(ue|ge)&&!ye)this.reset();else if(O.eventType&K)this.reset(),this._timer=f(function(){this.state=Ai,this.tryEmit()},x.time,this);else if(O.eventType&ue)return Ai;return ni},reset:function(){clearTimeout(this._timer)},emit:function(O){this.state===Ai&&(O&&O.eventType&ue?this.manager.emit(this.options.event+"up",O):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}});function fb(){Hr.apply(this,arguments)}w(fb,Hr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ht]},attrTest:function(O){return this._super.attrTest.call(this,O)&&(Math.abs(O.rotation)>this.options.threshold||this.state&yr)}});function hb(){Hr.apply(this,arguments)}w(hb,Hr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Te|Ue,pointers:1},getTouchAction:function(){return Ph.prototype.getTouchAction.call(this)},attrTest:function(O){var x=this.options.direction,W;return x&(Te|Ue)?W=O.overallVelocity:x&Te?W=O.overallVelocityX:x&Ue&&(W=O.overallVelocityY),this._super.attrTest.call(this,O)&&x&O.offsetDirection&&O.distance>this.options.threshold&&O.maxPointers==this.options.pointers&&u(W)>this.options.velocity&&O.eventType&ue},emit:function(O){var x=oA(O.offsetDirection);x&&this.manager.emit(this.options.event+x,O),this.manager.emit(this.options.event,O)}});function Ih(){Mi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}w(Ih,Mi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ln]},process:function(O){var x=this.options,W=O.pointers.length===x.pointers,se=O.distance<x.threshold,ye=O.deltaTime<x.time;if(this.reset(),O.eventType&K&&this.count===0)return this.failTimeout();if(se&&ye&&W){if(O.eventType!=ue)return this.failTimeout();var Pe=this.pTime?O.timeStamp-this.pTime<x.interval:!0,ft=!this.pCenter||pe(this.pCenter,O.center)<x.posThreshold;this.pTime=O.timeStamp,this.pCenter=O.center,!ft||!Pe?this.count=1:this.count+=1,this._input=O;var Sn=this.count%x.taps;if(Sn===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Ai,this.tryEmit()},x.interval,this),yr):Ai}return ni},failTimeout:function(){return this._timer=f(function(){this.state=ni},this.options.interval,this),ni},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ai&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function xi(O,x){return x=x||{},x.recognizers=k(x.recognizers,xi.defaults.preset),new db(O,x)}xi.VERSION="2.0.7",xi.defaults={domEvents:!1,touchAction:$e,enable:!0,inputTarget:null,inputClass:null,preset:[[fb,{enable:!1}],[ub,{enable:!1},["rotate"]],[hb,{direction:Te}],[Ph,{direction:Te},["swipe"]],[Ih],[Ih,{event:"doubletap",taps:2},["tap"]],[cb]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var I3=1,aA=2;function db(O,x){this.options=p({},xi.defaults,x||{}),this.options.inputTarget=this.options.inputTarget||O,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=O,this.input=F(this),this.touchAction=new el(this,this.options.touchAction),sA(this,!0),d(this.options.recognizers,function(W){var se=this.add(new W[0](W[1]));W[2]&&se.recognizeWith(W[2]),W[3]&&se.requireFailure(W[3])},this)}db.prototype={set:function(O){return p(this.options,O),O.touchAction&&this.touchAction.update(),O.inputTarget&&(this.input.destroy(),this.input.target=O.inputTarget,this.input.init()),this},stop:function(O){this.session.stopped=O?aA:I3},recognize:function(O){var x=this.session;if(!x.stopped){this.touchAction.preventDefaults(O);var W,se=this.recognizers,ye=x.curRecognizer;(!ye||ye&&ye.state&Ai)&&(ye=x.curRecognizer=null);for(var Pe=0;Pe<se.length;)W=se[Pe],x.stopped!==aA&&(!ye||W==ye||W.canRecognizeWith(ye))?W.recognize(O):W.reset(),!ye&&W.state&(yr|tl|xo)&&(ye=x.curRecognizer=W),Pe++}},get:function(O){if(O instanceof Mi)return O;for(var x=this.recognizers,W=0;W<x.length;W++)if(x[W].options.event==O)return x[W];return null},add:function(O){if(h(O,"add",this))return this;var x=this.get(O.options.event);return x&&this.remove(x),this.recognizers.push(O),O.manager=this,this.touchAction.update(),O},remove:function(O){if(h(O,"remove",this))return this;if(O=this.get(O),O){var x=this.recognizers,W=te(x,O);W!==-1&&(x.splice(W,1),this.touchAction.update())}return this},on:function(O,x){if(O!==i&&x!==i){var W=this.handlers;return d(X(O),function(se){W[se]=W[se]||[],W[se].push(x)}),this}},off:function(O,x){if(O!==i){var W=this.handlers;return d(X(O),function(se){x?W[se]&&W[se].splice(te(W[se],x),1):delete W[se]}),this}},emit:function(O,x){this.options.domEvents&&$3(O,x);var W=this.handlers[O]&&this.handlers[O].slice();if(!(!W||!W.length)){x.type=O,x.preventDefault=function(){x.srcEvent.preventDefault()};for(var se=0;se<W.length;)W[se](x),se++}},destroy:function(){this.element&&sA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function sA(O,x){var W=O.element;if(!!W.style){var se;d(O.options.cssProps,function(ye,Pe){se=de(W.style,Pe),x?(O.oldCssProps[se]=W.style[se],W.style[se]=ye):W.style[se]=O.oldCssProps[se]||""}),x||(O.oldCssProps={})}}function $3(O,x){var W=t.createEvent("Event");W.initEvent(O,!0,!0),W.gesture=x,x.target.dispatchEvent(W)}p(xi,{INPUT_START:K,INPUT_MOVE:ce,INPUT_END:ue,INPUT_CANCEL:ge,STATE_POSSIBLE:Mh,STATE_BEGAN:yr,STATE_CHANGED:tl,STATE_ENDED:xo,STATE_RECOGNIZED:Ai,STATE_CANCELLED:Uu,STATE_FAILED:ni,DIRECTION_NONE:fe,DIRECTION_LEFT:be,DIRECTION_RIGHT:Ee,DIRECTION_UP:re,DIRECTION_DOWN:He,DIRECTION_HORIZONTAL:Te,DIRECTION_VERTICAL:Ue,DIRECTION_ALL:Ge,Manager:db,Input:M,TouchAction:el,TouchInput:Xn,MouseInput:Ke,PointerEventInput:Ct,TouchMouseInput:Js,SingleTouchInput:ke,Recognizer:Mi,AttrRecognizer:Hr,Tap:Ih,Pan:Ph,Swipe:hb,Pinch:ub,Rotate:fb,Press:cb,on:$,off:D,each:d,merge:m,extend:v,assign:p,inherit:w,bindFn:C,prefixed:de});var D3=typeof n!="undefined"?n:typeof self!="undefined"?self:{};D3.Hammer=xi,typeof i=="function"&&i.amd?i(function(){return xi}):e.exports?e.exports=xi:n[r]=xi})(window,document,"Hammer")})(p3);var Rh=p3.exports;/*!
* chartjs-plugin-zoom v1.2.0
* undefined
 * (c) 2016-2021 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const Oh=e=>e&&e.enabled&&e.modifierKey,v3=(e,n)=>e&&n[e+"Key"],Zk=(e,n)=>e&&!n[e+"Key"];function rr(e,n,t){return e===void 0?!0:typeof e=="string"?e.indexOf(n)!==-1:typeof e=="function"?e({chart:t}).indexOf(n)!==-1:!1}function aWe(e,n){let t;return function(){return clearTimeout(t),t=setTimeout(e,n),n}}function sWe({x:e,y:n},t){const r=t.scales,i=Object.keys(r);for(let o=0;o<i.length;o++){const a=r[i[o]];if(n>=a.top&&n<=a.bottom&&e>=a.left&&e<=a.right)return a}return null}function m3(e,n,t){const r=sWe(n,t);if(r&&rr(e,r.axis,t))return[r];const i=[];return ht(t.scales,function(o){rr(e,o.axis,t)||i.push(o)}),i}const Qk=new WeakMap;function dn(e){let n=Qk.get(e);return n||(n={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{}},Qk.set(e,n)),n}function lWe(e){Qk.delete(e)}function y3(e,n,t){const r=e.max-e.min,i=r*(n-1),o=e.isHorizontal()?t.x:t.y,a=Math.max(0,Math.min(1,(e.getValueForPixel(o)-e.min)/r||0)),s=1-a;return{min:i*a,max:i*s}}function b3(e,n,t,r,i){let o=t[r];if(o==="original"){const a=e.originalScaleLimits[n.id][r];o=Ze(a.options,a.scale)}return Ze(o,i)}function Qs(e,{min:n,max:t},r,i=!1){const o=dn(e.chart),{id:a,axis:s,options:l}=e,u=r&&(r[a]||r[s])||{},{minRange:c=0}=u,f=b3(o,e,u,"min",-1/0),h=b3(o,e,u,"max",1/0),d=Math.max(n,f),g=Math.min(t,h),p=i?Math.max(g-d,c):e.max-e.min;if(g-d!==p)if(f>g-p)n=d,t=d+p;else if(h<d+p)t=g,n=g-p;else{const v=(p-g+d)/2;n=d-v,t=g+v}else n=d,t=g;return l.min=n,l.max=t,o.updatedScaleLimits[e.id]={min:n,max:t},e.parse(n)!==e.min||e.parse(t)!==e.max}function uWe(e,n,t,r){const i=y3(e,n,t),o={min:e.min+i.min,max:e.max-i.max};return Qs(e,o,r,!0)}const w3=e=>e===0||isNaN(e)?0:e<0?Math.min(Math.round(e),-1):Math.max(Math.round(e),1);function cWe(e){const t=e.getLabels().length-1;e.min>0&&(e.min-=1),e.max<t&&(e.max+=1)}function fWe(e,n,t,r){const i=y3(e,n,t);e.min===e.max&&n<1&&cWe(e);const o={min:e.min+w3(i.min),max:e.max-w3(i.max)};return Qs(e,o,r,!0)}function hWe(e){return e.isHorizontal()?e.width:e.height}function dWe(e,n,t){const i=e.getLabels().length-1;let{min:o,max:a}=e;const s=Math.max(a-o,1),l=Math.round(hWe(e)/Math.max(s,10)),u=Math.round(Math.abs(n/l));let c;return n<-l?(a=Math.min(a+u,i),o=s===1?a:a-s,c=a===i):n>l&&(o=Math.max(0,o-u),a=s===1?o:o+s,c=o===0),Qs(e,{min:o,max:a},t)||c}const gWe={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function _3(e,n,t,r=!1){const{min:i,max:o,options:a}=e,s=a.time&&a.time.round,l=gWe[s]||0,u=e.getValueForPixel(e.getPixelForValue(i+l)-n),c=e.getValueForPixel(e.getPixelForValue(o+l)-n),{min:f=-1/0,max:h=1/0}=r&&t&&t[e.axis]||{};return isNaN(u)||isNaN(c)||u<f||c>h?!0:Qs(e,{min:u,max:c},t,r)}function S3(e,n,t){return _3(e,n,t,!0)}const Jk={category:fWe,default:uWe},eA={category:dWe,default:_3,logarithmic:S3,timeseries:S3};function pWe(e,n,t){const{id:r,options:{min:i,max:o}}=e;if(!n[r]||!t[r])return!0;const a=t[r];return a.min!==i||a.max!==o}function C3(e,n){ht(e,(t,r)=>{n[r]||delete e[r]})}function Eh(e,n){const{scales:t}=e,{originalScaleLimits:r,updatedScaleLimits:i}=n;return ht(t,function(o){pWe(o,r,i)&&(r[o.id]={min:{scale:o.min,options:o.options.min},max:{scale:o.max,options:o.options.max}})}),C3(r,t),C3(i,t),r}function R3(e,n,t,r){const i=Jk[e.type]||Jk.default;nt(i,[e,n,t,r])}function vWe(e){const n=e.chartArea;return{x:(n.left+n.right)/2,y:(n.top+n.bottom)/2}}function tA(e,n,t="none"){const{x:r=1,y:i=1,focalPoint:o=vWe(e)}=typeof n=="number"?{x:n,y:n}:n,a=dn(e),{options:{limits:s,zoom:l}}=a,{mode:u="xy",overScaleMode:c}=l||{};Eh(e,a);const f=r!==1&&rr(u,"x",e),h=i!==1&&rr(u,"y",e),d=c&&m3(c,o,e);ht(d||e.scales,function(g){g.isHorizontal()&&f?R3(g,r,o,s):!g.isHorizontal()&&h&&R3(g,i,o,s)}),e.update(t),nt(l.onZoom,[{chart:e}])}function O3(e,n,t){const r=e.getValueForPixel(n),i=e.getValueForPixel(t);return{min:Math.min(r,i),max:Math.max(r,i)}}function mWe(e,n,t,r="none"){const i=dn(e),{options:{limits:o,zoom:a}}=i,{mode:s="xy"}=a;Eh(e,i);const l=rr(s,"x",e),u=rr(s,"y",e);ht(e.scales,function(c){c.isHorizontal()&&l?Qs(c,O3(c,n.x,t.x),o,!0):!c.isHorizontal()&&u&&Qs(c,O3(c,n.y,t.y),o,!0)}),e.update(r),nt(a.onZoom,[{chart:e}])}function yWe(e,n,t,r="none"){Eh(e,dn(e));const i=e.scales[n];Qs(i,t,void 0,!0),e.update(r)}function bWe(e,n="default"){const t=dn(e),r=Eh(e,t);ht(e.scales,function(i){const o=i.options;r[i.id]?(o.min=r[i.id].min.options,o.max=r[i.id].max.options):(delete o.min,delete o.max)}),e.update(n),nt(t.options.zoom.onZoomComplete,[{chart:e}])}function wWe(e,n){const t=e.originalScaleLimits[n];if(!t)return;const{min:r,max:i}=t;return Ze(i.options,i.scale)-Ze(r.options,r.scale)}function _We(e){const n=dn(e);let t=1,r=1;return ht(e.scales,function(i){const o=wWe(n,i.id);if(o){const a=Math.round(o/(i.max-i.min)*100)/100;t=Math.min(t,a),r=Math.max(r,a)}}),t<1?t:r}function E3(e,n,t,r){const{panDelta:i}=r,o=i[e.id]||0;Sr(o)===Sr(n)&&(n+=o);const a=eA[e.type]||eA.default;nt(a,[e,n,t])?i[e.id]=0:i[e.id]=n}function T3(e,n,t,r="none"){const{x:i=0,y:o=0}=typeof n=="number"?{x:n,y:n}:n,a=dn(e),{options:{pan:s,limits:l}}=a,{mode:u="xy",onPan:c}=s||{};Eh(e,a);const f=i!==0&&rr(u,"x",e),h=o!==0&&rr(u,"y",e);ht(t||e.scales,function(d){d.isHorizontal()&&f?E3(d,i,l,a):!d.isHorizontal()&&h&&E3(d,o,l,a)}),e.update(r),nt(c,[{chart:e}])}function k3(e){const n=dn(e),t={};for(const r of Object.keys(e.scales)){const{min:i,max:o}=n.originalScaleLimits[r]||{min:{},max:{}};t[r]={min:i.scale,max:o.scale}}return t}function SWe(e){const n=k3(e);for(const t of Object.keys(e.scales)){const{min:r,max:i}=n[t];if(e.scales[t].min!==r||e.scales[t].max!==i)return!0}return!1}function ei(e,n){const{handlers:t}=dn(e),r=t[n];r&&r.target&&(r.target.removeEventListener(n,r),delete t[n])}function sb(e,n,t,r){const{handlers:i,options:o}=dn(e);ei(e,t),i[t]=a=>r(e,a,o),i[t].target=n,n.addEventListener(t,i[t])}function CWe(e,n){const t=dn(e);t.dragStart&&(t.dragging=!0,t.dragEnd=n,e.update("none"))}function A3(e,n,t){const{onZoomStart:r,onZoomRejected:i}=t;if(r){const{left:o,top:a}=n.target.getBoundingClientRect(),s={x:n.clientX-o,y:n.clientY-a};if(nt(r,[{chart:e,event:n,point:s}])===!1)return nt(i,[{chart:e,event:n}]),!1}}function RWe(e,n){const t=dn(e),{pan:r,zoom:i={}}=t.options;if(v3(Oh(r),n)||Zk(Oh(i.drag),n))return nt(i.onZoomRejected,[{chart:e,event:n}]);A3(e,n,i)!==!1&&(t.dragStart=n,sb(e,e.canvas,"mousemove",CWe))}function M3(e,n,t,r){const{left:i,top:o}=t.target.getBoundingClientRect(),a=rr(n,"x",e),s=rr(n,"y",e);let{top:l,left:u,right:c,bottom:f,width:h,height:d}=e.chartArea;a&&(u=Math.min(t.clientX,r.clientX)-i,c=Math.max(t.clientX,r.clientX)-i),s&&(l=Math.min(t.clientY,r.clientY)-o,f=Math.max(t.clientY,r.clientY)-o);const g=c-u,p=f-l;return{left:u,top:l,right:c,bottom:f,width:g,height:p,zoomX:a&&g?1+(h-g)/h:1,zoomY:s&&p?1+(d-p)/d:1}}function OWe(e,n){const t=dn(e);if(!t.dragStart)return;ei(e,"mousemove");const{mode:r,onZoomComplete:i,drag:{threshold:o=0}}=t.options.zoom,a=M3(e,r,t.dragStart,n),s=rr(r,"x",e)?a.width:0,l=rr(r,"y",e)?a.height:0,u=Math.sqrt(s*s+l*l);if(t.dragStart=t.dragEnd=null,u<=o){t.dragging=!1,e.update("none");return}mWe(e,{x:a.left,y:a.top},{x:a.right,y:a.bottom},"zoom"),setTimeout(()=>t.dragging=!1,500),nt(i,[{chart:e}])}function EWe(e,n,t){if(Zk(Oh(t.wheel),n)){nt(t.onZoomRejected,[{chart:e,event:n}]);return}if(A3(e,n,t)!==!1&&(n.cancelable&&n.preventDefault(),n.deltaY!==void 0))return!0}function TWe(e,n){const{handlers:{onZoomComplete:t},options:{zoom:r}}=dn(e);if(!EWe(e,n,r))return;const i=n.target.getBoundingClientRect(),o=1+(n.deltaY>=0?-r.wheel.speed:r.wheel.speed),a={x:o,y:o,focalPoint:{x:n.clientX-i.left,y:n.clientY-i.top}};tA(e,a),t&&t()}function kWe(e,n,t,r){t&&(dn(e).handlers[n]=aWe(()=>nt(t,[{chart:e}]),r))}function AWe(e,n){const t=e.canvas,{wheel:r,drag:i,onZoomComplete:o}=n.zoom;r.enabled?(sb(e,t,"wheel",TWe),kWe(e,"onZoomComplete",o,250)):ei(e,"wheel"),i.enabled?(sb(e,t,"mousedown",RWe),sb(e,t.ownerDocument,"mouseup",OWe)):(ei(e,"mousedown"),ei(e,"mousemove"),ei(e,"mouseup"))}function MWe(e){ei(e,"mousedown"),ei(e,"mousemove"),ei(e,"mouseup"),ei(e,"wheel"),ei(e,"click")}function xWe(e,n){return function(t,r){const{pan:i,zoom:o={}}=n.options;if(!i||!i.enabled)return!1;const a=r&&r.srcEvent;return a&&!n.panning&&r.pointerType==="mouse"&&(Zk(Oh(i),a)||v3(Oh(o.drag),a))?(nt(i.onPanRejected,[{chart:e,event:r}]),!1):!0}}function PWe(e,n){const t=Math.abs(e.clientX-n.clientX),r=Math.abs(e.clientY-n.clientY),i=t/r;let o,a;return i>.3&&i<1.7?o=a=!0:t>r?o=!0:a=!0,{x:o,y:a}}function x3(e,n,t){if(n.scale){const{center:r,pointers:i}=t,o=1/n.scale*t.scale,a=t.target.getBoundingClientRect(),s=PWe(i[0],i[1]),l=n.options.zoom.mode,u={x:s.x&&rr(l,"x",e)?o:1,y:s.y&&rr(l,"y",e)?o:1,focalPoint:{x:r.x-a.left,y:r.y-a.top}};tA(e,u),n.scale=t.scale}}function IWe(e,n){n.options.zoom.pinch.enabled&&(n.scale=1)}function $We(e,n,t){n.scale&&(x3(e,n,t),n.scale=null,nt(n.options.zoom.onZoomComplete,[{chart:e}]))}function P3(e,n,t){const r=n.delta;r&&(n.panning=!0,T3(e,{x:t.deltaX-r.x,y:t.deltaY-r.y},n.panScales),n.delta={x:t.deltaX,y:t.deltaY})}function DWe(e,n,t){const{enabled:r,overScaleMode:i,onPanStart:o,onPanRejected:a}=n.options.pan;if(!r)return;const s=t.target.getBoundingClientRect(),l={x:t.center.x-s.left,y:t.center.y-s.top};if(nt(o,[{chart:e,event:t,point:l}])===!1)return nt(a,[{chart:e,event:t}]);n.panScales=i&&m3(i,l,e),n.delta={x:0,y:0},clearTimeout(n.panEndTimeout),P3(e,n,t)}function NWe(e,n){n.delta=null,n.panning&&(n.panEndTimeout=setTimeout(()=>n.panning=!1,500),nt(n.options.pan.onPanComplete,[{chart:e}]))}const nA=new WeakMap;function LWe(e,n){const t=dn(e),r=e.canvas,{pan:i,zoom:o}=n,a=new Rh.Manager(r);o&&o.pinch.enabled&&(a.add(new Rh.Pinch),a.on("pinchstart",()=>IWe(e,t)),a.on("pinch",s=>x3(e,t,s)),a.on("pinchend",s=>$We(e,t,s))),i&&i.enabled&&(a.add(new Rh.Pan({threshold:i.threshold,enable:xWe(e,t)})),a.on("panstart",s=>DWe(e,t,s)),a.on("panmove",s=>P3(e,t,s)),a.on("panend",()=>NWe(e,t))),nA.set(e,a)}function HWe(e){const n=nA.get(e);n&&(n.remove("pinchstart"),n.remove("pinch"),n.remove("pinchend"),n.remove("panstart"),n.remove("pan"),n.remove("panend"),n.destroy(),nA.delete(e))}var FWe="1.2.0",VWe={id:"zoom",version:FWe,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(e,n,t){const r=dn(e);r.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),Rh&&LWe(e,t),e.pan=(i,o,a)=>T3(e,i,o,a),e.zoom=(i,o)=>tA(e,i,o),e.zoomScale=(i,o,a)=>yWe(e,i,o,a),e.resetZoom=i=>bWe(e,i),e.getZoomLevel=()=>_We(e),e.getInitialScaleBounds=()=>k3(e),e.isZoomedOrPanned=()=>SWe(e)},beforeEvent(e){const n=dn(e);if(n.panning||n.dragging)return!1},beforeUpdate:function(e,n,t){const r=dn(e);r.options=t,AWe(e,t)},beforeDatasetsDraw:function(e,n,t){const{dragStart:r,dragEnd:i}=dn(e);if(i){const{left:o,top:a,width:s,height:l}=M3(e,t.zoom.mode,r,i),u=t.zoom.drag,c=e.ctx;c.save(),c.beginPath(),c.fillStyle=u.backgroundColor||"rgba(225,225,225,0.3)",c.fillRect(o,a,s,l),u.borderWidth>0&&(c.lineWidth=u.borderWidth,c.strokeStyle=u.borderColor||"rgba(225,225,225)",c.strokeRect(o,a,s,l)),c.restore()}},stop:function(e){MWe(e),Rh&&HWe(e),lWe(e)},panFunctions:eA,zoomFunctions:Jk};export{Yb as C,W3 as F,tt as H,gA as a,VWe as p};
